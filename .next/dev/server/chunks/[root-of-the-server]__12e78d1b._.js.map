{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/lib/email.ts"],"sourcesContent":["import { Resend } from 'resend'\n\nfunction getResend() {\n  return new Resend(process.env.RESEND_API_KEY!)\n}\n\nconst FROM_ADDRESS = 'BedRock <noreply@bedrockhq.co>'\n\nexport async function sendEmail(to: string, subject: string, html: string) {\n  const resend = getResend()\n  const { data, error } = await resend.emails.send({\n    from: FROM_ADDRESS,\n    to,\n    subject,\n    html,\n  })\n\n  if (error) {\n    console.error('Failed to send email:', error)\n    throw error\n  }\n\n  return data\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,SAAS;IACP,OAAO,IAAI,oJAAM,CAAC,QAAQ,GAAG,CAAC,cAAc;AAC9C;AAEA,MAAM,eAAe;AAEd,eAAe,UAAU,EAAU,EAAE,OAAe,EAAE,IAAY;IACvE,MAAM,SAAS;IACf,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;QAC/C,MAAM;QACN;QACA;QACA;IACF;IAEA,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM;IACR;IAEA,OAAO;AACT"}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/lib/email-templates.ts"],"sourcesContent":["function baseTemplate(content: string): string {\n  return `<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n</head>\n<body style=\"margin:0;padding:0;background-color:#f9fafb;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;\">\n  <div style=\"max-width:560px;margin:0 auto;padding:40px 20px;\">\n    <div style=\"text-align:center;margin-bottom:32px;\">\n      <span style=\"font-size:24px;font-weight:bold;color:#1e40af;\">BedRock</span>\n    </div>\n    <div style=\"background:#ffffff;border-radius:8px;padding:32px;border:1px solid #e5e7eb;\">\n      ${content}\n    </div>\n    <div style=\"text-align:center;margin-top:32px;color:#9ca3af;font-size:12px;\">\n      <p>&copy; ${new Date().getFullYear()} BedRock. All rights reserved.</p>\n    </div>\n  </div>\n</body>\n</html>`\n}\n\nexport function welcomeEmail(name: string): string {\n  return baseTemplate(`\n    <h1 style=\"margin:0 0 16px;font-size:20px;color:#111827;\">Welcome to BedRock, ${name}!</h1>\n    <p style=\"margin:0 0 16px;color:#4b5563;line-height:1.6;\">\n      Your account has been created. You're now on your way to getting a US business bank account.\n    </p>\n    <p style=\"margin:0 0 24px;color:#4b5563;line-height:1.6;\">\n      Here's what to do next:\n    </p>\n    <ol style=\"margin:0 0 24px;padding-left:20px;color:#4b5563;line-height:1.8;\">\n      <li>Choose a plan that fits your needs</li>\n      <li>Start the LLC formation process</li>\n      <li>Apply for your US bank account</li>\n    </ol>\n    <div style=\"text-align:center;\">\n      <a href=\"${process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'}/dashboard\"\n         style=\"display:inline-block;background:#2563eb;color:#ffffff;padding:12px 24px;border-radius:6px;text-decoration:none;font-weight:500;\">\n        Go to Dashboard\n      </a>\n    </div>\n  `)\n}\n\nexport function paymentConfirmationEmail(name: string, tier: string, amount: number): string {\n  const tierName = tier.charAt(0).toUpperCase() + tier.slice(1)\n  return baseTemplate(`\n    <h1 style=\"margin:0 0 16px;font-size:20px;color:#111827;\">Payment Confirmed</h1>\n    <p style=\"margin:0 0 16px;color:#4b5563;line-height:1.6;\">\n      Hi ${name}, your payment has been processed successfully.\n    </p>\n    <div style=\"background:#f0fdf4;border:1px solid #bbf7d0;border-radius:6px;padding:16px;margin:0 0 24px;\">\n      <p style=\"margin:0 0 8px;font-weight:600;color:#166534;\">Payment Details</p>\n      <p style=\"margin:0;color:#4b5563;\">Plan: <strong>${tierName}</strong></p>\n      <p style=\"margin:0;color:#4b5563;\">Amount: <strong>$${amount.toFixed(2)}</strong></p>\n    </div>\n    <p style=\"margin:0 0 24px;color:#4b5563;line-height:1.6;\">\n      Your account is now active. You can begin the LLC formation process from your dashboard.\n    </p>\n    <div style=\"text-align:center;\">\n      <a href=\"${process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'}/dashboard/formation\"\n         style=\"display:inline-block;background:#2563eb;color:#ffffff;padding:12px 24px;border-radius:6px;text-decoration:none;font-weight:500;\">\n        Start LLC Formation\n      </a>\n    </div>\n  `)\n}\n\nexport function complianceReminderEmail(name: string, deadline: string): string {\n  return baseTemplate(`\n    <h1 style=\"margin:0 0 16px;font-size:20px;color:#111827;\">Compliance Reminder</h1>\n    <p style=\"margin:0 0 16px;color:#4b5563;line-height:1.6;\">\n      Hi ${name}, you have an upcoming compliance deadline:\n    </p>\n    <div style=\"background:#fffbeb;border:1px solid #fde68a;border-radius:6px;padding:16px;margin:0 0 24px;\">\n      <p style=\"margin:0;font-weight:600;color:#92400e;\">${deadline}</p>\n    </div>\n    <p style=\"margin:0 0 24px;color:#4b5563;line-height:1.6;\">\n      Please review your compliance dashboard and take action before the deadline.\n    </p>\n    <div style=\"text-align:center;\">\n      <a href=\"${process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'}/dashboard/compliance\"\n         style=\"display:inline-block;background:#2563eb;color:#ffffff;padding:12px 24px;border-radius:6px;text-decoration:none;font-weight:500;\">\n        View Compliance Dashboard\n      </a>\n    </div>\n  `)\n}\n\nexport function universityVerificationEmail(code: string): string {\n  return baseTemplate(`\n    <h1 style=\"margin:0 0 16px;font-size:20px;color:#111827;\">Verify Your University Email</h1>\n    <p style=\"margin:0 0 24px;color:#4b5563;line-height:1.6;\">\n      Use the code below to verify your university email address on BedRock.\n    </p>\n    <div style=\"text-align:center;margin:0 0 24px;\">\n      <div style=\"display:inline-block;background:#f0fdf4;border:2px solid #bbf7d0;border-radius:12px;padding:24px 48px;\">\n        <span style=\"font-size:36px;font-weight:bold;letter-spacing:8px;color:#166534;font-family:monospace;\">${code}</span>\n      </div>\n    </div>\n    <p style=\"margin:0;color:#9ca3af;font-size:13px;text-align:center;\">\n      This code expires in 10 minutes. Do not share it with anyone.\n    </p>\n  `)\n}\n\nexport function trustScoreEmail(name: string, score: number, status: string): string {\n  const statusColors: Record<string, { bg: string; border: string; text: string }> = {\n    elite: { bg: '#f0fdf4', border: '#bbf7d0', text: '#166534' },\n    approved: { bg: '#eff6ff', border: '#bfdbfe', text: '#1e40af' },\n    review_needed: { bg: '#fffbeb', border: '#fde68a', text: '#92400e' },\n    conditional: { bg: '#fff7ed', border: '#fed7aa', text: '#9a3412' },\n    not_eligible: { bg: '#fef2f2', border: '#fecaca', text: '#991b1b' },\n  }\n  const colors = statusColors[status] || statusColors.review_needed\n\n  const statusLabel = status\n    .split('_')\n    .map((w) => w.charAt(0).toUpperCase() + w.slice(1))\n    .join(' ')\n\n  return baseTemplate(`\n    <h1 style=\"margin:0 0 16px;font-size:20px;color:#111827;\">Your Trust Score is Ready</h1>\n    <p style=\"margin:0 0 16px;color:#4b5563;line-height:1.6;\">\n      Hi ${name}, your trust score has been calculated.\n    </p>\n    <div style=\"text-align:center;margin:0 0 24px;\">\n      <div style=\"display:inline-block;width:100px;height:100px;line-height:100px;border-radius:50%;background:${colors.bg};border:3px solid ${colors.border};font-size:32px;font-weight:bold;color:${colors.text};\">\n        ${score}\n      </div>\n      <p style=\"margin:8px 0 0;font-weight:600;color:${colors.text};\">${statusLabel}</p>\n    </div>\n    <p style=\"margin:0 0 24px;color:#4b5563;line-height:1.6;\">\n      Log in to your dashboard to see the full breakdown and next steps.\n    </p>\n    <div style=\"text-align:center;\">\n      <a href=\"${process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'}/dashboard\"\n         style=\"display:inline-block;background:#2563eb;color:#ffffff;padding:12px 24px;border-radius:6px;text-decoration:none;font-weight:500;\">\n        View Dashboard\n      </a>\n    </div>\n  `)\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA,SAAS,aAAa,OAAe;IACnC,OAAO,CAAC;;;;;;;;;;;;MAYJ,EAAE,QAAQ;;;gBAGA,EAAE,IAAI,OAAO,WAAW,GAAG;;;;OAIpC,CAAC;AACR;AAEO,SAAS,aAAa,IAAY;IACvC,OAAO,aAAa,CAAC;kFAC2D,EAAE,KAAK;;;;;;;;;;;;;eAa1E,EAAE,6DAAmC,wBAAwB;;;;;EAK1E,CAAC;AACH;AAEO,SAAS,yBAAyB,IAAY,EAAE,IAAY,EAAE,MAAc;IACjF,MAAM,WAAW,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC;IAC3D,OAAO,aAAa,CAAC;;;SAGd,EAAE,KAAK;;;;uDAIuC,EAAE,SAAS;0DACR,EAAE,OAAO,OAAO,CAAC,GAAG;;;;;;eAM/D,EAAE,6DAAmC,wBAAwB;;;;;EAK1E,CAAC;AACH;AAEO,SAAS,wBAAwB,IAAY,EAAE,QAAgB;IACpE,OAAO,aAAa,CAAC;;;SAGd,EAAE,KAAK;;;yDAGyC,EAAE,SAAS;;;;;;eAMrD,EAAE,6DAAmC,wBAAwB;;;;;EAK1E,CAAC;AACH;AAEO,SAAS,4BAA4B,IAAY;IACtD,OAAO,aAAa,CAAC;;;;;;;8GAOuF,EAAE,KAAK;;;;;;EAMnH,CAAC;AACH;AAEO,SAAS,gBAAgB,IAAY,EAAE,KAAa,EAAE,MAAc;IACzE,MAAM,eAA6E;QACjF,OAAO;YAAE,IAAI;YAAW,QAAQ;YAAW,MAAM;QAAU;QAC3D,UAAU;YAAE,IAAI;YAAW,QAAQ;YAAW,MAAM;QAAU;QAC9D,eAAe;YAAE,IAAI;YAAW,QAAQ;YAAW,MAAM;QAAU;QACnE,aAAa;YAAE,IAAI;YAAW,QAAQ;YAAW,MAAM;QAAU;QACjE,cAAc;YAAE,IAAI;YAAW,QAAQ;YAAW,MAAM;QAAU;IACpE;IACA,MAAM,SAAS,YAAY,CAAC,OAAO,IAAI,aAAa,aAAa;IAEjE,MAAM,cAAc,OACjB,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,EAAE,MAAM,CAAC,GAAG,WAAW,KAAK,EAAE,KAAK,CAAC,IAC/C,IAAI,CAAC;IAER,OAAO,aAAa,CAAC;;;SAGd,EAAE,KAAK;;;+GAG+F,EAAE,OAAO,EAAE,CAAC,kBAAkB,EAAE,OAAO,MAAM,CAAC,uCAAuC,EAAE,OAAO,IAAI,CAAC;QAC1M,EAAE,MAAM;;qDAEqC,EAAE,OAAO,IAAI,CAAC,GAAG,EAAE,YAAY;;;;;;eAMrE,EAAE,6DAAmC,wBAAwB;;;;;EAK1E,CAAC;AACH"}},
    {"offset": {"line": 293, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/app/api/email/welcome/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport { sendEmail } from '@/lib/email'\nimport { welcomeEmail } from '@/lib/email-templates'\n\nexport async function POST(request: Request) {\n  try {\n    const { name, email } = await request.json()\n\n    if (!name || !email) {\n      return NextResponse.json({ error: 'Missing name or email' }, { status: 400 })\n    }\n\n    await sendEmail(email, 'Welcome to BedRock!', welcomeEmail(name))\n    return NextResponse.json({ success: true })\n  } catch (error) {\n    console.error('Failed to send welcome email:', error)\n    return NextResponse.json({ error: 'Failed to send email' }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE1C,IAAI,CAAC,QAAQ,CAAC,OAAO;YACnB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAwB,GAAG;gBAAE,QAAQ;YAAI;QAC7E;QAEA,MAAM,IAAA,kIAAS,EAAC,OAAO,uBAAuB,IAAA,kJAAY,EAAC;QAC3D,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAuB,GAAG;YAAE,QAAQ;QAAI;IAC5E;AACF"}}]
}