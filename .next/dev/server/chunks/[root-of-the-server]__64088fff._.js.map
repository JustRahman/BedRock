{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\nimport { createClient as createSupabaseClient } from '@supabase/supabase-js'\nimport { cookies } from 'next/headers'\nimport { Database } from '@/types/database'\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient<Database>(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll()\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options)\n            )\n          } catch {\n            // The `setAll` method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing\n            // user sessions.\n          }\n        },\n      },\n    }\n  )\n}\n\nexport function createServiceClient() {\n  return createSupabaseClient<Database>(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\n    {\n      auth: {\n        autoRefreshToken: false,\n        persistSession: false,\n      },\n    }\n  )\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AACA;;;;AAGO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,4IAAO;IAEjC,OAAO,IAAA,iMAAkB,sUAGvB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;QACF;IACF;AAEJ;AAEO,SAAS;IACd,OAAO,IAAA,gMAAoB,gFAEzB,QAAQ,GAAG,CAAC,yBAAyB,EACrC;QACE,MAAM;YACJ,kBAAkB;YAClB,gBAAgB;QAClB;IACF;AAEJ"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/lib/generate-llc-docs.ts"],"sourcesContent":["import {\n  Document,\n  Paragraph,\n  TextRun,\n  AlignmentType,\n  HeadingLevel,\n  Packer,\n  TabStopPosition,\n  TabStopType,\n  UnderlineType,\n} from 'docx'\n\nexport interface LLCDocData {\n  llcName: string\n  state: string\n  formationDate: string\n  filingOffice: string\n  members: { name: string; address?: string; contribution?: string; percentage?: string }[]\n  organizerName: string\n  signingDate: string\n  registeredAgent: string\n  businessPurpose?: string\n  ein?: string\n}\n\nfunction stateName(code: string): string {\n  const states: Record<string, string> = {\n    DE: 'Delaware',\n    WY: 'Wyoming',\n    NV: 'Nevada',\n    TX: 'Texas',\n    FL: 'Florida',\n    CA: 'California',\n    NY: 'New York',\n  }\n  return states[code] || code\n}\n\nfunction formatDate(dateStr: string): { day: string; month: string; year: string } {\n  const d = new Date(dateStr + 'T00:00:00')\n  const months = [\n    'January', 'February', 'March', 'April', 'May', 'June',\n    'July', 'August', 'September', 'October', 'November', 'December',\n  ]\n  return {\n    day: String(d.getDate()),\n    month: months[d.getMonth()],\n    year: String(d.getFullYear()),\n  }\n}\n\nfunction bold(text: string): TextRun {\n  return new TextRun({ text, bold: true })\n}\n\nfunction normal(text: string): TextRun {\n  return new TextRun({ text })\n}\n\nfunction underline(text: string): TextRun {\n  return new TextRun({ text, underline: { type: UnderlineType.SINGLE } })\n}\n\nexport async function generateStatementOfOrganizer(data: LLCDocData): Promise<Buffer> {\n  const fullState = stateName(data.state)\n  const formDate = formatDate(data.formationDate)\n  const signDate = formatDate(data.signingDate)\n\n  const doc = new Document({\n    sections: [\n      {\n        properties: {},\n        children: [\n          // Title\n          new Paragraph({\n            alignment: AlignmentType.CENTER,\n            spacing: { after: 200 },\n            children: [\n              new TextRun({\n                text: 'Statement of Organizer',\n                bold: true,\n                size: 28,\n              }),\n            ],\n          }),\n          new Paragraph({\n            alignment: AlignmentType.CENTER,\n            spacing: { after: 400 },\n            children: [\n              new TextRun({\n                text: 'in Lieu of Organization Meeting',\n                bold: true,\n                size: 28,\n              }),\n            ],\n          }),\n          new Paragraph({\n            alignment: AlignmentType.CENTER,\n            spacing: { after: 400 },\n            children: [\n              new TextRun({\n                text: `of ${data.llcName}`,\n                bold: true,\n                size: 24,\n              }),\n            ],\n          }),\n\n          // Body\n          new Paragraph({\n            spacing: { after: 200 },\n            children: [\n              normal('THE UNDERSIGNED, being the Organizer of '),\n              underline(data.llcName),\n              normal(`, a Limited Liability Company of the State of ${fullState}, does hereby adopt the following resolutions and takes the following action by written consent in lieu of a meeting.`),\n            ],\n          }),\n\n          // Resolution 1\n          new Paragraph({\n            spacing: { after: 200 },\n            children: [\n              bold('RESOLVED'),\n              normal(', that a copy of the Articles of Organization of '),\n              underline(data.llcName),\n              normal(`, as filed in the Office of the ${data.filingOffice} on the ${formDate.day} of ${formDate.month}, ${formDate.year}, be, and the same hereby is, ordered filed in the minute book of the Limited Liability Company; and`),\n            ],\n          }),\n\n          // Resolution 2\n          new Paragraph({\n            spacing: { after: 200 },\n            children: [\n              bold('RESOLVED'),\n              normal(', that the number of initial Members forming this Limited Liability Company shall be at least one (1); and'),\n            ],\n          }),\n\n          // Resolution 3\n          new Paragraph({\n            spacing: { after: 200 },\n            children: [\n              bold('RESOLVED'),\n              normal(', that from this day hence, the undersigned has fulfilled the duties of Organizer and relinquishes all further duties to the Members of '),\n              underline(data.llcName),\n              normal('; and'),\n            ],\n          }),\n\n          // Resolution 4\n          new Paragraph({\n            spacing: { after: 200 },\n            children: [\n              bold('RESOLVED'),\n              normal(', that simultaneous with the Organizer\\'s transfer of all further duties to the Members, the said Organizer resigns such office effective this date; and'),\n            ],\n          }),\n\n          // Resolution 5 - Members\n          new Paragraph({\n            spacing: { after: 200 },\n            children: [\n              bold('RESOLVED'),\n              normal(', that the following named persons shall constitute the initial Members of '),\n              underline(data.llcName),\n              normal(':'),\n            ],\n          }),\n\n          // List members\n          ...data.members.map(\n            (m) =>\n              new Paragraph({\n                spacing: { after: 100 },\n                indent: { left: 720 },\n                children: [normal(m.name)],\n              })\n          ),\n\n          // Signature block\n          new Paragraph({ spacing: { after: 400 }, children: [] }),\n\n          new Paragraph({\n            spacing: { after: 200 },\n            children: [\n              normal(`Signed and executed by the Organizer on the ${signDate.day} of ${signDate.month}, ${signDate.year}.`),\n            ],\n          }),\n\n          new Paragraph({ spacing: { after: 400 }, children: [] }),\n\n          new Paragraph({\n            spacing: { after: 100 },\n            children: [normal('________________________________')],\n          }),\n          new Paragraph({\n            children: [\n              normal(`By: ${data.organizerName}, Authorized Person/Organizer`),\n            ],\n          }),\n        ],\n      },\n    ],\n  })\n\n  const buffer = await Packer.toBuffer(doc)\n  return Buffer.from(buffer)\n}\n\nexport async function generateOperatingAgreement(data: LLCDocData): Promise<Buffer> {\n  const fullState = stateName(data.state)\n  const formDate = formatDate(data.formationDate)\n  const signDate = formatDate(data.signingDate)\n  const purpose = data.businessPurpose || 'any lawful purpose'\n\n  const sectionHeading = (text: string) =>\n    new Paragraph({\n      heading: HeadingLevel.HEADING_2,\n      spacing: { before: 300, after: 200 },\n      children: [new TextRun({ text, bold: true, size: 24 })],\n    })\n\n  const subHeading = (label: string, content: TextRun[]) =>\n    new Paragraph({\n      spacing: { after: 200 },\n      children: [new TextRun({ text: `${label}: `, bold: true }), ...content],\n    })\n\n  const bodyPara = (children: TextRun[]) =>\n    new Paragraph({ spacing: { after: 200 }, children })\n\n  // Build member contribution rows\n  const memberParagraphs: Paragraph[] = []\n  data.members.forEach((m, i) => {\n    memberParagraphs.push(\n      new Paragraph({\n        spacing: { after: 100 },\n        tabStops: [\n          { type: TabStopType.LEFT, position: TabStopPosition.MAX / 3 },\n          { type: TabStopType.LEFT, position: (TabStopPosition.MAX * 2) / 3 },\n        ],\n        children: [\n          normal(`(${i + 1}) ${m.name}`),\n          new TextRun({ text: `\\t${m.contribution || 'Cash'}` }),\n          new TextRun({ text: `\\t${m.percentage || `${Math.floor(100 / data.members.length)}%`}` }),\n        ],\n      })\n    )\n    if (m.address) {\n      memberParagraphs.push(\n        new Paragraph({\n          spacing: { after: 100 },\n          indent: { left: 360 },\n          children: [normal(m.address)],\n        })\n      )\n    }\n  })\n\n  // Signature blocks for each member\n  const signatureBlocks: Paragraph[] = []\n  data.members.forEach((m) => {\n    signatureBlocks.push(\n      new Paragraph({ spacing: { before: 400, after: 100 }, children: [] }),\n      new Paragraph({\n        spacing: { after: 100 },\n        children: [normal(`Date: ${signDate.month} ${signDate.day}, ${signDate.year}`)],\n      }),\n      new Paragraph({\n        spacing: { after: 100 },\n        children: [normal('Signature: ________________________________')],\n      }),\n      new Paragraph({\n        spacing: { after: 200 },\n        children: [normal(`Printed Name: ${m.name}, Member`)],\n      })\n    )\n  })\n\n  const doc = new Document({\n    sections: [\n      {\n        properties: {},\n        children: [\n          // Title\n          new Paragraph({\n            alignment: AlignmentType.CENTER,\n            spacing: { after: 100 },\n            children: [\n              new TextRun({ text: 'OPERATING AGREEMENT', bold: true, size: 28 }),\n            ],\n          }),\n          new Paragraph({\n            alignment: AlignmentType.CENTER,\n            spacing: { after: 100 },\n            children: [\n              new TextRun({ text: 'FOR', bold: true, size: 24 }),\n            ],\n          }),\n          new Paragraph({\n            alignment: AlignmentType.CENTER,\n            spacing: { after: 100 },\n            children: [\n              new TextRun({ text: 'MEMBER-MANAGED LIMITED LIABILITY COMPANY', bold: true, size: 24 }),\n            ],\n          }),\n          new Paragraph({\n            alignment: AlignmentType.CENTER,\n            spacing: { after: 400 },\n            children: [\n              new TextRun({ text: data.llcName, bold: true, size: 26 }),\n            ],\n          }),\n\n          // PRELIMINARY PROVISIONS\n          sectionHeading('PRELIMINARY PROVISIONS'),\n\n          subHeading('Effective Date', [\n            normal(`This operating agreement of ${data.llcName}, effective ${signDate.month} ${signDate.day}, ${signDate.year}, is adopted by the members whose signatures appear at the end of this agreement (the \"Agreement\").`),\n          ]),\n\n          subHeading('Formation', [\n            normal(`This limited liability company (LLC) was formed by filing Articles of Organization, a Certificate of Formation or a similar organizational document with the LLC filing office of the state of ${fullState} on ${formDate.month} ${formDate.day}, ${formDate.year}. A copy of this organizational document has been placed in the LLC's records book.`),\n          ]),\n\n          subHeading('Name', [\n            normal(`The formal name of this LLC is ${data.llcName}. However, this LLC may do business under a different name by complying with the state's fictitious or assumed business name statutes and procedures.`),\n          ]),\n\n          subHeading('Registered Office and Agent', [\n            normal(`The registered office of this LLC and the registered agent at this address are as follows: ${data.registeredAgent}. The registered office and agent may be changed from time to time as the members may see fit, by filing a change of registered agent or office form with the state LLC filing office.`),\n          ]),\n\n          subHeading('Business Purposes', [\n            normal(`The specific business purposes and activities contemplated by the founders of this LLC at the time of initial signing of this agreement consist of the following: ${purpose}. It is understood that the foregoing statement of purposes shall not serve as a limitation on the powers or abilities of this LLC, which shall be permitted to engage in any and all lawful business activities.`),\n          ]),\n\n          subHeading('Duration of LLC', [\n            normal('The duration of this LLC shall be perpetual. Further, this LLC shall terminate when a proposal to dissolve the LLC is adopted by the membership of this LLC or when this LLC is otherwise terminated in accordance with law.'),\n          ]),\n\n          // MEMBERSHIP PROVISIONS\n          sectionHeading('MEMBERSHIP PROVISIONS'),\n\n          subHeading('Non-liability of Members', [\n            normal('No member of this LLC shall be personally liable for the expenses, debts, obligations or liabilities of the LLC, or for claims made against it.'),\n          ]),\n\n          subHeading('Reimbursement for Organizational Costs', [\n            normal('Members shall be reimbursed by the LLC for organizational expenses paid by the members. The LLC shall be authorized to elect to deduct organizational expenses and start-up expenditures ratably over a period of time as permitted by the Internal Revenue Code and as may be advised by the LLC\\'s tax advisor.'),\n          ]),\n\n          subHeading('Management', [\n            normal('This LLC shall be managed exclusively by all of its members.'),\n          ]),\n\n          subHeading('Members\\' Percentage Interests', [\n            normal('A member\\'s percentage interest in this LLC shall be computed as a fraction, the numerator of which is the total of a member\\'s capital account and the denominator of which is the total of all capital accounts of all members. This fraction shall be expressed in this agreement as a percentage, which shall be called each member\\'s \"percentage interest\" in this LLC.'),\n          ]),\n\n          subHeading('Membership Voting', [\n            normal('Except as otherwise may be required by the Articles of Organization, Certificate of Formation or a similar organizational document, other provisions of this operating agreement, or under the laws of this state, each member shall vote on any matter submitted to the membership for approval in proportion to the member\\'s percentage interest in this LLC.'),\n          ]),\n\n          subHeading('Compensation', [\n            normal('Members shall not be paid as members of the LLC for performing any duties associated with such membership, including management of the LLC. Members may be paid, however, for any services rendered in any other capacity for the LLC, whether as officers, employees, independent contractors or otherwise.'),\n          ]),\n\n          // TAX AND FINANCIAL PROVISIONS\n          sectionHeading('TAX AND FINANCIAL PROVISIONS'),\n\n          subHeading('Tax Classification of LLC', [\n            normal('The members of this LLC intend that this LLC be initially classified as a partnership for federal and, if applicable, state income tax purposes. It is understood that all members may agree to change the tax treatment of this LLC by signing, or authorizing the signature of, IRS Form 8832, Entity Classification Election, and filing it with the IRS and, if applicable, the state tax department within the prescribed time limits.'),\n          ]),\n\n          subHeading('Tax Year and Accounting Method', [\n            normal('The tax year of this LLC shall be the calendar year. The LLC shall use the cash method of accounting. Both the tax year and the accounting period of the LLC may be changed with the consent of all members.'),\n          ]),\n\n          subHeading('Annual Income Tax Returns and Reports', [\n            normal('Within 60 days after the end of each tax year of the LLC, a copy of the LLC\\'s state and federal income tax returns for the preceding tax year shall be mailed or otherwise provided to each member of the LLC, together with any additional information and forms necessary for each member to complete his or her individual state and federal income tax returns.'),\n          ]),\n\n          subHeading('Bank Accounts', [\n            normal('The LLC shall designate one or more banks or other institutions for the deposit of the funds of the LLC, and shall establish savings, checking, investment and other such accounts as are reasonable and necessary for its business and investments. The funds of the LLC, however and wherever deposited or invested, shall not be commingled with the personal funds of any members of the LLC.'),\n          ]),\n\n          subHeading('Title to Assets', [\n            normal('All personal and real property of this LLC shall be held in the name of the LLC, not in the names of individual members.'),\n          ]),\n\n          // CAPITAL PROVISIONS\n          sectionHeading('CAPITAL PROVISIONS'),\n\n          subHeading('Capital Contributions by Members', [\n            normal('Members shall make the following contributions of cash, property or services as shown next to each member\\'s name below:'),\n          ]),\n\n          // Table header\n          new Paragraph({\n            spacing: { after: 100 },\n            tabStops: [\n              { type: TabStopType.LEFT, position: TabStopPosition.MAX / 3 },\n              { type: TabStopType.LEFT, position: (TabStopPosition.MAX * 2) / 3 },\n            ],\n            children: [\n              bold('NAME'),\n              new TextRun({ text: '\\tCONTRIBUTION', bold: true }),\n              new TextRun({ text: '\\t% INTEREST', bold: true }),\n            ],\n          }),\n\n          ...memberParagraphs,\n\n          subHeading('No Interest on Capital Contributions', [\n            normal('No interest shall be paid on funds or property contributed as capital to this LLC, or on funds reflected in the capital accounts of the members.'),\n          ]),\n\n          subHeading('Allocations of Profits and Losses', [\n            normal('The profits and losses of the LLC, and all items of its income, gain, loss, deduction and credit shall be allocated to members according to each member\\'s percentage interest in this LLC.'),\n          ]),\n\n          // MEMBERSHIP WITHDRAWAL AND TRANSFER PROVISIONS\n          sectionHeading('MEMBERSHIP WITHDRAWAL AND TRANSFER PROVISIONS'),\n\n          subHeading('Withdrawal of Members', [\n            normal('A member may withdraw from this LLC by giving written notice to all other members at least 60 days before the date the withdrawal is to be effective.'),\n          ]),\n\n          subHeading('Restrictions on the Transfer of Membership', [\n            normal('A member shall not transfer his or her membership in the LLC unless all non-transferring members in the LLC first agree to approve the admission of the transferee into this LLC.'),\n          ]),\n\n          // DISSOLUTION PROVISIONS\n          sectionHeading('DISSOLUTION PROVISIONS'),\n\n          subHeading('Events That Trigger Dissolution of the LLC', [\n            normal('The following events shall trigger dissolution of the LLC, except as provided: the death, permanent incapacity, bankruptcy, retirement, resignation or expulsion of a member, except that within 90 days of the happening of any of these events, all remaining members of the LLC may vote to continue the legal existence of the LLC; the expiration of the term of existence of the LLC; the written agreement of all members to dissolve the LLC; entry of a decree of dissolution of the LLC under state law.'),\n          ]),\n\n          // GENERAL PROVISIONS\n          sectionHeading('GENERAL PROVISIONS'),\n\n          subHeading('Officers', [\n            normal('The LLC may designate one or more officers, such as a President, Vice President, Secretary and Treasurer. Persons who fill these positions need not be members of the LLC.'),\n          ]),\n\n          subHeading('Records', [\n            normal('The LLC shall keep at its principal business address a copy of all proceedings of membership meetings, as well as books of account of the LLC\\'s financial transactions.'),\n          ]),\n\n          subHeading('Indemnification', [\n            normal('The LLC shall indemnify the Members and those authorized officers, agents, and employees of the LLC for all costs, losses, liabilities and damages paid or accrued in connection with the business of the LLC, except to the extent prohibited by the laws of the state that governs this Agreement.'),\n          ]),\n\n          subHeading('Mediation and Arbitration', [\n            normal('In any dispute over the provisions of this operating agreement and in other disputes among the members, if the members cannot resolve the dispute to their mutual satisfaction, the matter shall be submitted to mediation. If mediation proves impossible, the dispute may be submitted to arbitration in accordance with the rules of the American Arbitration Association.'),\n          ]),\n\n          subHeading('Governing Law', [\n            normal(`This Agreement shall be governed by, and interpreted and enforced in accordance with, the substantive laws of the State of ${fullState}.`),\n          ]),\n\n          subHeading('Entire Agreement', [\n            normal('This operating agreement represents the entire agreement among the members of this LLC, and it shall not be amended, modified or replaced except by a written instrument executed by all the parties to this agreement who are current members of this LLC.'),\n          ]),\n\n          subHeading('Severability', [\n            normal('If any provision of this agreement is determined by a court or arbitrator to be invalid, unenforceable or otherwise ineffective, that provision shall be severed from the rest of this agreement, and the remaining provisions shall remain in effect and enforceable.'),\n          ]),\n\n          // SIGNATURES\n          sectionHeading('SIGNATURES OF MEMBERS'),\n\n          bodyPara([\n            normal('In witness whereof, the members of this LLC sign and adopt this agreement as the operating agreement of this LLC.'),\n          ]),\n\n          ...signatureBlocks,\n        ],\n      },\n    ],\n  })\n\n  const buffer = await Packer.toBuffer(doc)\n  return Buffer.from(buffer)\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 637, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/app/api/documents/generate/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport { createClient, createServiceClient } from '@/lib/supabase/server'\nimport { generateStatementOfOrganizer, generateOperatingAgreement } from '@/lib/generate-llc-docs'\nimport type { LLCDocData } from '@/lib/generate-llc-docs'\n\ninterface FounderData {\n  id: string\n  full_name: string\n  role: string\n}\n\ninterface CompanyData {\n  id: string\n  founder_id: string\n  name: string\n  legal_name: string | null\n  state: string | null\n  formation_date: string | null\n  ein: string | null\n  registered_agent_name: string | null\n  description: string | null\n}\n\nexport async function POST(request: Request) {\n  try {\n    const authClient = await createClient()\n    const supabase = createServiceClient()\n\n    // Auth check\n    const { data: { user }, error: userError } = await authClient.auth.getUser()\n    if (userError || !user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\n    }\n\n    // Admin check\n    const { data: founderData } = await supabase\n      .from('founders')\n      .select('id, full_name, role')\n      .eq('user_id', user.id)\n      .single()\n\n    const founder = founderData as FounderData | null\n    if (!founder || founder.role !== 'admin') {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 403 })\n    }\n\n    const body = await request.json()\n    const { companyId } = body as { companyId: string }\n\n    if (!companyId) {\n      return NextResponse.json({ error: 'companyId is required' }, { status: 400 })\n    }\n\n    // Fetch company\n    const { data: companyData, error: companyError } = await supabase\n      .from('companies')\n      .select('id, founder_id, name, legal_name, state, formation_date, ein, registered_agent_name, description')\n      .eq('id', companyId)\n      .single()\n\n    if (companyError || !companyData) {\n      return NextResponse.json({ error: 'Company not found' }, { status: 404 })\n    }\n\n    const company = companyData as CompanyData\n\n    if (!company.name || !company.state || !company.formation_date) {\n      return NextResponse.json(\n        { error: 'Company must have name, state, and formation date to generate documents' },\n        { status: 400 }\n      )\n    }\n\n    // Fetch the company's founder (the owner, not the admin)\n    const { data: ownerData } = await supabase\n      .from('founders')\n      .select('id, full_name, role')\n      .eq('id', company.founder_id)\n      .single()\n\n    const owner = ownerData as FounderData | null\n    if (!owner) {\n      return NextResponse.json({ error: 'Company owner not found' }, { status: 404 })\n    }\n\n    const stateNames: Record<string, string> = {\n      DE: 'Delaware', WY: 'Wyoming', NV: 'Nevada', TX: 'Texas',\n      FL: 'Florida', CA: 'California', NY: 'New York',\n    }\n    const fullState = stateNames[company.state] || company.state\n\n    const today = new Date().toISOString().split('T')[0]\n\n    const docData: LLCDocData = {\n      llcName: company.legal_name || company.name,\n      state: company.state,\n      formationDate: company.formation_date,\n      filingOffice: `Secretary of State of ${fullState}`,\n      members: [{ name: owner.full_name }],\n      organizerName: owner.full_name,\n      signingDate: today,\n      registeredAgent: company.registered_agent_name || 'To be designated',\n      businessPurpose: company.description || 'any lawful purpose',\n      ein: company.ein || undefined,\n    }\n\n    // Generate both documents\n    const [statementBuffer, agreementBuffer] = await Promise.all([\n      generateStatementOfOrganizer(docData),\n      generateOperatingAgreement(docData),\n    ])\n\n    const timestamp = Date.now()\n    const statementPath = `${company.founder_id}/${timestamp}-statement-of-organizer.docx`\n    const agreementPath = `${company.founder_id}/${timestamp}-operating-agreement.docx`\n\n    // Upload both to Supabase Storage\n    const [statementUpload, agreementUpload] = await Promise.all([\n      supabase.storage.from('documents').upload(statementPath, statementBuffer, {\n        contentType: 'application/pdf',\n      }),\n      supabase.storage.from('documents').upload(agreementPath, agreementBuffer, {\n        contentType: 'application/pdf',\n      }),\n    ])\n\n    if (statementUpload.error) {\n      return NextResponse.json({ error: `Upload failed: ${statementUpload.error.message}` }, { status: 500 })\n    }\n    if (agreementUpload.error) {\n      // Clean up the first upload if second fails\n      await supabase.storage.from('documents').remove([statementPath])\n      return NextResponse.json({ error: `Upload failed: ${agreementUpload.error.message}` }, { status: 500 })\n    }\n\n    // Create document records\n    const now = new Date().toISOString()\n\n    const { data: statementDoc, error: statementInsertError } = await (supabase\n      .from('documents') as ReturnType<typeof supabase.from>)\n      .insert({\n        founder_id: company.founder_id,\n        type: 'articles_of_organization',\n        file_name: 'Statement of LLC Organizer.docx',\n        file_path: statementUpload.data.path,\n        file_size: statementBuffer.length,\n        mime_type: 'application/pdf',\n        verified: true,\n        verified_at: now,\n        verified_by: founder.id,\n      })\n      .select()\n      .single()\n\n    if (statementInsertError) {\n      return NextResponse.json({ error: statementInsertError.message }, { status: 500 })\n    }\n\n    const { data: agreementDoc, error: agreementInsertError } = await (supabase\n      .from('documents') as ReturnType<typeof supabase.from>)\n      .insert({\n        founder_id: company.founder_id,\n        type: 'operating_agreement',\n        file_name: 'Operating Agreement.docx',\n        file_path: agreementUpload.data.path,\n        file_size: agreementBuffer.length,\n        mime_type: 'application/pdf',\n        verified: true,\n        verified_at: now,\n        verified_by: founder.id,\n      })\n      .select()\n      .single()\n\n    if (agreementInsertError) {\n      return NextResponse.json({ error: agreementInsertError.message }, { status: 500 })\n    }\n\n    return NextResponse.json({\n      success: true,\n      documents: [\n        { id: (statementDoc as { id: string }).id, type: 'articles_of_organization', fileName: 'Statement of LLC Organizer.docx' },\n        { id: (agreementDoc as { id: string }).id, type: 'operating_agreement', fileName: 'Operating Agreement.docx' },\n      ],\n    })\n  } catch (err) {\n    console.error('Document generation error:', err)\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":"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"}}]
}