{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/onboarding/progress-indicator.tsx"],"sourcesContent":["'use client'\n\nimport { Check } from 'lucide-react'\n\ninterface Step {\n  id: number\n  name: string\n  description: string\n}\n\ninterface ProgressIndicatorProps {\n  steps: Step[]\n  currentStep: number\n}\n\nexport function ProgressIndicator({ steps, currentStep }: ProgressIndicatorProps) {\n  return (\n    <nav aria-label=\"Progress\" className=\"mb-8\">\n      {/* Row 1: Circles and connector lines */}\n      <div className=\"flex items-center\">\n        {steps.map((step, index) => (\n          <div key={step.id} className=\"flex flex-1 items-center last:flex-none\">\n            {/* Step circle */}\n            <div\n              className={`relative z-10 flex h-8 w-8 shrink-0 items-center justify-center rounded-full border-2 ${\n                currentStep > step.id\n                  ? 'border-blue-500 bg-blue-500 text-white'\n                  : currentStep === step.id\n                  ? 'border-blue-500 bg-blue-500/20 text-blue-400'\n                  : 'border-zinc-700 bg-zinc-800 text-zinc-500'\n              }`}\n            >\n              {currentStep > step.id ? (\n                <Check className=\"h-4 w-4\" />\n              ) : (\n                <span className=\"text-xs font-medium\">{step.id}</span>\n              )}\n            </div>\n\n            {/* Connector line */}\n            {index < steps.length - 1 && (\n              <div\n                className={`h-0.5 flex-1 ${\n                  currentStep > step.id ? 'bg-blue-500' : 'bg-zinc-700'\n                }`}\n              />\n            )}\n          </div>\n        ))}\n      </div>\n\n      {/* Row 2: Labels â€” aligned under each circle */}\n      <div className=\"mt-2 flex\">\n        {steps.map((step, index) => (\n          <div\n            key={step.id}\n            className={`text-center ${index < steps.length - 1 ? 'flex-1' : ''}`}\n            style={{ minWidth: 32 }}\n          >\n            <p\n              className={`text-[10px] font-medium leading-tight sm:text-xs ${\n                currentStep >= step.id ? 'text-blue-400' : 'text-zinc-500'\n              }`}\n            >\n              {step.name}\n            </p>\n          </div>\n        ))}\n      </div>\n    </nav>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAeO,SAAS,kBAAkB,EAAE,KAAK,EAAE,WAAW,EAA0B;IAC9E,qBACE,8OAAC;QAAI,cAAW;QAAW,WAAU;;0BAEnC,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,8OAAC;wBAAkB,WAAU;;0CAE3B,8OAAC;gCACC,WAAW,CAAC,sFAAsF,EAChG,cAAc,KAAK,EAAE,GACjB,2CACA,gBAAgB,KAAK,EAAE,GACvB,iDACA,6CACJ;0CAED,cAAc,KAAK,EAAE,iBACpB,8OAAC,6MAAK;oCAAC,WAAU;;;;;yDAEjB,8OAAC;oCAAK,WAAU;8CAAuB,KAAK,EAAE;;;;;;;;;;;4BAKjD,QAAQ,MAAM,MAAM,GAAG,mBACtB,8OAAC;gCACC,WAAW,CAAC,aAAa,EACvB,cAAc,KAAK,EAAE,GAAG,gBAAgB,eACxC;;;;;;;uBAvBE,KAAK,EAAE;;;;;;;;;;0BA+BrB,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,8OAAC;wBAEC,WAAW,CAAC,YAAY,EAAE,QAAQ,MAAM,MAAM,GAAG,IAAI,WAAW,IAAI;wBACpE,OAAO;4BAAE,UAAU;wBAAG;kCAEtB,cAAA,8OAAC;4BACC,WAAW,CAAC,iDAAiD,EAC3D,eAAe,KAAK,EAAE,GAAG,kBAAkB,iBAC3C;sCAED,KAAK,IAAI;;;;;;uBATP,KAAK,EAAE;;;;;;;;;;;;;;;;AAgBxB"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { Slot } from \"radix-ui\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        xs: \"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-xs\": \"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot.Root : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wMAAI,CAAC,IAAI,GAAG;IAEnC,qBACE,8OAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Label as LabelPrimitive } from \"radix-ui\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,8OAAC,2MAAc,CAAC,IAAI;QAClB,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/ui/phone-input.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useCallback } from 'react'\nimport { cn } from '@/lib/utils'\nimport { ChevronDown } from 'lucide-react'\n\nconst countryCodes = [\n  { code: '+1', country: 'US', flag: 'ðŸ‡ºðŸ‡¸', label: 'United States' },\n  { code: '+1', country: 'CA', flag: 'ðŸ‡¨ðŸ‡¦', label: 'Canada' },\n  { code: '+44', country: 'GB', flag: 'ðŸ‡¬ðŸ‡§', label: 'United Kingdom' },\n  { code: '+49', country: 'DE', flag: 'ðŸ‡©ðŸ‡ª', label: 'Germany' },\n  { code: '+33', country: 'FR', flag: 'ðŸ‡«ðŸ‡·', label: 'France' },\n  { code: '+91', country: 'IN', flag: 'ðŸ‡®ðŸ‡³', label: 'India' },\n  { code: '+86', country: 'CN', flag: 'ðŸ‡¨ðŸ‡³', label: 'China' },\n  { code: '+81', country: 'JP', flag: 'ðŸ‡¯ðŸ‡µ', label: 'Japan' },\n  { code: '+82', country: 'KR', flag: 'ðŸ‡°ðŸ‡·', label: 'South Korea' },\n  { code: '+61', country: 'AU', flag: 'ðŸ‡¦ðŸ‡º', label: 'Australia' },\n  { code: '+55', country: 'BR', flag: 'ðŸ‡§ðŸ‡·', label: 'Brazil' },\n  { code: '+52', country: 'MX', flag: 'ðŸ‡²ðŸ‡½', label: 'Mexico' },\n  { code: '+34', country: 'ES', flag: 'ðŸ‡ªðŸ‡¸', label: 'Spain' },\n  { code: '+39', country: 'IT', flag: 'ðŸ‡®ðŸ‡¹', label: 'Italy' },\n  { code: '+31', country: 'NL', flag: 'ðŸ‡³ðŸ‡±', label: 'Netherlands' },\n  { code: '+46', country: 'SE', flag: 'ðŸ‡¸ðŸ‡ª', label: 'Sweden' },\n  { code: '+47', country: 'NO', flag: 'ðŸ‡³ðŸ‡´', label: 'Norway' },\n  { code: '+45', country: 'DK', flag: 'ðŸ‡©ðŸ‡°', label: 'Denmark' },\n  { code: '+41', country: 'CH', flag: 'ðŸ‡¨ðŸ‡­', label: 'Switzerland' },\n  { code: '+43', country: 'AT', flag: 'ðŸ‡¦ðŸ‡¹', label: 'Austria' },\n  { code: '+48', country: 'PL', flag: 'ðŸ‡µðŸ‡±', label: 'Poland' },\n  { code: '+351', country: 'PT', flag: 'ðŸ‡µðŸ‡¹', label: 'Portugal' },\n  { code: '+353', country: 'IE', flag: 'ðŸ‡®ðŸ‡ª', label: 'Ireland' },\n  { code: '+358', country: 'FI', flag: 'ðŸ‡«ðŸ‡®', label: 'Finland' },\n  { code: '+7', country: 'RU', flag: 'ðŸ‡·ðŸ‡º', label: 'Russia' },\n  { code: '+7', country: 'KZ', flag: 'ðŸ‡°ðŸ‡¿', label: 'Kazakhstan' },\n  { code: '+380', country: 'UA', flag: 'ðŸ‡ºðŸ‡¦', label: 'Ukraine' },\n  { code: '+90', country: 'TR', flag: 'ðŸ‡¹ðŸ‡·', label: 'Turkey' },\n  { code: '+972', country: 'IL', flag: 'ðŸ‡®ðŸ‡±', label: 'Israel' },\n  { code: '+971', country: 'AE', flag: 'ðŸ‡¦ðŸ‡ª', label: 'UAE' },\n  { code: '+966', country: 'SA', flag: 'ðŸ‡¸ðŸ‡¦', label: 'Saudi Arabia' },\n  { code: '+20', country: 'EG', flag: 'ðŸ‡ªðŸ‡¬', label: 'Egypt' },\n  { code: '+27', country: 'ZA', flag: 'ðŸ‡¿ðŸ‡¦', label: 'South Africa' },\n  { code: '+234', country: 'NG', flag: 'ðŸ‡³ðŸ‡¬', label: 'Nigeria' },\n  { code: '+254', country: 'KE', flag: 'ðŸ‡°ðŸ‡ª', label: 'Kenya' },\n  { code: '+62', country: 'ID', flag: 'ðŸ‡®ðŸ‡©', label: 'Indonesia' },\n  { code: '+63', country: 'PH', flag: 'ðŸ‡µðŸ‡­', label: 'Philippines' },\n  { code: '+65', country: 'SG', flag: 'ðŸ‡¸ðŸ‡¬', label: 'Singapore' },\n  { code: '+66', country: 'TH', flag: 'ðŸ‡¹ðŸ‡­', label: 'Thailand' },\n  { code: '+60', country: 'MY', flag: 'ðŸ‡²ðŸ‡¾', label: 'Malaysia' },\n  { code: '+84', country: 'VN', flag: 'ðŸ‡»ðŸ‡³', label: 'Vietnam' },\n  { code: '+92', country: 'PK', flag: 'ðŸ‡µðŸ‡°', label: 'Pakistan' },\n  { code: '+880', country: 'BD', flag: 'ðŸ‡§ðŸ‡©', label: 'Bangladesh' },\n  { code: '+94', country: 'LK', flag: 'ðŸ‡±ðŸ‡°', label: 'Sri Lanka' },\n  { code: '+993', country: 'TM', flag: 'ðŸ‡¹ðŸ‡²', label: 'Turkmenistan' },\n  { code: '+998', country: 'UZ', flag: 'ðŸ‡ºðŸ‡¿', label: 'Uzbekistan' },\n  { code: '+995', country: 'GE', flag: 'ðŸ‡¬ðŸ‡ª', label: 'Georgia' },\n  { code: '+994', country: 'AZ', flag: 'ðŸ‡¦ðŸ‡¿', label: 'Azerbaijan' },\n  { code: '+374', country: 'AM', flag: 'ðŸ‡¦ðŸ‡²', label: 'Armenia' },\n  { code: '+996', country: 'KG', flag: 'ðŸ‡°ðŸ‡¬', label: 'Kyrgyzstan' },\n  { code: '+992', country: 'TJ', flag: 'ðŸ‡¹ðŸ‡¯', label: 'Tajikistan' },\n  { code: '+57', country: 'CO', flag: 'ðŸ‡¨ðŸ‡´', label: 'Colombia' },\n  { code: '+56', country: 'CL', flag: 'ðŸ‡¨ðŸ‡±', label: 'Chile' },\n  { code: '+54', country: 'AR', flag: 'ðŸ‡¦ðŸ‡·', label: 'Argentina' },\n  { code: '+51', country: 'PE', flag: 'ðŸ‡µðŸ‡ª', label: 'Peru' },\n]\n\n// Format local number digits into groups: (XXX)-XXX-XXXX or XXX-XXX-XXXX\nfunction formatLocal(digits: string, dialCode: string): string {\n  if (!digits) return ''\n\n  // US/Canada/NANP (+1): (XXX)-XXX-XXXX\n  if (dialCode === '+1') {\n    if (digits.length <= 3) return `(${digits}`\n    if (digits.length <= 6) return `(${digits.slice(0, 3)})-${digits.slice(3)}`\n    return `(${digits.slice(0, 3)})-${digits.slice(3, 6)}-${digits.slice(6, 10)}`\n  }\n\n  // Russia/KZ (+7): (XXX)-XXX-XX-XX\n  if (dialCode === '+7') {\n    if (digits.length <= 3) return `(${digits}`\n    if (digits.length <= 6) return `(${digits.slice(0, 3)})-${digits.slice(3)}`\n    if (digits.length <= 8) return `(${digits.slice(0, 3)})-${digits.slice(3, 6)}-${digits.slice(6)}`\n    return `(${digits.slice(0, 3)})-${digits.slice(3, 6)}-${digits.slice(6, 8)}-${digits.slice(8, 10)}`\n  }\n\n  // Generic: XXX-XXX-XXXX\n  if (digits.length <= 3) return digits\n  if (digits.length <= 6) return `${digits.slice(0, 3)}-${digits.slice(3)}`\n  return `${digits.slice(0, 3)}-${digits.slice(3, 6)}-${digits.slice(6, 10)}`\n}\n\ninterface PhoneInputProps {\n  value?: string\n  onChange?: (value: string) => void\n  id?: string\n  className?: string\n}\n\nexport function PhoneInput({ value = '', onChange, id, className }: PhoneInputProps) {\n  // Parse initial value: try to extract country code and local number\n  const parseInitial = (v: string) => {\n    const digits = v.replace(/\\D/g, '')\n    // Try to find matching country code\n    for (const cc of countryCodes) {\n      const codeDigits = cc.code.replace('+', '')\n      if (digits.startsWith(codeDigits)) {\n        return { selected: cc, local: digits.slice(codeDigits.length) }\n      }\n    }\n    return { selected: countryCodes[0], local: digits }\n  }\n\n  const initial = parseInitial(value)\n  const [selected, setSelected] = useState(initial.selected)\n  const [localDigits, setLocalDigits] = useState(initial.local)\n  const [dropdownOpen, setDropdownOpen] = useState(false)\n  const [search, setSearch] = useState('')\n  const dropdownRef = useRef<HTMLDivElement>(null)\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  const emitChange = useCallback((code: string, local: string) => {\n    const full = local ? `${code}${local}` : ''\n    onChange?.(full)\n  }, [onChange])\n\n  const handleLocalChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const raw = e.target.value.replace(/\\D/g, '').slice(0, 10)\n    setLocalDigits(raw)\n    emitChange(selected.code, raw)\n  }\n\n  const handleSelectCode = (cc: typeof countryCodes[0]) => {\n    setSelected(cc)\n    setDropdownOpen(false)\n    setSearch('')\n    emitChange(cc.code, localDigits)\n    inputRef.current?.focus()\n  }\n\n  const filtered = search\n    ? countryCodes.filter(\n        (cc) =>\n          cc.label.toLowerCase().includes(search.toLowerCase()) ||\n          cc.code.includes(search) ||\n          cc.country.toLowerCase().includes(search.toLowerCase())\n      )\n    : countryCodes\n\n  return (\n    <div className={cn('relative flex', className)}>\n      {/* Country code selector */}\n      <div className=\"relative\">\n        <button\n          type=\"button\"\n          onClick={() => setDropdownOpen(!dropdownOpen)}\n          className=\"flex h-9 items-center gap-1 rounded-l-md border border-r-0 border-white/[0.1] bg-white/[0.05] px-2.5 text-sm text-zinc-300 hover:bg-white/[0.08] transition-colors\"\n        >\n          <span className=\"text-base leading-none\">{selected.flag}</span>\n          <span className=\"text-zinc-400\">{selected.code}</span>\n          <ChevronDown className=\"h-3 w-3 text-zinc-500\" />\n        </button>\n\n        {dropdownOpen && (\n          <>\n            {/* Backdrop to close dropdown */}\n            <div className=\"fixed inset-0 z-40\" onClick={() => { setDropdownOpen(false); setSearch('') }} />\n            <div\n              ref={dropdownRef}\n              className=\"absolute left-0 top-full z-50 mt-1 w-64 rounded-lg border border-white/[0.1] bg-[#1a1a1f] shadow-xl overflow-hidden\"\n            >\n              <div className=\"p-2\">\n                <input\n                  type=\"text\"\n                  autoFocus\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  placeholder=\"Search country...\"\n                  className=\"w-full rounded-md border border-white/[0.1] bg-white/[0.05] px-3 py-1.5 text-sm text-white placeholder:text-zinc-500 outline-none focus:border-blue-500/50\"\n                />\n              </div>\n              <div className=\"max-h-52 overflow-y-auto\">\n                {filtered.map((cc) => (\n                  <button\n                    key={`${cc.country}-${cc.code}`}\n                    type=\"button\"\n                    onClick={() => handleSelectCode(cc)}\n                    className={cn(\n                      'flex w-full items-center gap-2.5 px-3 py-2 text-sm hover:bg-white/[0.06] transition-colors',\n                      selected.country === cc.country && selected.code === cc.code\n                        ? 'bg-blue-500/10 text-blue-400'\n                        : 'text-zinc-300'\n                    )}\n                  >\n                    <span className=\"text-base leading-none\">{cc.flag}</span>\n                    <span className=\"flex-1 text-left\">{cc.label}</span>\n                    <span className=\"text-zinc-500\">{cc.code}</span>\n                  </button>\n                ))}\n                {filtered.length === 0 && (\n                  <p className=\"px-3 py-4 text-center text-sm text-zinc-500\">No results</p>\n                )}\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n\n      {/* Local number input */}\n      <input\n        ref={inputRef}\n        id={id}\n        type=\"tel\"\n        inputMode=\"numeric\"\n        value={formatLocal(localDigits, selected.code)}\n        onChange={handleLocalChange}\n        placeholder={selected.code === '+1' ? '(602)-999-4220' : '000-000-0000'}\n        className={cn(\n          'h-9 w-full min-w-0 rounded-r-md border border-white/[0.1] bg-white/[0.05] px-3 py-1 text-sm text-white shadow-xs outline-none transition-[color,box-shadow] placeholder:text-zinc-500',\n          'focus-visible:border-blue-500/50 focus-visible:ring-blue-500/20 focus-visible:ring-[3px]'\n        )}\n      />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 824, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/ui/date-picker.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useMemo, useEffect } from 'react'\nimport { cn } from '@/lib/utils'\nimport { CalendarDays, ChevronLeft, ChevronRight, ChevronDown } from 'lucide-react'\n\nconst MONTHS = [\n  'January', 'February', 'March', 'April', 'May', 'June',\n  'July', 'August', 'September', 'October', 'November', 'December',\n]\nconst MONTHS_SHORT = [\n  'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n  'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',\n]\nconst DAYS = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa']\n\ninterface DatePickerProps {\n  value?: string\n  onChange?: (value: string) => void\n  id?: string\n  placeholder?: string\n  className?: string\n  minYear?: number\n  maxYear?: number\n}\n\nexport function DatePicker({\n  value = '',\n  onChange,\n  id,\n  placeholder = 'DD / MM / YYYY',\n  className,\n  minYear = 1940,\n  maxYear,\n}: DatePickerProps) {\n  const currentYear = new Date().getFullYear()\n  const max = maxYear ?? currentYear\n\n  const parsed = value ? new Date(value + 'T00:00:00') : null\n  const selectedDay = parsed && !isNaN(parsed.getTime()) ? parsed.getDate() : null\n  const selectedMonth = parsed && !isNaN(parsed.getTime()) ? parsed.getMonth() : null\n  const selectedYear = parsed && !isNaN(parsed.getTime()) ? parsed.getFullYear() : null\n\n  const [open, setOpen] = useState(false)\n  const [viewMonth, setViewMonth] = useState(selectedMonth ?? 0)\n  const [viewYear, setViewYear] = useState(selectedYear ?? 1990)\n  const [monthPickerOpen, setMonthPickerOpen] = useState(false)\n  const [yearPickerOpen, setYearPickerOpen] = useState(false)\n  const containerRef = useRef<HTMLDivElement>(null)\n  const yearListRef = useRef<HTMLDivElement>(null)\n\n  // Scroll active year into view when year picker opens\n  useEffect(() => {\n    if (yearPickerOpen && yearListRef.current) {\n      const active = yearListRef.current.querySelector('[data-active=\"true\"]')\n      if (active) {\n        active.scrollIntoView({ block: 'center' })\n      }\n    }\n  }, [yearPickerOpen])\n\n  const displayText = parsed && !isNaN(parsed.getTime())\n    ? `${String(parsed.getDate()).padStart(2, '0')} / ${String(parsed.getMonth() + 1).padStart(2, '0')} / ${parsed.getFullYear()}`\n    : ''\n\n  const calendarDays = useMemo(() => {\n    const firstDay = new Date(viewYear, viewMonth, 1).getDay()\n    const daysInMonth = new Date(viewYear, viewMonth + 1, 0).getDate()\n    const daysInPrevMonth = new Date(viewYear, viewMonth, 0).getDate()\n\n    const cells: { day: number; current: boolean; date: Date }[] = []\n\n    for (let i = firstDay - 1; i >= 0; i--) {\n      const d = daysInPrevMonth - i\n      cells.push({ day: d, current: false, date: new Date(viewYear, viewMonth - 1, d) })\n    }\n    for (let d = 1; d <= daysInMonth; d++) {\n      cells.push({ day: d, current: true, date: new Date(viewYear, viewMonth, d) })\n    }\n    const remaining = 42 - cells.length\n    for (let d = 1; d <= remaining; d++) {\n      cells.push({ day: d, current: false, date: new Date(viewYear, viewMonth + 1, d) })\n    }\n\n    return cells\n  }, [viewMonth, viewYear])\n\n  const years = useMemo(() => {\n    const arr: number[] = []\n    for (let y = max; y >= minYear; y--) arr.push(y)\n    return arr\n  }, [minYear, max])\n\n  // Decade range for quick year navigation\n  const decadeStart = Math.floor(viewYear / 10) * 10\n\n  const handleSelect = (date: Date) => {\n    const y = date.getFullYear()\n    const m = String(date.getMonth() + 1).padStart(2, '0')\n    const d = String(date.getDate()).padStart(2, '0')\n    onChange?.(`${y}-${m}-${d}`)\n    setOpen(false)\n  }\n\n  const prevMonth = () => {\n    if (viewMonth === 0) {\n      setViewMonth(11)\n      setViewYear(viewYear - 1)\n    } else {\n      setViewMonth(viewMonth - 1)\n    }\n  }\n\n  const nextMonth = () => {\n    if (viewMonth === 11) {\n      setViewMonth(0)\n      setViewYear(viewYear + 1)\n    } else {\n      setViewMonth(viewMonth + 1)\n    }\n  }\n\n  const isSelected = (date: Date) =>\n    selectedDay === date.getDate() &&\n    selectedMonth === date.getMonth() &&\n    selectedYear === date.getFullYear()\n\n  const isToday = (date: Date) => {\n    const now = new Date()\n    return date.getDate() === now.getDate() &&\n      date.getMonth() === now.getMonth() &&\n      date.getFullYear() === now.getFullYear()\n  }\n\n  // Which sub-view to show\n  const showingPicker = monthPickerOpen || yearPickerOpen\n\n  return (\n    <div ref={containerRef} className={cn('relative', className)}>\n      {/* Trigger button */}\n      <button\n        id={id}\n        type=\"button\"\n        onClick={() => setOpen(!open)}\n        className={cn(\n          'flex h-9 w-full items-center justify-between rounded-md border border-white/[0.1] bg-white/[0.05] px-3 py-1 text-sm shadow-xs outline-none transition-[color,box-shadow]',\n          'focus-visible:border-blue-500/50 focus-visible:ring-blue-500/20 focus-visible:ring-[3px]',\n          displayText ? 'text-white' : 'text-zinc-500'\n        )}\n      >\n        <span>{displayText || placeholder}</span>\n        <CalendarDays className=\"h-4 w-4 text-zinc-500\" />\n      </button>\n\n      {/* Dropdown calendar */}\n      {open && (\n        <>\n          <div className=\"fixed inset-0 z-40\" onClick={() => { setOpen(false); setMonthPickerOpen(false); setYearPickerOpen(false) }} />\n          <div className=\"absolute left-0 top-full z-50 mt-1 w-[300px] rounded-xl border border-white/[0.1] bg-[#18181b] p-4 shadow-2xl\">\n\n            {/* Header: navigation + month/year buttons */}\n            <div className=\"mb-3 flex items-center gap-1.5\">\n              <button\n                type=\"button\"\n                onClick={prevMonth}\n                className=\"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg hover:bg-white/[0.08] text-zinc-400 transition-colors\"\n              >\n                <ChevronLeft className=\"h-4 w-4\" />\n              </button>\n\n              {/* Month button */}\n              <button\n                type=\"button\"\n                onClick={() => { setMonthPickerOpen(!monthPickerOpen); setYearPickerOpen(false) }}\n                className={cn(\n                  'flex h-8 flex-1 items-center justify-center gap-1.5 rounded-lg text-sm font-medium transition-colors',\n                  monthPickerOpen\n                    ? 'bg-blue-500/15 text-blue-400'\n                    : 'text-zinc-200 hover:bg-white/[0.06]'\n                )}\n              >\n                {MONTHS[viewMonth]}\n                <ChevronDown className={cn('h-3 w-3 transition-transform', monthPickerOpen && 'rotate-180')} />\n              </button>\n\n              {/* Year button */}\n              <button\n                type=\"button\"\n                onClick={() => { setYearPickerOpen(!yearPickerOpen); setMonthPickerOpen(false) }}\n                className={cn(\n                  'flex h-8 w-[80px] shrink-0 items-center justify-center gap-1.5 rounded-lg text-sm font-medium transition-colors',\n                  yearPickerOpen\n                    ? 'bg-blue-500/15 text-blue-400'\n                    : 'text-zinc-200 hover:bg-white/[0.06]'\n                )}\n              >\n                {viewYear}\n                <ChevronDown className={cn('h-3 w-3 transition-transform', yearPickerOpen && 'rotate-180')} />\n              </button>\n\n              <button\n                type=\"button\"\n                onClick={nextMonth}\n                className=\"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg hover:bg-white/[0.08] text-zinc-400 transition-colors\"\n              >\n                <ChevronRight className=\"h-4 w-4\" />\n              </button>\n            </div>\n\n            {/* Month picker grid */}\n            {monthPickerOpen && (\n              <div className=\"mb-3 grid grid-cols-3 gap-1.5\">\n                {MONTHS_SHORT.map((m, i) => (\n                  <button\n                    key={m}\n                    type=\"button\"\n                    onClick={() => { setViewMonth(i); setMonthPickerOpen(false) }}\n                    className={cn(\n                      'flex h-9 items-center justify-center rounded-lg text-sm transition-colors',\n                      i === viewMonth\n                        ? 'bg-blue-500 text-white font-medium'\n                        : 'text-zinc-300 hover:bg-white/[0.06]'\n                    )}\n                  >\n                    {m}\n                  </button>\n                ))}\n              </div>\n            )}\n\n            {/* Year picker grid */}\n            {yearPickerOpen && (\n              <div className=\"mb-3\">\n                {/* Decade navigation */}\n                <div className=\"mb-2 flex items-center justify-between\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setViewYear(Math.max(minYear, viewYear - 10))}\n                    className=\"flex h-7 w-7 items-center justify-center rounded-md text-zinc-500 hover:bg-white/[0.06] hover:text-zinc-300 transition-colors\"\n                  >\n                    <ChevronLeft className=\"h-3.5 w-3.5\" />\n                  </button>\n                  <span className=\"text-xs font-medium text-zinc-500\">\n                    {decadeStart} &mdash; {decadeStart + 9}\n                  </span>\n                  <button\n                    type=\"button\"\n                    onClick={() => setViewYear(Math.min(max, viewYear + 10))}\n                    className=\"flex h-7 w-7 items-center justify-center rounded-md text-zinc-500 hover:bg-white/[0.06] hover:text-zinc-300 transition-colors\"\n                  >\n                    <ChevronRight className=\"h-3.5 w-3.5\" />\n                  </button>\n                </div>\n                <div ref={yearListRef} className=\"grid grid-cols-4 gap-1.5 max-h-[200px] overflow-y-auto scrollbar-thin\">\n                  {years.map((y) => (\n                    <button\n                      key={y}\n                      type=\"button\"\n                      data-active={y === viewYear}\n                      onClick={() => { setViewYear(y); setYearPickerOpen(false) }}\n                      className={cn(\n                        'flex h-9 items-center justify-center rounded-lg text-sm transition-colors',\n                        y === viewYear\n                          ? 'bg-blue-500 text-white font-medium'\n                          : 'text-zinc-400 hover:bg-white/[0.06] hover:text-zinc-200'\n                      )}\n                    >\n                      {y}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Calendar view (hidden when month/year picker is open) */}\n            {!showingPicker && (\n              <>\n                {/* Day headers */}\n                <div className=\"mb-1 grid grid-cols-7 gap-0\">\n                  {DAYS.map((d) => (\n                    <div key={d} className=\"py-1 text-center text-xs font-medium text-zinc-500\">\n                      {d}\n                    </div>\n                  ))}\n                </div>\n\n                {/* Day grid */}\n                <div className=\"grid grid-cols-7 gap-0\">\n                  {calendarDays.map((cell, i) => (\n                    <button\n                      key={i}\n                      type=\"button\"\n                      onClick={() => handleSelect(cell.date)}\n                      className={cn(\n                        'flex h-8 w-full items-center justify-center rounded-lg text-sm transition-colors',\n                        cell.current ? 'text-zinc-200' : 'text-zinc-600',\n                        isSelected(cell.date)\n                          ? 'bg-blue-500 text-white font-medium'\n                          : isToday(cell.date)\n                          ? 'bg-white/[0.08] text-blue-400'\n                          : 'hover:bg-white/[0.06]'\n                      )}\n                    >\n                      {cell.day}\n                    </button>\n                  ))}\n                </div>\n              </>\n            )}\n\n            {/* Quick actions */}\n            <div className=\"mt-3 flex items-center justify-between border-t border-white/[0.06] pt-3\">\n              <button\n                type=\"button\"\n                onClick={() => {\n                  const now = new Date()\n                  setViewMonth(now.getMonth())\n                  setViewYear(now.getFullYear())\n                  setMonthPickerOpen(false)\n                  setYearPickerOpen(false)\n                }}\n                className=\"text-xs text-zinc-500 hover:text-zinc-300 transition-colors\"\n              >\n                Today\n              </button>\n              {displayText && (\n                <button\n                  type=\"button\"\n                  onClick={() => { onChange?.(''); setOpen(false) }}\n                  className=\"text-xs text-zinc-500 hover:text-red-400 transition-colors\"\n                >\n                  Clear\n                </button>\n              )}\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1307, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\nimport { Select as SelectPrimitive } from \"radix-ui\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = \"default\",\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: \"sm\" | \"default\"\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = \"item-aligned\",\n  align = \"center\",\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\n          position === \"popper\" &&\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n          className\n        )}\n        position={position}\n        align={align}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            \"p-1\",\n            position === \"popper\" &&\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\"\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className\n      )}\n      {...props}\n    >\n      <span\n        data-slot=\"select-item-indicator\"\n        className=\"absolute right-2 flex size-3.5 items-center justify-center\"\n      >\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AAAA;AAAA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,8OAAC,8MAAe,CAAC,IAAI;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,8MAAe,CAAC,KAAK;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,8MAAe,CAAC,KAAK;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,8OAAC,8MAAe,CAAC,OAAO;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,yHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,8MAAe,CAAC,IAAI;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,2OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,cAAc,EACzB,QAAQ,QAAQ,EAChB,GAAG,OACkD;IACrD,qBACE,8OAAC,8MAAe,CAAC,MAAM;kBACrB,cAAA,8OAAC,8MAAe,CAAC,OAAO;YACtB,aAAU;YACV,WAAW,IAAA,yHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACV,OAAO;YACN,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8MAAe,CAAC,QAAQ;oBACvB,WAAW,IAAA,yHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIT;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,8MAAe,CAAC,KAAK;QACpB,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,8OAAC,8MAAe,CAAC,IAAI;QACnB,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBACC,aAAU;gBACV,WAAU;0BAEV,cAAA,8OAAC,8MAAe,CAAC,aAAa;8BAC5B,cAAA,8OAAC,qNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,8OAAC,8MAAe,CAAC,QAAQ;0BAAE;;;;;;;;;;;;AAGjC;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,8OAAC,8MAAe,CAAC,SAAS;QACxB,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,8OAAC,8MAAe,CAAC,cAAc;QAC7B,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,qOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;AAEA,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,8OAAC,8MAAe,CAAC,gBAAgB;QAC/B,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,2OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC"}},
    {"offset": {"line": 1542, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/lib/validations/onboarding.ts"],"sourcesContent":["import * as z from 'zod'\n\n// Step 1: Basic Info\nexport const basicInfoSchema = z.object({\n  fullName: z.string().min(2, 'Name must be at least 2 characters'),\n  email: z.string().email('Please enter a valid email address'),\n  phone: z.string().min(6, 'Please enter a valid phone number'),\n  gender: z.enum(['male', 'female']).optional(),\n  countryOfOrigin: z.string().min(1, 'Please select your country of origin'),\n  countryOfResidence: z.string().min(1, 'Please select your country of residence'),\n  dateOfBirth: z.string().optional(),\n  address: z.string().optional(),\n})\n\nexport type BasicInfoFormData = z.infer<typeof basicInfoSchema>\n\n// Step 2: Identity Verification\nexport const identitySchema = z.object({\n  hasPassport: z.boolean(),\n  hasLocalId: z.boolean(),\n  hasAddressProof: z.boolean(),\n  hasLivenessCheck: z.boolean().optional(),\n  faceSkipped: z.boolean().optional(),\n  passportNameMatch: z.boolean().optional(),\n  passportDobMatch: z.boolean().optional(),\n  passportGenderMatch: z.boolean().optional(),\n  passportNationalityMatch: z.boolean().optional(),\n  passportFile: z.any().optional(),\n  localIdFile: z.any().optional(),\n  addressProofFile: z.any().optional(),\n  passportData: z.any().optional(),\n  localIdData: z.any().optional(),\n  addressProofData: z.any().optional(),\n})\n\nexport type IdentityFormData = z.infer<typeof identitySchema>\n\n// Step 3: Code History (Digital Lineage)\nexport const codeHistorySchema = z.object({\n  hasGithub: z.boolean(),\n  githubUsername: z.string().optional(),\n  githubConnected: z.boolean().optional(),\n})\n\nexport type CodeHistoryFormData = z.infer<typeof codeHistorySchema>\n\n// Step 4: Professional (Digital Lineage)\nexport const professionalSchema = z.object({\n  hasLinkedin: z.boolean(),\n  linkedinUrl: z.string().url('Please enter a valid URL').or(z.string().length(0)).optional(),\n  linkedinConnected: z.boolean().optional(),\n})\n\nexport type ProfessionalFormData = z.infer<typeof professionalSchema>\n\n// Step 5: Financial (Digital Lineage)\nexport const financialSchema = z.object({\n  hasStripeConnected: z.boolean(),\n  monthlyRevenue: z.string().optional(),\n  customerGeography: z.string().optional(),\n  chargebackRate: z.string().optional(),\n  hasBankStatements: z.boolean(),\n})\n\nexport type FinancialFormData = z.infer<typeof financialSchema>\n\n// Step 6: Digital Presence\nexport const digitalPresenceSchema = z.object({\n  website: z.string().url('Please enter a valid URL').or(z.string().length(0)).optional(),\n  twitterHandle: z.string().optional(),\n  instagramHandle: z.string().optional(),\n  appStoreUrl: z.string().url('Please enter a valid URL').or(z.string().length(0)).optional(),\n  websiteVerified: z.boolean().optional(),\n  twitterVerified: z.boolean().optional(),\n  instagramVerified: z.boolean().optional(),\n  appStoreVerified: z.boolean().optional(),\n})\n\nexport type DigitalPresenceFormData = z.infer<typeof digitalPresenceSchema>\n\n// Step 7: Trust Signals\nexport const trustSignalsSchema = z.object({\n  hasReferral: z.boolean(),\n  referralCode: z.string().optional(),\n  referralVerified: z.boolean().optional(),\n  referrerName: z.string().optional(),\n  hasUniversityEmail: z.boolean(),\n  universityEmail: z.string().email().optional().or(z.string().length(0)),\n  universityEmailVerified: z.boolean().optional(),\n  hasAccelerator: z.boolean(),\n  acceleratorName: z.string().optional(),\n  acceleratorVerified: z.boolean().optional(),\n  hasEmployerVerification: z.boolean(),\n  employerName: z.string().optional(),\n})\n\nexport type TrustSignalsFormData = z.infer<typeof trustSignalsSchema>\n\n// Combined onboarding data\nexport const onboardingSchema = z.object({\n  basicInfo: basicInfoSchema,\n  identity: identitySchema,\n  codeHistory: codeHistorySchema,\n  professional: professionalSchema,\n  financial: financialSchema,\n  digitalPresence: digitalPresenceSchema,\n  trustSignals: trustSignalsSchema,\n})\n\nexport type OnboardingFormData = z.infer<typeof onboardingSchema>\n\n// Country risk tiers (replaces highRiskCountries)\nexport const countryRiskTiers: Record<string, number> = {\n  // Tier 1: No adjustment (0)\n  CA: 0, GB: 0, DE: 0, FR: 0, AU: 0, SG: 0, IE: 0, NL: 0, SE: 0, DK: 0,\n  NO: 0, FI: 0, AT: 0, BE: 0, CH: 0, NZ: 0, JP: 0, KR: 0, IT: 0, ES: 0,\n  PT: 0, CZ: 0, PL: 0, US: 0,\n  // Tier 2: -5 points\n  IN: -5, BR: -5, MX: -5, PH: -5, ID: -5, TH: -5, MY: -5, AR: -5,\n  CO: -5, CL: -5, PE: -5, EG: -5, ZA: -5, TR: -5,\n  // Tier 3: -10 points\n  PK: -10, NG: -10, KE: -10, VN: -10, GH: -10, TZ: -10, UG: -10,\n  ET: -10, CM: -10, SN: -10, RW: -10, MM: -10, KH: -10, LA: -10,\n  // Tier 4: -15 points\n  TM: -15, UZ: -15, BD: -15, VE: -15, AF: -15, IQ: -15, LY: -15,\n  SD: -15, SS: -15, YE: -15, SO: -15, ER: -15, CF: -15, TJ: -15,\n  KG: -15,\n}\n\n// OFAC sanctioned countries (still blocked)\nexport const highRiskCountries = [\n  'CU', // Cuba\n  'IR', // Iran\n  'KP', // North Korea\n  'SY', // Syria\n  'RU', // Russia\n  'BY', // Belarus\n]\n\nexport function getCountryPenalty(countryCode: string): number {\n  if (highRiskCountries.includes(countryCode)) return -20\n  return countryRiskTiers[countryCode] ?? -5\n}\n\n// Complete list of all countries (ISO 3166-1)\nexport const countries = [\n  { code: 'AF', name: 'Afghanistan' },\n  { code: 'AL', name: 'Albania' },\n  { code: 'DZ', name: 'Algeria' },\n  { code: 'AS', name: 'American Samoa' },\n  { code: 'AD', name: 'Andorra' },\n  { code: 'AO', name: 'Angola' },\n  { code: 'AI', name: 'Anguilla' },\n  { code: 'AQ', name: 'Antarctica' },\n  { code: 'AG', name: 'Antigua and Barbuda' },\n  { code: 'AR', name: 'Argentina' },\n  { code: 'AM', name: 'Armenia' },\n  { code: 'AW', name: 'Aruba' },\n  { code: 'AU', name: 'Australia' },\n  { code: 'AT', name: 'Austria' },\n  { code: 'AZ', name: 'Azerbaijan' },\n  { code: 'BS', name: 'Bahamas' },\n  { code: 'BH', name: 'Bahrain' },\n  { code: 'BD', name: 'Bangladesh' },\n  { code: 'BB', name: 'Barbados' },\n  { code: 'BY', name: 'Belarus' },\n  { code: 'BE', name: 'Belgium' },\n  { code: 'BZ', name: 'Belize' },\n  { code: 'BJ', name: 'Benin' },\n  { code: 'BM', name: 'Bermuda' },\n  { code: 'BT', name: 'Bhutan' },\n  { code: 'BO', name: 'Bolivia' },\n  { code: 'BA', name: 'Bosnia and Herzegovina' },\n  { code: 'BW', name: 'Botswana' },\n  { code: 'BR', name: 'Brazil' },\n  { code: 'IO', name: 'British Indian Ocean Territory' },\n  { code: 'BN', name: 'Brunei' },\n  { code: 'BG', name: 'Bulgaria' },\n  { code: 'BF', name: 'Burkina Faso' },\n  { code: 'BI', name: 'Burundi' },\n  { code: 'CV', name: 'Cabo Verde' },\n  { code: 'KH', name: 'Cambodia' },\n  { code: 'CM', name: 'Cameroon' },\n  { code: 'CA', name: 'Canada' },\n  { code: 'KY', name: 'Cayman Islands' },\n  { code: 'CF', name: 'Central African Republic' },\n  { code: 'TD', name: 'Chad' },\n  { code: 'CL', name: 'Chile' },\n  { code: 'CN', name: 'China' },\n  { code: 'CX', name: 'Christmas Island' },\n  { code: 'CC', name: 'Cocos (Keeling) Islands' },\n  { code: 'CO', name: 'Colombia' },\n  { code: 'KM', name: 'Comoros' },\n  { code: 'CG', name: 'Congo' },\n  { code: 'CD', name: 'Congo (Democratic Republic)' },\n  { code: 'CK', name: 'Cook Islands' },\n  { code: 'CR', name: 'Costa Rica' },\n  { code: 'HR', name: 'Croatia' },\n  { code: 'CU', name: 'Cuba' },\n  { code: 'CW', name: 'Curacao' },\n  { code: 'CY', name: 'Cyprus' },\n  { code: 'CZ', name: 'Czech Republic' },\n  { code: 'CI', name: \"Cote d'Ivoire\" },\n  { code: 'DK', name: 'Denmark' },\n  { code: 'DJ', name: 'Djibouti' },\n  { code: 'DM', name: 'Dominica' },\n  { code: 'DO', name: 'Dominican Republic' },\n  { code: 'EC', name: 'Ecuador' },\n  { code: 'EG', name: 'Egypt' },\n  { code: 'SV', name: 'El Salvador' },\n  { code: 'GQ', name: 'Equatorial Guinea' },\n  { code: 'ER', name: 'Eritrea' },\n  { code: 'EE', name: 'Estonia' },\n  { code: 'SZ', name: 'Eswatini' },\n  { code: 'ET', name: 'Ethiopia' },\n  { code: 'FK', name: 'Falkland Islands' },\n  { code: 'FO', name: 'Faroe Islands' },\n  { code: 'FJ', name: 'Fiji' },\n  { code: 'FI', name: 'Finland' },\n  { code: 'FR', name: 'France' },\n  { code: 'GF', name: 'French Guiana' },\n  { code: 'PF', name: 'French Polynesia' },\n  { code: 'GA', name: 'Gabon' },\n  { code: 'GM', name: 'Gambia' },\n  { code: 'GE', name: 'Georgia' },\n  { code: 'DE', name: 'Germany' },\n  { code: 'GH', name: 'Ghana' },\n  { code: 'GI', name: 'Gibraltar' },\n  { code: 'GR', name: 'Greece' },\n  { code: 'GL', name: 'Greenland' },\n  { code: 'GD', name: 'Grenada' },\n  { code: 'GP', name: 'Guadeloupe' },\n  { code: 'GU', name: 'Guam' },\n  { code: 'GT', name: 'Guatemala' },\n  { code: 'GG', name: 'Guernsey' },\n  { code: 'GN', name: 'Guinea' },\n  { code: 'GW', name: 'Guinea-Bissau' },\n  { code: 'GY', name: 'Guyana' },\n  { code: 'HT', name: 'Haiti' },\n  { code: 'HN', name: 'Honduras' },\n  { code: 'HK', name: 'Hong Kong' },\n  { code: 'HU', name: 'Hungary' },\n  { code: 'IS', name: 'Iceland' },\n  { code: 'IN', name: 'India' },\n  { code: 'ID', name: 'Indonesia' },\n  { code: 'IR', name: 'Iran' },\n  { code: 'IQ', name: 'Iraq' },\n  { code: 'IE', name: 'Ireland' },\n  { code: 'IM', name: 'Isle of Man' },\n  { code: 'IL', name: 'Israel' },\n  { code: 'IT', name: 'Italy' },\n  { code: 'JM', name: 'Jamaica' },\n  { code: 'JP', name: 'Japan' },\n  { code: 'JE', name: 'Jersey' },\n  { code: 'JO', name: 'Jordan' },\n  { code: 'KZ', name: 'Kazakhstan' },\n  { code: 'KE', name: 'Kenya' },\n  { code: 'KI', name: 'Kiribati' },\n  { code: 'KP', name: 'North Korea' },\n  { code: 'KR', name: 'South Korea' },\n  { code: 'KW', name: 'Kuwait' },\n  { code: 'KG', name: 'Kyrgyzstan' },\n  { code: 'LA', name: 'Laos' },\n  { code: 'LV', name: 'Latvia' },\n  { code: 'LB', name: 'Lebanon' },\n  { code: 'LS', name: 'Lesotho' },\n  { code: 'LR', name: 'Liberia' },\n  { code: 'LY', name: 'Libya' },\n  { code: 'LI', name: 'Liechtenstein' },\n  { code: 'LT', name: 'Lithuania' },\n  { code: 'LU', name: 'Luxembourg' },\n  { code: 'MO', name: 'Macao' },\n  { code: 'MG', name: 'Madagascar' },\n  { code: 'MW', name: 'Malawi' },\n  { code: 'MY', name: 'Malaysia' },\n  { code: 'MV', name: 'Maldives' },\n  { code: 'ML', name: 'Mali' },\n  { code: 'MT', name: 'Malta' },\n  { code: 'MH', name: 'Marshall Islands' },\n  { code: 'MQ', name: 'Martinique' },\n  { code: 'MR', name: 'Mauritania' },\n  { code: 'MU', name: 'Mauritius' },\n  { code: 'YT', name: 'Mayotte' },\n  { code: 'MX', name: 'Mexico' },\n  { code: 'FM', name: 'Micronesia' },\n  { code: 'MD', name: 'Moldova' },\n  { code: 'MC', name: 'Monaco' },\n  { code: 'MN', name: 'Mongolia' },\n  { code: 'ME', name: 'Montenegro' },\n  { code: 'MS', name: 'Montserrat' },\n  { code: 'MA', name: 'Morocco' },\n  { code: 'MZ', name: 'Mozambique' },\n  { code: 'MM', name: 'Myanmar' },\n  { code: 'NA', name: 'Namibia' },\n  { code: 'NR', name: 'Nauru' },\n  { code: 'NP', name: 'Nepal' },\n  { code: 'NL', name: 'Netherlands' },\n  { code: 'NC', name: 'New Caledonia' },\n  { code: 'NZ', name: 'New Zealand' },\n  { code: 'NI', name: 'Nicaragua' },\n  { code: 'NE', name: 'Niger' },\n  { code: 'NG', name: 'Nigeria' },\n  { code: 'NU', name: 'Niue' },\n  { code: 'NF', name: 'Norfolk Island' },\n  { code: 'MK', name: 'North Macedonia' },\n  { code: 'MP', name: 'Northern Mariana Islands' },\n  { code: 'NO', name: 'Norway' },\n  { code: 'OM', name: 'Oman' },\n  { code: 'PK', name: 'Pakistan' },\n  { code: 'PW', name: 'Palau' },\n  { code: 'PS', name: 'Palestine' },\n  { code: 'PA', name: 'Panama' },\n  { code: 'PG', name: 'Papua New Guinea' },\n  { code: 'PY', name: 'Paraguay' },\n  { code: 'PE', name: 'Peru' },\n  { code: 'PH', name: 'Philippines' },\n  { code: 'PN', name: 'Pitcairn' },\n  { code: 'PL', name: 'Poland' },\n  { code: 'PT', name: 'Portugal' },\n  { code: 'PR', name: 'Puerto Rico' },\n  { code: 'QA', name: 'Qatar' },\n  { code: 'RO', name: 'Romania' },\n  { code: 'RU', name: 'Russia' },\n  { code: 'RW', name: 'Rwanda' },\n  { code: 'RE', name: 'Reunion' },\n  { code: 'BL', name: 'Saint Barthelemy' },\n  { code: 'SH', name: 'Saint Helena' },\n  { code: 'KN', name: 'Saint Kitts and Nevis' },\n  { code: 'LC', name: 'Saint Lucia' },\n  { code: 'MF', name: 'Saint Martin' },\n  { code: 'PM', name: 'Saint Pierre and Miquelon' },\n  { code: 'VC', name: 'Saint Vincent and the Grenadines' },\n  { code: 'WS', name: 'Samoa' },\n  { code: 'SM', name: 'San Marino' },\n  { code: 'ST', name: 'Sao Tome and Principe' },\n  { code: 'SA', name: 'Saudi Arabia' },\n  { code: 'SN', name: 'Senegal' },\n  { code: 'RS', name: 'Serbia' },\n  { code: 'SC', name: 'Seychelles' },\n  { code: 'SL', name: 'Sierra Leone' },\n  { code: 'SG', name: 'Singapore' },\n  { code: 'SX', name: 'Sint Maarten' },\n  { code: 'SK', name: 'Slovakia' },\n  { code: 'SI', name: 'Slovenia' },\n  { code: 'SB', name: 'Solomon Islands' },\n  { code: 'SO', name: 'Somalia' },\n  { code: 'ZA', name: 'South Africa' },\n  { code: 'GS', name: 'South Georgia' },\n  { code: 'SS', name: 'South Sudan' },\n  { code: 'ES', name: 'Spain' },\n  { code: 'LK', name: 'Sri Lanka' },\n  { code: 'SD', name: 'Sudan' },\n  { code: 'SR', name: 'Suriname' },\n  { code: 'SJ', name: 'Svalbard and Jan Mayen' },\n  { code: 'SE', name: 'Sweden' },\n  { code: 'CH', name: 'Switzerland' },\n  { code: 'SY', name: 'Syria' },\n  { code: 'TW', name: 'Taiwan' },\n  { code: 'TJ', name: 'Tajikistan' },\n  { code: 'TZ', name: 'Tanzania' },\n  { code: 'TH', name: 'Thailand' },\n  { code: 'TL', name: 'Timor-Leste' },\n  { code: 'TG', name: 'Togo' },\n  { code: 'TK', name: 'Tokelau' },\n  { code: 'TO', name: 'Tonga' },\n  { code: 'TT', name: 'Trinidad and Tobago' },\n  { code: 'TN', name: 'Tunisia' },\n  { code: 'TR', name: 'Turkey' },\n  { code: 'TM', name: 'Turkmenistan' },\n  { code: 'TC', name: 'Turks and Caicos Islands' },\n  { code: 'TV', name: 'Tuvalu' },\n  { code: 'UG', name: 'Uganda' },\n  { code: 'UA', name: 'Ukraine' },\n  { code: 'AE', name: 'United Arab Emirates' },\n  { code: 'GB', name: 'United Kingdom' },\n  { code: 'US', name: 'United States' },\n  { code: 'UM', name: 'United States Minor Outlying Islands' },\n  { code: 'UY', name: 'Uruguay' },\n  { code: 'UZ', name: 'Uzbekistan' },\n  { code: 'VU', name: 'Vanuatu' },\n  { code: 'VA', name: 'Vatican City' },\n  { code: 'VE', name: 'Venezuela' },\n  { code: 'VN', name: 'Vietnam' },\n  { code: 'VG', name: 'British Virgin Islands' },\n  { code: 'VI', name: 'U.S. Virgin Islands' },\n  { code: 'WF', name: 'Wallis and Futuna' },\n  { code: 'EH', name: 'Western Sahara' },\n  { code: 'YE', name: 'Yemen' },\n  { code: 'ZM', name: 'Zambia' },\n  { code: 'ZW', name: 'Zimbabwe' },\n]\n\nexport const revenueOptions = [\n  { value: '0', label: '$0 (Pre-revenue)' },\n  { value: '1-1000', label: '$1 - $1,000/month' },\n  { value: '1000-5000', label: '$1,000 - $5,000/month' },\n  { value: '5000-10000', label: '$5,000 - $10,000/month' },\n  { value: '10000-50000', label: '$10,000 - $50,000/month' },\n  { value: '50000+', label: '$50,000+/month' },\n]\n\nexport const geographyOptions = [\n  { value: 'us_eu', label: 'Primarily US/EU' },\n  { value: 'mixed', label: 'Mixed (US/EU + other)' },\n  { value: 'emerging', label: 'Primarily emerging markets' },\n]\n\nexport const chargebackOptions = [\n  { value: 'none', label: 'No chargebacks' },\n  { value: 'low', label: 'Under 1%' },\n  { value: 'medium', label: '1% - 3%' },\n  { value: 'high', label: 'Over 3%' },\n]\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2781, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/onboarding/step-basic-info.tsx"],"sourcesContent":["'use client'\n\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { PhoneInput } from '@/components/ui/phone-input'\nimport { DatePicker } from '@/components/ui/date-picker'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport {\n  basicInfoSchema,\n  BasicInfoFormData,\n  countries,\n} from '@/lib/validations/onboarding'\nimport { ArrowRight } from 'lucide-react'\n\ninterface StepBasicInfoProps {\n  data: Partial<BasicInfoFormData>\n  onNext: (data: BasicInfoFormData) => void\n}\n\nexport function StepBasicInfo({ data, onNext }: StepBasicInfoProps) {\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    watch,\n    formState: { errors },\n  } = useForm<BasicInfoFormData>({\n    resolver: zodResolver(basicInfoSchema),\n    defaultValues: data,\n  })\n\n  const gender = watch('gender')\n  const countryOfOrigin = watch('countryOfOrigin')\n  const countryOfResidence = watch('countryOfResidence')\n\n  return (\n    <form onSubmit={handleSubmit(onNext)} className=\"space-y-6\">\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"fullName\" className=\"text-zinc-300\">Full Legal Name</Label>\n        <Input\n          id=\"fullName\"\n          placeholder=\"As it appears on your passport\"\n          {...register('fullName')}\n        />\n        {errors.fullName && (\n          <p className=\"text-sm text-red-400\">{errors.fullName.message}</p>\n        )}\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"email\" className=\"text-zinc-300\">Email Address</Label>\n        <Input\n          id=\"email\"\n          type=\"email\"\n          placeholder=\"founder@company.com\"\n          {...register('email')}\n        />\n        {errors.email && (\n          <p className=\"text-sm text-red-400\">{errors.email.message}</p>\n        )}\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"phone\" className=\"text-zinc-300\">Phone Number</Label>\n        <PhoneInput\n          id=\"phone\"\n          value={watch('phone') || ''}\n          onChange={(val) => setValue('phone', val, { shouldValidate: true })}\n        />\n        {errors.phone && (\n          <p className=\"text-sm text-red-400\">{errors.phone.message}</p>\n        )}\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label className=\"text-zinc-300\">Gender</Label>\n        <Select\n          value={gender}\n          onValueChange={(value) => setValue('gender', value as 'male' | 'female')}\n        >\n          <SelectTrigger>\n            <SelectValue placeholder=\"Select your gender\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"male\">Male</SelectItem>\n            <SelectItem value=\"female\">Female</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label className=\"text-zinc-300\">Country of Origin (Citizenship)</Label>\n        <Select\n          value={countryOfOrigin}\n          onValueChange={(value) => setValue('countryOfOrigin', value)}\n        >\n          <SelectTrigger>\n            <SelectValue placeholder=\"Select your country of origin\" />\n          </SelectTrigger>\n          <SelectContent>\n            {countries.map((country) => (\n              <SelectItem key={country.code} value={country.code}>\n                {country.name}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n        {errors.countryOfOrigin && (\n          <p className=\"text-sm text-red-400\">{errors.countryOfOrigin.message}</p>\n        )}\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label className=\"text-zinc-300\">Country of Residence</Label>\n        <Select\n          value={countryOfResidence}\n          onValueChange={(value) => setValue('countryOfResidence', value)}\n        >\n          <SelectTrigger>\n            <SelectValue placeholder=\"Select your current country of residence\" />\n          </SelectTrigger>\n          <SelectContent>\n            {countries.map((country) => (\n              <SelectItem key={country.code} value={country.code}>\n                {country.name}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n        {errors.countryOfResidence && (\n          <p className=\"text-sm text-red-400\">{errors.countryOfResidence.message}</p>\n        )}\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"dateOfBirth\" className=\"text-zinc-300\">Date of Birth</Label>\n        <DatePicker\n          id=\"dateOfBirth\"\n          value={watch('dateOfBirth') || ''}\n          onChange={(val) => setValue('dateOfBirth', val, { shouldValidate: true })}\n          placeholder=\"DD / MM / YYYY\"\n        />\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"address\" className=\"text-zinc-300\">Current Address</Label>\n        <Input\n          id=\"address\"\n          placeholder=\"Street address, city, country\"\n          {...register('address')}\n        />\n      </div>\n\n      <div className=\"flex justify-end pt-4\">\n        <Button type=\"submit\" variant=\"ghost\" className=\"gap-2 bg-gradient-to-r from-blue-500 to-violet-600 hover:from-blue-600 hover:to-violet-700 hover:text-white text-white border-0 shadow-[0_0_20px_rgba(59,130,246,0.15)] hover:shadow-[0_0_25px_rgba(59,130,246,0.3)] transition-shadow\">\n          Continue\n          <ArrowRight className=\"h-4 w-4\" />\n        </Button>\n      </div>\n    </form>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3210, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { CheckIcon } from \"lucide-react\"\nimport { Checkbox as CheckboxPrimitive } from \"radix-ui\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        \"peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"grid place-content-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,8OAAC,oNAAiB,CAAC,IAAI;QACrB,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,+eACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,oNAAiB,CAAC,SAAS;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,8OAAC,qNAAS;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI7B"}},
    {"offset": {"line": 3254, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/lib/pending-uploads.ts"],"sourcesContent":["const DB_NAME = 'bedrock_pending_uploads'\nconst STORE_NAME = 'uploads'\nconst DB_VERSION = 1\n\nexport type DocumentType = 'passport' | 'local_id' | 'address_proof'\n\ninterface PendingUpload {\n  type: DocumentType\n  fileName: string\n  mimeType: string\n  blob: Blob\n}\n\nfunction openDB(): Promise<IDBDatabase> {\n  return new Promise((resolve, reject) => {\n    const request = indexedDB.open(DB_NAME, DB_VERSION)\n    request.onupgradeneeded = () => {\n      const db = request.result\n      if (!db.objectStoreNames.contains(STORE_NAME)) {\n        db.createObjectStore(STORE_NAME, { keyPath: 'type' })\n      }\n    }\n    request.onsuccess = () => resolve(request.result)\n    request.onerror = () => reject(request.error)\n  })\n}\n\nexport async function storePendingUpload(type: DocumentType, file: File): Promise<void> {\n  const db = await openDB()\n  return new Promise((resolve, reject) => {\n    const tx = db.transaction(STORE_NAME, 'readwrite')\n    const store = tx.objectStore(STORE_NAME)\n    store.put({ type, fileName: file.name, mimeType: file.type, blob: file })\n    tx.oncomplete = () => resolve()\n    tx.onerror = () => reject(tx.error)\n  })\n}\n\nexport async function getPendingUploads(): Promise<PendingUpload[]> {\n  const db = await openDB()\n  return new Promise((resolve, reject) => {\n    const tx = db.transaction(STORE_NAME, 'readonly')\n    const store = tx.objectStore(STORE_NAME)\n    const request = store.getAll()\n    request.onsuccess = () => resolve(request.result)\n    request.onerror = () => reject(request.error)\n  })\n}\n\nexport async function clearPendingUploads(): Promise<void> {\n  const db = await openDB()\n  return new Promise((resolve, reject) => {\n    const tx = db.transaction(STORE_NAME, 'readwrite')\n    const store = tx.objectStore(STORE_NAME)\n    store.clear()\n    tx.oncomplete = () => resolve()\n    tx.onerror = () => reject(tx.error)\n  })\n}\n"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,UAAU;AAChB,MAAM,aAAa;AACnB,MAAM,aAAa;AAWnB,SAAS;IACP,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,UAAU,UAAU,IAAI,CAAC,SAAS;QACxC,QAAQ,eAAe,GAAG;YACxB,MAAM,KAAK,QAAQ,MAAM;YACzB,IAAI,CAAC,GAAG,gBAAgB,CAAC,QAAQ,CAAC,aAAa;gBAC7C,GAAG,iBAAiB,CAAC,YAAY;oBAAE,SAAS;gBAAO;YACrD;QACF;QACA,QAAQ,SAAS,GAAG,IAAM,QAAQ,QAAQ,MAAM;QAChD,QAAQ,OAAO,GAAG,IAAM,OAAO,QAAQ,KAAK;IAC9C;AACF;AAEO,eAAe,mBAAmB,IAAkB,EAAE,IAAU;IACrE,MAAM,KAAK,MAAM;IACjB,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,KAAK,GAAG,WAAW,CAAC,YAAY;QACtC,MAAM,QAAQ,GAAG,WAAW,CAAC;QAC7B,MAAM,GAAG,CAAC;YAAE;YAAM,UAAU,KAAK,IAAI;YAAE,UAAU,KAAK,IAAI;YAAE,MAAM;QAAK;QACvE,GAAG,UAAU,GAAG,IAAM;QACtB,GAAG,OAAO,GAAG,IAAM,OAAO,GAAG,KAAK;IACpC;AACF;AAEO,eAAe;IACpB,MAAM,KAAK,MAAM;IACjB,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,KAAK,GAAG,WAAW,CAAC,YAAY;QACtC,MAAM,QAAQ,GAAG,WAAW,CAAC;QAC7B,MAAM,UAAU,MAAM,MAAM;QAC5B,QAAQ,SAAS,GAAG,IAAM,QAAQ,QAAQ,MAAM;QAChD,QAAQ,OAAO,GAAG,IAAM,OAAO,QAAQ,KAAK;IAC9C;AACF;AAEO,eAAe;IACpB,MAAM,KAAK,MAAM;IACjB,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,KAAK,GAAG,WAAW,CAAC,YAAY;QACtC,MAAM,QAAQ,GAAG,WAAW,CAAC;QAC7B,MAAM,KAAK;QACX,GAAG,UAAU,GAAG,IAAM;QACtB,GAAG,OAAO,GAAG,IAAM,OAAO,GAAG,KAAK;IACpC;AACF"}},
    {"offset": {"line": 3319, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/lib/face-api-loader.ts"],"sourcesContent":["const CDN_BASE = 'https://cdn.jsdelivr.net/npm/@vladmandic/face-api/model'\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet faceapiModule: any = null\nlet loadPromise: Promise<void> | null = null\n\nexport async function loadFaceModels(): Promise<void> {\n  if (loadPromise) return loadPromise\n\n  loadPromise = (async () => {\n    const mod = await import('@vladmandic/face-api')\n    faceapiModule = mod\n    await mod.nets.ssdMobilenetv1.loadFromUri(CDN_BASE)\n    await mod.nets.faceLandmark68Net.loadFromUri(CDN_BASE)\n    await mod.nets.faceRecognitionNet.loadFromUri(CDN_BASE)\n  })()\n\n  return loadPromise\n}\n\nexport function getFaceApi() {\n  if (!faceapiModule) throw new Error('Face API not loaded. Call loadFaceModels() first.')\n  return faceapiModule\n}\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,WAAW;AAEjB,8DAA8D;AAC9D,IAAI,gBAAqB;AACzB,IAAI,cAAoC;AAEjC,eAAe;IACpB,IAAI,aAAa,OAAO;IAExB,cAAc,CAAC;QACb,MAAM,MAAM;QACZ,gBAAgB;QAChB,MAAM,IAAI,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC;QAC1C,MAAM,IAAI,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC;QAC7C,MAAM,IAAI,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC;IAChD,CAAC;IAED,OAAO;AACT;AAEO,SAAS;IACd,IAAI,CAAC,eAAe,MAAM,IAAI,MAAM;IACpC,OAAO;AACT"}},
    {"offset": {"line": 3348, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/onboarding/face-scan.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect, useCallback } from 'react'\nimport { Camera, CheckCircle, AlertTriangle, Loader2, RefreshCw, X } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { loadFaceModels, getFaceApi } from '@/lib/face-api-loader'\n\ntype ScanState =\n  | 'loading_models'\n  | 'ready'\n  | 'countdown'\n  | 'comparing'\n  | 'match'\n  | 'no_match'\n  | 'error'\n\nexport interface FaceMatchResult {\n  matched: boolean\n  distance?: number\n}\n\ninterface FaceScanProps {\n  passportFile: File\n  onMatchResult: (result: FaceMatchResult) => void\n}\n\nconst MATCH_THRESHOLD = 0.6\n\nexport function FaceScan({ passportFile, onMatchResult }: FaceScanProps) {\n  const [state, setState] = useState<ScanState>('loading_models')\n  const [errorMsg, setErrorMsg] = useState('')\n  const [countdown, setCountdown] = useState(3)\n  const [distance, setDistance] = useState<number | null>(null)\n\n  const videoRef = useRef<HTMLVideoElement>(null)\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const streamRef = useRef<MediaStream | null>(null)\n  const passportDescriptorRef = useRef<Float32Array | null>(null)\n  const onMatchResultRef = useRef(onMatchResult)\n  onMatchResultRef.current = onMatchResult\n\n  const stopCamera = useCallback(() => {\n    if (streamRef.current) {\n      streamRef.current.getTracks().forEach((t) => t.stop())\n      streamRef.current = null\n    }\n  }, [])\n\n  // Initialize: load models + extract passport face descriptor\n  useEffect(() => {\n    let cancelled = false\n\n    async function init() {\n      try {\n        await loadFaceModels()\n        if (cancelled) return\n\n        // Extract face descriptor from passport image\n        const img = await createImageBitmap(passportFile)\n        const canvas = document.createElement('canvas')\n        canvas.width = img.width\n        canvas.height = img.height\n        const ctx = canvas.getContext('2d')!\n        ctx.drawImage(img, 0, 0)\n\n        const fa = getFaceApi()\n        const detection = await fa\n          .detectSingleFace(canvas)\n          .withFaceLandmarks()\n          .withFaceDescriptor()\n\n        if (cancelled) return\n\n        if (!detection) {\n          setState('error')\n          setErrorMsg('No face detected in passport photo. Please upload a clearer image.')\n          return\n        }\n\n        passportDescriptorRef.current = detection.descriptor\n        setState('ready')\n      } catch (err) {\n        if (cancelled) return\n        setState('error')\n        setErrorMsg(err instanceof Error ? err.message : 'Failed to load face recognition models')\n      }\n    }\n\n    init()\n    return () => { cancelled = true }\n  }, [passportFile])\n\n  // Start webcam when ready\n  useEffect(() => {\n    if (state !== 'ready' && state !== 'countdown') return\n\n    async function startCamera() {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: { facingMode: 'user', width: { ideal: 640 }, height: { ideal: 480 } },\n        })\n        streamRef.current = stream\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream\n        }\n      } catch {\n        setState('error')\n        setErrorMsg('Camera access denied. Please allow camera permissions or skip this step.')\n      }\n    }\n\n    if (!streamRef.current) {\n      startCamera()\n    }\n  }, [state])\n\n  // Stop camera on unmount\n  useEffect(() => {\n    return () => { stopCamera() }\n  }, [stopCamera])\n\n  // Stop camera when reaching final states\n  useEffect(() => {\n    if (state === 'match' || state === 'error') {\n      stopCamera()\n    }\n  }, [state, stopCamera])\n\n  // Use ref for captureAndCompare to avoid stale closure in countdown interval\n  const captureAndCompareRef = useRef<() => Promise<void>>(undefined)\n  captureAndCompareRef.current = async () => {\n    setState('comparing')\n\n    try {\n      const video = videoRef.current\n      const canvas = canvasRef.current\n      if (!video || !canvas) throw new Error('Camera not ready')\n\n      // Wait for video to have valid dimensions\n      if (video.videoWidth === 0 || video.videoHeight === 0) {\n        await new Promise<void>((resolve) => {\n          const check = () => {\n            if (video.videoWidth > 0 && video.videoHeight > 0) {\n              resolve()\n            } else {\n              requestAnimationFrame(check)\n            }\n          }\n          check()\n        })\n      }\n\n      // Capture current frame\n      canvas.width = video.videoWidth\n      canvas.height = video.videoHeight\n      const ctx = canvas.getContext('2d')!\n      ctx.drawImage(video, 0, 0)\n\n      const fa = getFaceApi()\n      const detection = await fa\n        .detectSingleFace(canvas)\n        .withFaceLandmarks()\n        .withFaceDescriptor()\n\n      if (!detection) {\n        setState('no_match')\n        setErrorMsg('No face detected in selfie. Please try again with better lighting.')\n        return\n      }\n\n      if (!passportDescriptorRef.current) {\n        setState('error')\n        setErrorMsg('Passport face data not available. Please re-upload your passport.')\n        return\n      }\n\n      const dist = fa.euclideanDistance(\n        passportDescriptorRef.current,\n        detection.descriptor\n      )\n\n      setDistance(dist)\n\n      if (dist < MATCH_THRESHOLD) {\n        setState('match')\n        onMatchResultRef.current({ matched: true, distance: dist })\n      } else {\n        setState('no_match')\n        setErrorMsg('Faces do not match. Please try again or skip this step.')\n      }\n    } catch (err) {\n      setState('error')\n      setErrorMsg(err instanceof Error ? err.message : 'Face comparison failed')\n    }\n  }\n\n  const startCountdown = useCallback(() => {\n    setState('countdown')\n    setCountdown(3)\n\n    let count = 3\n    const interval = setInterval(() => {\n      count--\n      setCountdown(count)\n      if (count <= 0) {\n        clearInterval(interval)\n        captureAndCompareRef.current?.()\n      }\n    }, 1000)\n  }, [])\n\n  const retry = () => {\n    stopCamera()\n    setErrorMsg('')\n    setDistance(null)\n    setState('ready')\n  }\n\n  const skip = () => {\n    stopCamera()\n    onMatchResultRef.current({ matched: false })\n  }\n\n  return (\n    <div className=\"mt-4 rounded-lg border border-white/[0.08] bg-white/[0.03] p-4\">\n      <div className=\"mb-3 flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <Camera className=\"h-4 w-4 text-blue-400\" />\n          <span className=\"text-sm font-medium text-zinc-200\">Face Verification</span>\n        </div>\n        {state !== 'match' && (\n          <button\n            type=\"button\"\n            onClick={skip}\n            className=\"flex items-center gap-1 text-xs text-zinc-500 hover:text-zinc-400 transition-colors\"\n          >\n            <X className=\"h-3 w-3\" />\n            Skip\n          </button>\n        )}\n      </div>\n\n      {state === 'loading_models' && (\n        <div className=\"flex items-center gap-2 rounded-md border border-blue-500/20 bg-blue-500/5 px-4 py-3 text-sm text-blue-300\">\n          <Loader2 className=\"h-4 w-4 animate-spin\" />\n          Loading face recognition models...\n        </div>\n      )}\n\n      {(state === 'ready' || state === 'countdown' || state === 'comparing') && (\n        <div className=\"space-y-3\">\n          <p className=\"text-xs text-zinc-400\">\n            Position your face in the camera and take a selfie to verify it matches your passport photo.\n          </p>\n          <div className=\"relative overflow-hidden rounded-md bg-black\">\n            <video\n              ref={videoRef}\n              autoPlay\n              playsInline\n              muted\n              className=\"w-full\"\n              style={{ transform: 'scaleX(-1)' }}\n            />\n            {state === 'countdown' && (\n              <div className=\"absolute inset-0 flex items-center justify-center bg-black/40\">\n                <span className=\"text-6xl font-bold text-white\">{countdown}</span>\n              </div>\n            )}\n            {state === 'comparing' && (\n              <div className=\"absolute inset-0 flex items-center justify-center bg-black/40\">\n                <div className=\"text-center\">\n                  <Loader2 className=\"mx-auto h-8 w-8 animate-spin text-white\" />\n                  <p className=\"mt-2 text-sm text-white/70\">Comparing faces...</p>\n                </div>\n              </div>\n            )}\n          </div>\n          <canvas ref={canvasRef} className=\"hidden\" />\n          {state === 'ready' && (\n            <Button\n              type=\"button\"\n              onClick={startCountdown}\n              variant=\"ghost\"\n              className=\"w-full gap-2 border border-blue-500/30 bg-blue-500/10 text-blue-300 hover:bg-blue-500/20 hover:text-blue-200\"\n            >\n              <Camera className=\"h-4 w-4\" />\n              Take Selfie\n            </Button>\n          )}\n        </div>\n      )}\n\n      {state === 'match' && (\n        <div className=\"rounded-md border border-emerald-500/20 bg-emerald-500/5 px-4 py-3\">\n          <div className=\"flex items-center gap-2 text-sm text-emerald-400\">\n            <CheckCircle className=\"h-4 w-4\" />\n            Face match confirmed\n          </div>\n          {distance !== null && (\n            <p className=\"mt-1 text-xs text-zinc-500\">\n              Similarity: {Math.round((1 - distance) * 100)}% (distance: {distance.toFixed(3)})\n            </p>\n          )}\n        </div>\n      )}\n\n      {state === 'no_match' && (\n        <div className=\"space-y-3\">\n          <div className=\"rounded-md border border-orange-500/20 bg-orange-500/5 px-4 py-3\">\n            <div className=\"flex items-center gap-2 text-sm text-orange-300\">\n              <AlertTriangle className=\"h-4 w-4\" />\n              {errorMsg}\n            </div>\n            {distance !== null && (\n              <p className=\"mt-1 text-xs text-zinc-500\">\n                Similarity: {Math.round((1 - distance) * 100)}% (distance: {distance.toFixed(3)}, threshold: {MATCH_THRESHOLD})\n              </p>\n            )}\n          </div>\n          <Button\n            type=\"button\"\n            onClick={retry}\n            variant=\"ghost\"\n            className=\"w-full gap-2 border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05]\"\n          >\n            <RefreshCw className=\"h-4 w-4\" />\n            Try Again\n          </Button>\n        </div>\n      )}\n\n      {state === 'error' && (\n        <div className=\"rounded-md border border-orange-500/20 bg-orange-500/5 px-4 py-3\">\n          <div className=\"flex items-center gap-2 text-sm text-orange-300\">\n            <AlertTriangle className=\"h-4 w-4\" />\n            {errorMsg}\n          </div>\n          <button\n            type=\"button\"\n            onClick={skip}\n            className=\"mt-2 text-xs text-orange-400 underline hover:text-orange-300\"\n          >\n            Skip face verification\n          </button>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3895, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/onboarding/step-identity.tsx"],"sourcesContent":["'use client'\n\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { Button } from '@/components/ui/button'\nimport { Label } from '@/components/ui/label'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport { identitySchema, IdentityFormData, countries } from '@/lib/validations/onboarding'\nimport { ArrowLeft, ArrowRight, Upload, FileCheck, Loader2, AlertTriangle, CheckCircle, AlertCircle } from 'lucide-react'\nimport { useState, useEffect, useCallback } from 'react'\nimport { storePendingUpload, type DocumentType } from '@/lib/pending-uploads'\nimport { FaceScan, type FaceMatchResult } from './face-scan'\n\nconst docTypeMap: Record<'passport' | 'localId' | 'addressProof', DocumentType> = {\n  passport: 'passport',\n  localId: 'local_id',\n  addressProof: 'address_proof',\n}\n\ntype DocField = 'passport' | 'localId' | 'addressProof'\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype ExtractedData = Record<string, any>\n\ninterface ExtractionState {\n  loading: boolean\n  data: ExtractedData | null\n  error: string | null\n}\n\nconst STORAGE_KEY = 'identity_extraction'\nconst BASIC_INFO_KEY = 'identity_basic_info'\nconst FACE_MATCH_KEY = 'identity_face_match'\n\nconst FIELD_LABELS: Record<string, string> = {\n  fullName: 'Full Name',\n  firstName: 'First Name',\n  lastName: 'Last Name',\n  middleName: 'Middle Name',\n  dateOfBirth: 'Date of Birth',\n  gender: 'Gender',\n  placeOfBirth: 'Place of Birth',\n  nationality: 'Nationality',\n  passportNumber: 'Passport Number',\n  expiryDate: 'Expiry Date',\n  issuingCountry: 'Issuing Country',\n  idNumber: 'ID Number',\n  address: 'Address',\n  issuingAuthority: 'Issuing Authority',\n  city: 'City',\n  state: 'State',\n  postalCode: 'Postal Code',\n  country: 'Country',\n  documentDate: 'Document Date',\n  issuingCompany: 'Issuing Company',\n}\n\nfunction loadSavedExtractions(): Record<DocField, ExtractedData | null> {\n  try {\n    const saved = sessionStorage.getItem(STORAGE_KEY)\n    if (saved) return JSON.parse(saved)\n  } catch {\n    // ignore\n  }\n  return { passport: null, localId: null, addressProof: null }\n}\n\nfunction saveExtractions(extractions: Record<DocField, ExtractedData | null>) {\n  try {\n    sessionStorage.setItem(STORAGE_KEY, JSON.stringify(extractions))\n  } catch {\n    // ignore\n  }\n}\n\nfunction normalizeName(s: string): string[] {\n  return s.toLowerCase().replace(/[^a-z\\s]/g, '').split(/\\s+/).filter(Boolean).sort()\n}\n\nfunction editDistance(a: string, b: string): number {\n  const m = a.length, n = b.length\n  const dp: number[][] = Array.from({ length: m + 1 }, () => Array(n + 1).fill(0))\n  for (let i = 0; i <= m; i++) dp[i][0] = i\n  for (let j = 0; j <= n; j++) dp[0][j] = j\n  for (let i = 1; i <= m; i++) {\n    for (let j = 1; j <= n; j++) {\n      dp[i][j] = a[i - 1] === b[j - 1]\n        ? dp[i - 1][j - 1]\n        : 1 + Math.min(dp[i - 1][j], dp[i][j - 1], dp[i - 1][j - 1])\n    }\n  }\n  return dp[m][n]\n}\n\nfunction fuzzyWordMatch(a: string, b: string): boolean {\n  if (a === b) return true\n  const maxDist = Math.max(1, Math.floor(Math.max(a.length, b.length) * 0.3))\n  return editDistance(a, b) <= maxDist\n}\n\nfunction namesMatch(extracted: string, expected: string): 'match' | 'mismatch' {\n  const eParts = normalizeName(extracted)\n  const xParts = normalizeName(expected)\n  // Exact match (sorted parts)\n  if (eParts.join(' ') === xParts.join(' ')) return 'match'\n  // All parts of one contained in the other (handles middle names)\n  const eSet = new Set(eParts)\n  const xSet = new Set(xParts)\n  if (xParts.every((p) => eSet.has(p)) || eParts.every((p) => xSet.has(p))) return 'match'\n  // At least 2 parts overlap (first + last)\n  if (xParts.filter((p) => eSet.has(p)).length >= 2) return 'match'\n  // Fuzzy match: each expected part has a close match in extracted (handles transliteration: Bazarow/Bazarov)\n  const fuzzyAllMatch = xParts.every((xp) => eParts.some((ep) => fuzzyWordMatch(xp, ep)))\n  if (fuzzyAllMatch) return 'match'\n  // Single-word input: fuzzy match against any extracted part\n  if (xParts.length === 1 && eParts.some((ep) => fuzzyWordMatch(xParts[0], ep))) return 'match'\n  return 'mismatch'\n}\n\nfunction datesMatch(extracted: string, expected: string): 'match' | 'mismatch' {\n  const norm = (d: string) => {\n    const date = new Date(d)\n    if (isNaN(date.getTime())) return d.trim()\n    return date.toISOString().split('T')[0]\n  }\n  return norm(extracted) === norm(expected) ? 'match' : 'mismatch'\n}\n\nfunction genderMatches(extracted: string, expected: string): 'match' | 'mismatch' {\n  const norm = extracted.trim().toLowerCase()\n  if (expected === 'male' && (norm === 'm' || norm === 'male')) return 'match'\n  if (expected === 'female' && (norm === 'f' || norm === 'female')) return 'match'\n  return 'mismatch'\n}\n\nfunction nationalityMatches(extracted: string, countryCode: string): 'match' | 'mismatch' {\n  const norm = extracted.trim().toLowerCase()\n  // Find country name by code\n  const country = countries.find((c) => c.code === countryCode)\n  if (!country) return 'mismatch'\n  const countryName = country.name.toLowerCase()\n  // Exact match or substring (e.g., \"TURKMENISTAN\" matches \"Turkmenistan\")\n  if (norm === countryName || countryName.includes(norm) || norm.includes(countryName)) return 'match'\n  // Also match code directly (e.g., \"TM\" or \"TKM\")\n  if (norm === countryCode.toLowerCase()) return 'match'\n  // Fuzzy: first 3+ chars match\n  if (norm.length >= 3 && countryName.startsWith(norm.slice(0, 3))) return 'match'\n  if (countryName.length >= 3 && norm.startsWith(countryName.slice(0, 3))) return 'match'\n  return 'mismatch'\n}\n\ninterface BasicInfoForComparison {\n  fullName?: string\n  dateOfBirth?: string\n  gender?: string\n  countryOfOrigin?: string\n}\n\nfunction ExtractionResult({ state, onRetry, basicInfo }: { state: ExtractionState; onRetry: () => void; basicInfo?: BasicInfoForComparison }) {\n  if (state.loading) {\n    return (\n      <div className=\"mt-3 flex items-center gap-2 rounded-md border border-blue-500/20 bg-blue-500/5 px-4 py-3 text-sm text-blue-300\">\n        <Loader2 className=\"h-4 w-4 animate-spin\" />\n        Analyzing document...\n      </div>\n    )\n  }\n\n  if (state.error) {\n    return (\n      <div className=\"mt-3 rounded-md border border-orange-500/20 bg-orange-500/5 p-4\">\n        <div className=\"flex items-center gap-2 text-sm text-orange-300\">\n          <AlertTriangle className=\"h-4 w-4 flex-shrink-0\" />\n          {state.error}\n        </div>\n        <button\n          type=\"button\"\n          onClick={onRetry}\n          className=\"mt-2 text-xs text-orange-400 underline hover:text-orange-300\"\n        >\n          Try uploading a different image\n        </button>\n      </div>\n    )\n  }\n\n  if (state.data) {\n    const entries = Object.entries(state.data).filter(([, v]) => v != null && v !== '')\n    if (entries.length === 0) return null\n\n    return (\n      <div className=\"mt-3 rounded-md border border-emerald-500/20 bg-emerald-500/5 p-4\">\n        <p className=\"mb-2 text-xs font-medium uppercase tracking-wider text-emerald-400\">\n          Extracted Information\n        </p>\n        <div className=\"grid grid-cols-2 gap-x-4 gap-y-1.5\">\n          {entries.map(([key, value]) => (\n            <div key={key} className=\"min-w-0\">\n              <span className=\"text-[11px] text-zinc-500\">{FIELD_LABELS[key] || key}</span>\n              <p className=\"truncate text-sm text-zinc-200\">{String(value)}</p>\n            </div>\n          ))}\n        </div>\n        {basicInfo?.fullName && (() => {\n          const extractedName = state.data?.fullName\n            ? String(state.data.fullName)\n            : (state.data?.firstName || state.data?.lastName)\n              ? [state.data?.firstName, state.data?.lastName].filter(Boolean).join(' ')\n              : null\n          const extractedDob = state.data?.dateOfBirth\n          const extractedGender = state.data?.gender\n          const extractedNationality = state.data?.nationality\n          if (!extractedName && !extractedDob && !extractedGender && !extractedNationality) return null\n          return (\n            <div className=\"mt-3 space-y-1.5 border-t border-white/[0.06] pt-3\">\n              {extractedName ? (\n                namesMatch(String(extractedName), basicInfo.fullName!) === 'match' ? (\n                  <div className=\"flex items-center gap-1.5 text-xs text-emerald-400\">\n                    <CheckCircle className=\"h-3.5 w-3.5\" />\n                    Name matches your profile\n                  </div>\n                ) : (\n                  <div className=\"flex items-center gap-1.5 text-xs text-orange-400\">\n                    <AlertCircle className=\"h-3.5 w-3.5\" />\n                    Name does not match your profile\n                  </div>\n                )\n              ) : null}\n              {extractedDob && basicInfo.dateOfBirth ? (\n                datesMatch(String(extractedDob), basicInfo.dateOfBirth) === 'match' ? (\n                  <div className=\"flex items-center gap-1.5 text-xs text-emerald-400\">\n                    <CheckCircle className=\"h-3.5 w-3.5\" />\n                    Date of birth matches\n                  </div>\n                ) : (\n                  <div className=\"flex items-center gap-1.5 text-xs text-orange-400\">\n                    <AlertCircle className=\"h-3.5 w-3.5\" />\n                    Date of birth does not match\n                  </div>\n                )\n              ) : null}\n              {extractedGender && basicInfo.gender ? (\n                genderMatches(String(extractedGender), basicInfo.gender) === 'match' ? (\n                  <div className=\"flex items-center gap-1.5 text-xs text-emerald-400\">\n                    <CheckCircle className=\"h-3.5 w-3.5\" />\n                    Gender matches\n                  </div>\n                ) : (\n                  <div className=\"flex items-center gap-1.5 text-xs text-orange-400\">\n                    <AlertCircle className=\"h-3.5 w-3.5\" />\n                    Gender does not match\n                  </div>\n                )\n              ) : null}\n              {extractedNationality && basicInfo.countryOfOrigin ? (\n                nationalityMatches(String(extractedNationality), basicInfo.countryOfOrigin) === 'match' ? (\n                  <div className=\"flex items-center gap-1.5 text-xs text-emerald-400\">\n                    <CheckCircle className=\"h-3.5 w-3.5\" />\n                    Nationality matches\n                  </div>\n                ) : (\n                  <div className=\"flex items-center gap-1.5 text-xs text-orange-400\">\n                    <AlertCircle className=\"h-3.5 w-3.5\" />\n                    Nationality does not match\n                  </div>\n                )\n              ) : null}\n            </div>\n          )\n        })()}\n      </div>\n    )\n  }\n\n  return null\n}\n\ninterface StepIdentityProps {\n  data: Partial<IdentityFormData>\n  basicInfo?: { fullName?: string; dateOfBirth?: string; gender?: string; countryOfOrigin?: string }\n  onNext: (data: IdentityFormData) => void\n  onBack: () => void\n}\n\nexport function StepIdentity({ data, basicInfo: basicInfoProp, onNext, onBack }: StepIdentityProps) {\n  const [files, setFiles] = useState<{\n    passport?: File\n    localId?: File\n    addressProof?: File\n  }>({})\n\n  const [extractions, setExtractions] = useState<Record<DocField, ExtractionState>>({\n    passport: { loading: false, data: null, error: null },\n    localId: { loading: false, data: null, error: null },\n    addressProof: { loading: false, data: null, error: null },\n  })\n\n  const [faceMatchResult, setFaceMatchResult] = useState<FaceMatchResult | null>(null)\n\n  // Resolve basicInfo: prefer prop, fall back to sessionStorage (survives refresh)\n  const [basicInfo, setBasicInfo] = useState<BasicInfoForComparison | undefined>(basicInfoProp)\n\n  // Persist basicInfo from prop to sessionStorage, and load fallback\n  useEffect(() => {\n    if (basicInfoProp?.fullName) {\n      setBasicInfo(basicInfoProp)\n      try {\n        sessionStorage.setItem(BASIC_INFO_KEY, JSON.stringify({\n          fullName: basicInfoProp.fullName,\n          dateOfBirth: basicInfoProp.dateOfBirth,\n          gender: basicInfoProp.gender,\n          countryOfOrigin: basicInfoProp.countryOfOrigin,\n        }))\n      } catch { /* ignore */ }\n    } else {\n      // Prop is empty (page refresh) â€” load from sessionStorage\n      try {\n        const saved = sessionStorage.getItem(BASIC_INFO_KEY)\n        if (saved) setBasicInfo(JSON.parse(saved))\n      } catch { /* ignore */ }\n    }\n  }, [basicInfoProp])\n\n  // Restore saved extractions on mount\n  useEffect(() => {\n    const saved = loadSavedExtractions()\n    setExtractions((prev) => ({\n      passport: saved.passport ? { loading: false, data: saved.passport, error: null } : prev.passport,\n      localId: saved.localId ? { loading: false, data: saved.localId, error: null } : prev.localId,\n      addressProof: saved.addressProof ? { loading: false, data: saved.addressProof, error: null } : prev.addressProof,\n    }))\n  }, [])\n\n  const {\n    setValue,\n    watch,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<IdentityFormData>({\n    resolver: zodResolver(identitySchema),\n    defaultValues: {\n      hasPassport: data.hasPassport ?? false,\n      hasLocalId: data.hasLocalId ?? false,\n      hasAddressProof: data.hasAddressProof ?? false,\n      hasLivenessCheck: data.hasLivenessCheck ?? faceMatchResult?.matched ?? false,\n    },\n  })\n\n  const hasPassport = watch('hasPassport')\n  const hasLocalId = watch('hasLocalId')\n  const hasAddressProof = watch('hasAddressProof')\n\n  const extractDocument = useCallback(async (file: File, field: DocField) => {\n    setExtractions((prev) => ({\n      ...prev,\n      [field]: { loading: true, data: null, error: null },\n    }))\n\n    try {\n      const formData = new FormData()\n      formData.append('file', file)\n      formData.append('documentType', docTypeMap[field])\n\n      const res = await fetch('/api/verify/document-extract', {\n        method: 'POST',\n        body: formData,\n      })\n\n      if (!res.ok) {\n        const body = await res.json()\n        throw new Error(body.error || 'Extraction failed')\n      }\n\n      const { extracted } = await res.json()\n\n      setExtractions((prev) => {\n        const updated = {\n          ...prev,\n          [field]: { loading: false, data: extracted, error: null },\n        }\n        // Persist to sessionStorage\n        saveExtractions({\n          passport: updated.passport.data,\n          localId: updated.localId.data,\n          addressProof: updated.addressProof.data,\n        })\n        return updated\n      })\n    } catch (err) {\n      const message = err instanceof Error ? err.message : 'Failed to analyze document'\n      setExtractions((prev) => ({\n        ...prev,\n        [field]: { loading: false, data: null, error: message },\n      }))\n    }\n  }, [])\n\n  const handleFileChange = (field: DocField) => (\n    e: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    const file = e.target.files?.[0]\n    if (file) {\n      setFiles((prev) => ({ ...prev, [field]: file }))\n      setValue(`${field}File` as keyof IdentityFormData, file)\n      storePendingUpload(docTypeMap[field], file)\n\n      // New passport upload â†’ reset face match so scan runs again\n      if (field === 'passport') {\n        setFaceMatchResult(null)\n        setValue('hasLivenessCheck', false)\n        try { sessionStorage.removeItem(FACE_MATCH_KEY) } catch { /* ignore */ }\n      }\n\n      // Only extract from images, not PDFs\n      if (file.type.startsWith('image/')) {\n        extractDocument(file, field)\n      }\n    }\n  }\n\n  const handleRetry = (field: DocField) => {\n    // Clear current extraction state and trigger file input click\n    setExtractions((prev) => ({\n      ...prev,\n      [field]: { loading: false, data: null, error: null },\n    }))\n    setFiles((prev) => {\n      const updated = { ...prev }\n      delete updated[field]\n      return updated\n    })\n    // Reset the file input\n    const input = document.getElementById(`${field}File`) as HTMLInputElement\n    if (input) {\n      input.value = ''\n      input.click()\n    }\n  }\n\n  const handleFaceMatchResult = useCallback((result: FaceMatchResult) => {\n    setFaceMatchResult(result)\n    setValue('hasLivenessCheck', result.matched)\n    try {\n      sessionStorage.setItem(FACE_MATCH_KEY, JSON.stringify(result))\n    } catch { /* ignore */ }\n  }, [setValue])\n\n  const onSubmit = (formData: IdentityFormData) => {\n    // Compute passport field match results\n    let passportNameMatch: boolean | undefined\n    let passportDobMatch: boolean | undefined\n    let passportGenderMatch: boolean | undefined\n    let passportNationalityMatch: boolean | undefined\n\n    if (formData.hasPassport && extractions.passport.data && basicInfo) {\n      const pd = extractions.passport.data\n      if (pd.fullName && basicInfo.fullName) {\n        passportNameMatch = namesMatch(String(pd.fullName), basicInfo.fullName) === 'match'\n      }\n      if (pd.dateOfBirth && basicInfo.dateOfBirth) {\n        passportDobMatch = datesMatch(String(pd.dateOfBirth), basicInfo.dateOfBirth) === 'match'\n      }\n      if (pd.gender && basicInfo.gender) {\n        passportGenderMatch = genderMatches(String(pd.gender), basicInfo.gender) === 'match'\n      }\n      if (pd.nationality && basicInfo.countryOfOrigin) {\n        passportNationalityMatch = nationalityMatches(String(pd.nationality), basicInfo.countryOfOrigin) === 'match'\n      }\n    }\n\n    // Determine if face was explicitly skipped (had passport but no match and not attempted)\n    const faceWasSkipped = formData.hasPassport &&\n      !faceMatchResult?.matched &&\n      faceMatchResult !== null // null = never shown, non-null with matched=false = skipped\n\n    onNext({\n      ...formData,\n      hasLivenessCheck: formData.hasLivenessCheck ?? faceMatchResult?.matched ?? false,\n      faceSkipped: faceWasSkipped,\n      passportNameMatch,\n      passportDobMatch,\n      passportGenderMatch,\n      passportNationalityMatch,\n      passportFile: files.passport,\n      localIdFile: files.localId,\n      addressProofFile: files.addressProof,\n      passportData: extractions.passport.data,\n      localIdData: extractions.localId.data,\n      addressProofData: extractions.addressProof.data,\n    })\n  }\n\n  // Suppress unused-vars â€” errors object is required by react-hook-form but we display no field errors\n  void errors\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n      <div className=\"rounded-lg border border-white/[0.08] bg-white/[0.03] p-4\">\n        <div className=\"flex items-start gap-4\">\n          <Checkbox\n            id=\"hasPassport\"\n            checked={hasPassport}\n            onCheckedChange={(checked) => setValue('hasPassport', !!checked)}\n          />\n          <div className=\"flex-1\">\n            <Label htmlFor=\"hasPassport\" className=\"text-base font-medium text-zinc-200\">\n              Valid Passport\n            </Label>\n            <p className=\"mt-1 text-sm text-zinc-400\">\n              Upload a clear photo of your passport&apos;s ID page\n            </p>\n            {hasPassport && (\n              <div className=\"mt-3\">\n                <label\n                  htmlFor=\"passportFile\"\n                  className=\"flex cursor-pointer items-center gap-2 rounded-md border border-dashed border-white/[0.1] bg-white/[0.05] px-4 py-3 text-sm hover:bg-white/[0.08] transition-colors\"\n                >\n                  {files.passport ? (\n                    <>\n                      <FileCheck className=\"h-4 w-4 text-emerald-400\" />\n                      <span className=\"text-emerald-400\">{files.passport.name}</span>\n                    </>\n                  ) : (\n                    <>\n                      <Upload className=\"h-4 w-4 text-zinc-500\" />\n                      <span className=\"text-zinc-400\">Upload passport</span>\n                    </>\n                  )}\n                </label>\n                <input\n                  id=\"passportFile\"\n                  type=\"file\"\n                  accept=\"image/*,.pdf\"\n                  onChange={handleFileChange('passport')}\n                  className=\"hidden\"\n                />\n                <ExtractionResult\n                  state={extractions.passport}\n                  onRetry={() => handleRetry('passport')}\n                  basicInfo={basicInfo}\n                />\n                {files.passport && files.passport.type.startsWith('image/') && extractions.passport.data && !faceMatchResult && (\n                  <FaceScan\n                    passportFile={files.passport}\n                    onMatchResult={handleFaceMatchResult}\n                  />\n                )}\n                {faceMatchResult?.matched && (\n                  <div className=\"mt-3 flex items-center gap-2 rounded-md border border-emerald-500/20 bg-emerald-500/5 px-4 py-3 text-sm text-emerald-400\">\n                    <CheckCircle className=\"h-4 w-4\" />\n                    Face verification complete (+4 trust points)\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"rounded-lg border border-white/[0.08] bg-white/[0.03] p-4\">\n        <div className=\"flex items-start gap-4\">\n          <Checkbox\n            id=\"hasLocalId\"\n            checked={hasLocalId}\n            onCheckedChange={(checked) => setValue('hasLocalId', !!checked)}\n          />\n          <div className=\"flex-1\">\n            <Label htmlFor=\"hasLocalId\" className=\"text-base font-medium text-zinc-200\">\n              Local Government ID\n            </Label>\n            <p className=\"mt-1 text-sm text-zinc-400\">\n              Driver&apos;s license, national ID card, or similar document\n            </p>\n            {hasLocalId && (\n              <div className=\"mt-3\">\n                <label\n                  htmlFor=\"localIdFile\"\n                  className=\"flex cursor-pointer items-center gap-2 rounded-md border border-dashed border-white/[0.1] bg-white/[0.05] px-4 py-3 text-sm hover:bg-white/[0.08] transition-colors\"\n                >\n                  {files.localId ? (\n                    <>\n                      <FileCheck className=\"h-4 w-4 text-emerald-400\" />\n                      <span className=\"text-emerald-400\">{files.localId.name}</span>\n                    </>\n                  ) : (\n                    <>\n                      <Upload className=\"h-4 w-4 text-zinc-500\" />\n                      <span className=\"text-zinc-400\">Upload ID</span>\n                    </>\n                  )}\n                </label>\n                <input\n                  id=\"localIdFile\"\n                  type=\"file\"\n                  accept=\"image/*,.pdf\"\n                  onChange={handleFileChange('localId')}\n                  className=\"hidden\"\n                />\n                <ExtractionResult\n                  state={extractions.localId}\n                  onRetry={() => handleRetry('localId')}\n                  basicInfo={basicInfo}\n                />\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"rounded-lg border border-white/[0.08] bg-white/[0.03] p-4\">\n        <div className=\"flex items-start gap-4\">\n          <Checkbox\n            id=\"hasAddressProof\"\n            checked={hasAddressProof}\n            onCheckedChange={(checked) => setValue('hasAddressProof', !!checked)}\n          />\n          <div className=\"flex-1\">\n            <Label htmlFor=\"hasAddressProof\" className=\"text-base font-medium text-zinc-200\">\n              Proof of Address\n            </Label>\n            <p className=\"mt-1 text-sm text-zinc-400\">\n              Utility bill, bank statement, or official document showing your address\n            </p>\n            {hasAddressProof && (\n              <div className=\"mt-3\">\n                <label\n                  htmlFor=\"addressProofFile\"\n                  className=\"flex cursor-pointer items-center gap-2 rounded-md border border-dashed border-white/[0.1] bg-white/[0.05] px-4 py-3 text-sm hover:bg-white/[0.08] transition-colors\"\n                >\n                  {files.addressProof ? (\n                    <>\n                      <FileCheck className=\"h-4 w-4 text-emerald-400\" />\n                      <span className=\"text-emerald-400\">{files.addressProof.name}</span>\n                    </>\n                  ) : (\n                    <>\n                      <Upload className=\"h-4 w-4 text-zinc-500\" />\n                      <span className=\"text-zinc-400\">Upload proof</span>\n                    </>\n                  )}\n                </label>\n                <input\n                  id=\"addressProofFile\"\n                  type=\"file\"\n                  accept=\"image/*,.pdf\"\n                  onChange={handleFileChange('addressProof')}\n                  className=\"hidden\"\n                />\n                <ExtractionResult\n                  state={extractions.addressProof}\n                  onRetry={() => handleRetry('addressProof')}\n                  basicInfo={basicInfo}\n                />\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <p className=\"text-sm text-zinc-500\">\n        Your documents are encrypted and stored securely. We only share them with\n        banks you authorize.\n      </p>\n\n      <div className=\"flex justify-between pt-4\">\n        <Button type=\"button\" variant=\"ghost\" onClick={onBack} className=\"gap-2 border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05]\">\n          <ArrowLeft className=\"h-4 w-4\" />\n          Back\n        </Button>\n        <Button type=\"submit\" variant=\"ghost\" className=\"gap-2 bg-gradient-to-r from-blue-500 to-violet-600 hover:from-blue-600 hover:to-violet-700 hover:text-white text-white border-0 shadow-[0_0_20px_rgba(59,130,246,0.15)] hover:shadow-[0_0_25px_rgba(59,130,246,0.3)] transition-shadow\">\n          Continue\n          <ArrowRight className=\"h-4 w-4\" />\n        </Button>\n      </div>\n    </form>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5009, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/onboarding/step-code-history.tsx"],"sourcesContent":["'use client'\n\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { Button } from '@/components/ui/button'\nimport { codeHistorySchema, CodeHistoryFormData } from '@/lib/validations/onboarding'\nimport { ArrowLeft, ArrowRight, Github, CheckCircle } from 'lucide-react'\nimport { useState, useEffect } from 'react'\nimport type { GitHubProfileData } from '@/lib/oauth/github'\n\ninterface StepCodeHistoryProps {\n  data: Partial<CodeHistoryFormData>\n  founderName?: string\n  onNext: (data: CodeHistoryFormData) => void\n  onBack: () => void\n}\n\nexport function StepCodeHistory({ data, onNext, onBack }: StepCodeHistoryProps) {\n  const [connected, setConnected] = useState(data.githubConnected ?? false)\n  const [githubData, setGithubData] = useState<GitHubProfileData | null>(null)\n\n  const {\n    handleSubmit,\n    setValue,\n  } = useForm<CodeHistoryFormData>({\n    resolver: zodResolver(codeHistorySchema),\n    defaultValues: {\n      hasGithub: data.hasGithub ?? false,\n      githubUsername: data.githubUsername ?? '',\n      githubConnected: data.githubConnected ?? false,\n    },\n  })\n\n  // Check for OAuth data in sessionStorage on mount\n  useEffect(() => {\n    try {\n      const stored = sessionStorage.getItem('oauth_github_data')\n      if (stored) {\n        const parsed = JSON.parse(stored) as GitHubProfileData\n        setGithubData(parsed)\n        setConnected(true)\n        setValue('githubConnected', true)\n        setValue('hasGithub', true)\n        setValue('githubUsername', parsed.login)\n      }\n    } catch {\n      // Ignore parse errors\n    }\n\n  }, [setValue])\n\n  const handleOAuthConnect = () => {\n    window.location.href = '/api/oauth/github/connect'\n  }\n\n  const handleDisconnect = () => {\n    setGithubData(null)\n    setConnected(false)\n    setValue('githubConnected', false)\n    setValue('githubUsername', '')\n    sessionStorage.removeItem('oauth_github_data')\n  }\n\n  return (\n    <form onSubmit={handleSubmit(onNext)} className=\"space-y-6\">\n      <div>\n        <h3 className=\"text-lg font-medium text-white\">Code History</h3>\n        <p className=\"mt-1 text-sm text-zinc-400\">\n          Your code history helps prove your identity through years of commit history that\n          can&apos;t be faked retroactively.\n        </p>\n      </div>\n\n      <div className=\"rounded-lg border border-white/[0.08] bg-white/[0.03] p-6\">\n        <div className=\"text-center\">\n          <div className=\"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-white/[0.08]\">\n            <Github className=\"h-6 w-6 text-white\" />\n          </div>\n          <h4 className=\"mt-3 font-medium text-white\">Connect GitHub</h4>\n          <p className=\"mt-1 text-sm text-zinc-400\">\n            We analyze account age, commit frequency, contribution patterns, and repo quality.\n          </p>\n\n          {connected && githubData ? (\n            <div className=\"mt-4 rounded-lg bg-emerald-500/[0.1] border border-emerald-500/20 p-4 text-sm text-emerald-400\">\n              <div className=\"flex items-center justify-center gap-2\">\n                <CheckCircle className=\"h-4 w-4\" />\n                <p className=\"font-medium\">GitHub Connected</p>\n              </div>\n              <div className=\"mt-3 flex items-center gap-3 text-left\">\n                <img\n                  src={githubData.avatarUrl}\n                  alt={githubData.login}\n                  className=\"h-10 w-10 rounded-full border border-white/10\"\n                />\n                <div>\n                  {githubData.name ? (\n                    <p className=\"font-medium text-zinc-200\">{githubData.name}</p>\n                  ) : null}\n                  <p className=\"text-zinc-400\">@{githubData.login}</p>\n                </div>\n              </div>\n              <div className=\"mt-3 grid grid-cols-2 gap-2 text-left text-zinc-300\">\n                <p>Account age: {githubData.accountAgeYears} year{githubData.accountAgeYears !== 1 ? 's' : ''}</p>\n                <p>Public repos: {githubData.publicRepos}</p>\n                <p>Followers: {githubData.followers}</p>\n                <p>Total stars: {githubData.totalStars}</p>\n                {githubData.topLanguages.length > 0 && (\n                  <p className=\"col-span-2\">Languages: {githubData.topLanguages.join(', ')}</p>\n                )}\n              </div>\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"mt-3 text-zinc-400 hover:text-zinc-200 hover:bg-white/[0.05]\"\n                onClick={handleDisconnect}\n              >\n                Disconnect\n              </Button>\n            </div>\n          ) : (\n            <Button\n              type=\"button\"\n              variant=\"ghost\"\n              className=\"mt-4 gap-2 border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05]\"\n              onClick={handleOAuthConnect}\n            >\n              <Github className=\"h-4 w-4\" />\n              Connect with GitHub\n            </Button>\n          )}\n        </div>\n      </div>\n\n      <p className=\"text-sm text-zinc-500\">\n        This step is optional but significantly impacts your Digital Lineage score (up to 15 points).\n      </p>\n\n      <div className=\"flex justify-between pt-4\">\n        <Button type=\"button\" variant=\"ghost\" onClick={onBack} className=\"gap-2 border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05]\">\n          <ArrowLeft className=\"h-4 w-4\" />\n          Back\n        </Button>\n        <Button type=\"submit\" variant=\"ghost\" className=\"gap-2 bg-gradient-to-r from-blue-500 to-violet-600 hover:from-blue-600 hover:to-violet-700 hover:text-white text-white border-0 shadow-[0_0_20px_rgba(59,130,246,0.15)] hover:shadow-[0_0_25px_rgba(59,130,246,0.3)] transition-shadow\">\n          Continue\n          <ArrowRight className=\"h-4 w-4\" />\n        </Button>\n      </div>\n    </form>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5382, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/onboarding/step-professional.tsx"],"sourcesContent":["'use client'\n\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { Button } from '@/components/ui/button'\nimport { professionalSchema, ProfessionalFormData } from '@/lib/validations/onboarding'\nimport { ArrowLeft, ArrowRight, Linkedin, CheckCircle, AlertCircle } from 'lucide-react'\nimport { useState, useEffect } from 'react'\nimport type { LinkedInProfileData } from '@/lib/oauth/linkedin'\n\nfunction normalizeName(s: string): string[] {\n  return s.toLowerCase().replace(/[^a-z\\s]/g, '').split(/\\s+/).filter(Boolean).sort()\n}\n\nfunction editDistance(a: string, b: string): number {\n  const m = a.length, n = b.length\n  const dp: number[][] = Array.from({ length: m + 1 }, () => Array(n + 1).fill(0))\n  for (let i = 0; i <= m; i++) dp[i][0] = i\n  for (let j = 0; j <= n; j++) dp[0][j] = j\n  for (let i = 1; i <= m; i++) {\n    for (let j = 1; j <= n; j++) {\n      dp[i][j] = a[i - 1] === b[j - 1]\n        ? dp[i - 1][j - 1]\n        : 1 + Math.min(dp[i - 1][j], dp[i][j - 1], dp[i - 1][j - 1])\n    }\n  }\n  return dp[m][n]\n}\n\nfunction fuzzyWordMatch(a: string, b: string): boolean {\n  if (a === b) return true\n  const maxDist = Math.max(1, Math.floor(Math.max(a.length, b.length) * 0.3))\n  return editDistance(a, b) <= maxDist\n}\n\nfunction nameMatches(a: string, b: string): boolean {\n  const aParts = normalizeName(a)\n  const bParts = normalizeName(b)\n  if (aParts.join(' ') === bParts.join(' ')) return true\n  const aSet = new Set(aParts)\n  const bSet = new Set(bParts)\n  if (bParts.every((p) => aSet.has(p)) || aParts.every((p) => bSet.has(p))) return true\n  if (bParts.filter((p) => aSet.has(p)).length >= 2) return true\n  // Fuzzy match for transliteration variants\n  if (bParts.every((bp) => aParts.some((ap) => fuzzyWordMatch(bp, ap)))) return true\n  if (bParts.length === 1 && aParts.some((ap) => fuzzyWordMatch(bParts[0], ap))) return true\n  return false\n}\n\ninterface StepProfessionalProps {\n  data: Partial<ProfessionalFormData>\n  founderName?: string\n  onNext: (data: ProfessionalFormData) => void\n  onBack: () => void\n}\n\nexport function StepProfessional({ data, founderName, onNext, onBack }: StepProfessionalProps) {\n  const [connected, setConnected] = useState(data.linkedinConnected ?? false)\n  const [linkedinData, setLinkedinData] = useState<LinkedInProfileData | null>(null)\n\n  const {\n    handleSubmit,\n    setValue,\n  } = useForm<ProfessionalFormData>({\n    resolver: zodResolver(professionalSchema),\n    defaultValues: {\n      hasLinkedin: data.hasLinkedin ?? false,\n      linkedinUrl: data.linkedinUrl ?? '',\n      linkedinConnected: data.linkedinConnected ?? false,\n    },\n  })\n\n  // Check for OAuth data in sessionStorage on mount\n  useEffect(() => {\n    try {\n      const stored = sessionStorage.getItem('oauth_linkedin_data')\n      if (stored) {\n        const parsed = JSON.parse(stored) as LinkedInProfileData\n        setLinkedinData(parsed)\n        setConnected(true)\n        setValue('linkedinConnected', true)\n        setValue('hasLinkedin', true)\n      }\n    } catch {\n      // Ignore parse errors\n    }\n  }, [setValue])\n\n  const handleOAuthConnect = () => {\n    window.location.href = '/api/oauth/linkedin/connect'\n  }\n\n  const handleDisconnect = () => {\n    setLinkedinData(null)\n    setConnected(false)\n    setValue('linkedinConnected', false)\n    setValue('linkedinUrl', '')\n    sessionStorage.removeItem('oauth_linkedin_data')\n  }\n\n  return (\n    <form onSubmit={handleSubmit(onNext)} className=\"space-y-6\">\n      <div>\n        <h3 className=\"text-lg font-medium text-white\">Professional Graph</h3>\n        <p className=\"mt-1 text-sm text-zinc-400\">\n          Your professional network history proves who you are through years of connections\n          and endorsements that can&apos;t be fabricated.\n        </p>\n      </div>\n\n      <div className=\"rounded-lg border border-white/[0.08] bg-white/[0.03] p-6\">\n        <div className=\"text-center\">\n          <div className=\"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-blue-500/[0.15]\">\n            <Linkedin className=\"h-6 w-6 text-blue-400\" />\n          </div>\n          <h4 className=\"mt-3 font-medium text-white\">Connect LinkedIn</h4>\n          <p className=\"mt-1 text-sm text-zinc-400\">\n            We analyze account age, connections, endorsements, and career progression.\n          </p>\n\n          {connected && linkedinData ? (\n            <div className=\"mt-4 rounded-lg bg-emerald-500/[0.1] border border-emerald-500/20 p-4 text-sm text-emerald-400\">\n              <div className=\"flex items-center justify-center gap-2\">\n                <CheckCircle className=\"h-4 w-4\" />\n                <p className=\"font-medium\">LinkedIn Connected</p>\n              </div>\n              <div className=\"mt-3 flex items-center gap-3 text-left\">\n                {linkedinData.picture ? (\n                  <img\n                    src={linkedinData.picture}\n                    alt={linkedinData.name}\n                    className=\"h-10 w-10 rounded-full border border-white/10\"\n                  />\n                ) : null}\n                <div>\n                  <p className=\"font-medium text-zinc-200\">{linkedinData.name}</p>\n                  {linkedinData.email ? (\n                    <p className=\"text-zinc-400\">{linkedinData.email}</p>\n                  ) : null}\n                </div>\n              </div>\n              <p className=\"mt-2 text-left text-zinc-300\">Profile verified</p>\n              {founderName && linkedinData.name ? (\n                nameMatches(linkedinData.name, founderName) ? (\n                  <div className=\"mt-2 flex items-center gap-1.5 text-xs text-emerald-400\">\n                    <CheckCircle className=\"h-3.5 w-3.5\" />\n                    Name matches your profile\n                  </div>\n                ) : (\n                  <div className=\"mt-2 flex items-center gap-1.5 text-xs text-orange-400\">\n                    <AlertCircle className=\"h-3.5 w-3.5\" />\n                    Name does not match your profile\n                  </div>\n                )\n              ) : null}\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"mt-3 text-zinc-400 hover:text-zinc-200 hover:bg-white/[0.05]\"\n                onClick={handleDisconnect}\n              >\n                Disconnect\n              </Button>\n            </div>\n          ) : (\n            <Button\n              type=\"button\"\n              variant=\"ghost\"\n              className=\"mt-4 gap-2 border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05]\"\n              onClick={handleOAuthConnect}\n            >\n              <Linkedin className=\"h-4 w-4\" />\n              Connect with LinkedIn\n            </Button>\n          )}\n        </div>\n      </div>\n\n      <p className=\"text-sm text-zinc-500\">\n        This step is optional but significantly impacts your Digital Lineage score (up to 15 points).\n      </p>\n\n      <div className=\"flex justify-between pt-4\">\n        <Button type=\"button\" variant=\"ghost\" onClick={onBack} className=\"gap-2 border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05]\">\n          <ArrowLeft className=\"h-4 w-4\" />\n          Back\n        </Button>\n        <Button type=\"submit\" variant=\"ghost\" className=\"gap-2 bg-gradient-to-r from-blue-500 to-violet-600 hover:from-blue-600 hover:to-violet-700 hover:text-white text-white border-0 shadow-[0_0_20px_rgba(59,130,246,0.15)] hover:shadow-[0_0_25px_rgba(59,130,246,0.3)] transition-shadow\">\n          Continue\n          <ArrowRight className=\"h-4 w-4\" />\n        </Button>\n      </div>\n    </form>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5766, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/onboarding/step-financial.tsx"],"sourcesContent":["'use client'\n\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { Button } from '@/components/ui/button'\nimport { Label } from '@/components/ui/label'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport {\n  financialSchema,\n  FinancialFormData,\n  revenueOptions,\n  geographyOptions,\n  chargebackOptions,\n} from '@/lib/validations/onboarding'\nimport { ArrowLeft, ArrowRight, CreditCard, CheckCircle } from 'lucide-react'\nimport { useState, useEffect } from 'react'\nimport type { StripeProfileData } from '@/lib/oauth/stripe'\n\ninterface StepFinancialProps {\n  data: Partial<FinancialFormData>\n  onNext: (data: FinancialFormData) => void\n  onBack: () => void\n}\n\nexport function StepFinancial({ data, onNext, onBack }: StepFinancialProps) {\n  const [connected, setConnected] = useState(data.hasStripeConnected ?? false)\n  const [stripeData, setStripeData] = useState<StripeProfileData | null>(null)\n\n  const {\n    handleSubmit,\n    setValue,\n    watch,\n  } = useForm<FinancialFormData>({\n    resolver: zodResolver(financialSchema),\n    defaultValues: {\n      hasStripeConnected: data.hasStripeConnected ?? false,\n      monthlyRevenue: data.monthlyRevenue ?? '0',\n      customerGeography: data.customerGeography ?? '',\n      chargebackRate: data.chargebackRate ?? '',\n      hasBankStatements: data.hasBankStatements ?? false,\n    },\n  })\n\n  const monthlyRevenue = watch('monthlyRevenue')\n  const customerGeography = watch('customerGeography')\n  const chargebackRate = watch('chargebackRate')\n  const hasBankStatements = watch('hasBankStatements')\n\n  // Check for OAuth data in sessionStorage on mount\n  useEffect(() => {\n    try {\n      const stored = sessionStorage.getItem('oauth_stripe_data')\n      if (stored) {\n        const parsed = JSON.parse(stored) as StripeProfileData\n        setStripeData(parsed)\n        setConnected(true)\n        setValue('hasStripeConnected', true)\n        // Auto-fill form fields from real data\n        if (parsed.revenueRange) setValue('monthlyRevenue', parsed.revenueRange)\n        if (parsed.chargebackRateCategory) setValue('chargebackRate', parsed.chargebackRateCategory)\n      }\n    } catch {\n      // Ignore parse errors\n    }\n  }, [setValue])\n\n  const handleOAuthConnect = () => {\n    window.location.href = '/api/oauth/stripe/connect'\n  }\n\n  return (\n    <form onSubmit={handleSubmit(onNext)} className=\"space-y-6\">\n      <div>\n        <h3 className=\"text-lg font-medium text-white\">Financial Footprint</h3>\n        <p className=\"mt-1 text-sm text-zinc-400\">\n          Revenue history and financial documentation strengthen your trust profile\n          and demonstrate legitimate business activity.\n        </p>\n      </div>\n\n      <div className=\"rounded-lg border border-white/[0.08] bg-white/[0.03] p-6\">\n        <div className=\"text-center\">\n          <div className=\"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-violet-500/[0.15]\">\n            <CreditCard className=\"h-6 w-6 text-violet-400\" />\n          </div>\n          <h4 className=\"mt-3 font-medium text-white\">Connect Stripe</h4>\n          <p className=\"mt-1 text-sm text-zinc-400\">\n            Verify your revenue history, customer geography, and chargeback rate.\n          </p>\n\n          {connected && stripeData ? (\n            <div className=\"mt-4 rounded-lg bg-emerald-500/[0.1] border border-emerald-500/20 p-4 text-sm text-emerald-400\">\n              <div className=\"flex items-center justify-center gap-2\">\n                <CheckCircle className=\"h-4 w-4\" />\n                <p className=\"font-medium\">Stripe Connected</p>\n              </div>\n              <div className=\"mt-2 space-y-1 text-left text-zinc-300\">\n                <p>Monthly revenue: {stripeData.monthlyRevenueFormatted}</p>\n                <p>Account age: {stripeData.accountAgeMonths} month{stripeData.accountAgeMonths !== 1 ? 's' : ''}</p>\n                <p>Chargeback rate: {stripeData.chargebackRate}%</p>\n              </div>\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"mt-3 text-zinc-400 hover:text-zinc-200 hover:bg-white/[0.05]\"\n                onClick={() => {\n                  setStripeData(null)\n                  setConnected(false)\n                  setValue('hasStripeConnected', false)\n                  sessionStorage.removeItem('oauth_stripe_data')\n                }}\n              >\n                Disconnect\n              </Button>\n            </div>\n          ) : (\n            <Button\n              type=\"button\"\n              variant=\"ghost\"\n              className=\"mt-4 gap-2 border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05]\"\n              onClick={handleOAuthConnect}\n            >\n              <CreditCard className=\"h-4 w-4\" />\n              Connect with Stripe\n            </Button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label className=\"text-zinc-300\">Monthly Revenue</Label>\n        <Select\n          value={monthlyRevenue}\n          onValueChange={(value) => setValue('monthlyRevenue', value)}\n        >\n          <SelectTrigger>\n            <SelectValue placeholder=\"Select revenue range\" />\n          </SelectTrigger>\n          <SelectContent>\n            {revenueOptions.map((option) => (\n              <SelectItem key={option.value} value={option.value}>\n                {option.label}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label className=\"text-zinc-300\">Customer Geography</Label>\n        <Select\n          value={customerGeography}\n          onValueChange={(value) => setValue('customerGeography', value)}\n        >\n          <SelectTrigger>\n            <SelectValue placeholder=\"Where are your customers?\" />\n          </SelectTrigger>\n          <SelectContent>\n            {geographyOptions.map((option) => (\n              <SelectItem key={option.value} value={option.value}>\n                {option.label}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label className=\"text-zinc-300\">Chargeback Rate</Label>\n        <Select\n          value={chargebackRate}\n          onValueChange={(value) => setValue('chargebackRate', value)}\n        >\n          <SelectTrigger>\n            <SelectValue placeholder=\"Select chargeback rate\" />\n          </SelectTrigger>\n          <SelectContent>\n            {chargebackOptions.map((option) => (\n              <SelectItem key={option.value} value={option.value}>\n                {option.label}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n\n      <div className=\"rounded-lg border border-white/[0.08] bg-white/[0.03] p-4\">\n        <div className=\"flex items-start gap-4\">\n          <Checkbox\n            id=\"hasBankStatements\"\n            checked={hasBankStatements}\n            onCheckedChange={(checked) => setValue('hasBankStatements', !!checked)}\n          />\n          <div className=\"flex-1\">\n            <Label htmlFor=\"hasBankStatements\" className=\"text-base font-medium text-zinc-200\">\n              Bank Statements Available\n            </Label>\n            <p className=\"mt-1 text-sm text-zinc-400\">\n              Can you provide 3+ months of business or personal bank statements?\n            </p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex justify-between pt-4\">\n        <Button type=\"button\" variant=\"ghost\" onClick={onBack} className=\"gap-2 border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05]\">\n          <ArrowLeft className=\"h-4 w-4\" />\n          Back\n        </Button>\n        <Button type=\"submit\" variant=\"ghost\" className=\"gap-2 bg-gradient-to-r from-blue-500 to-violet-600 hover:from-blue-600 hover:to-violet-700 hover:text-white text-white border-0 shadow-[0_0_20px_rgba(59,130,246,0.15)] hover:shadow-[0_0_25px_rgba(59,130,246,0.3)] transition-shadow\">\n          Continue\n          <ArrowRight className=\"h-4 w-4\" />\n        </Button>\n      </div>\n    </form>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6290, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/onboarding/step-digital-presence.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { digitalPresenceSchema, DigitalPresenceFormData } from '@/lib/validations/onboarding'\nimport {\n  ArrowLeft,\n  ArrowRight,\n  Globe,\n  Twitter,\n  Instagram,\n  Smartphone,\n  CheckCircle,\n  AlertCircle,\n  Loader2,\n  Search,\n  X,\n  ExternalLink,\n  Shield,\n  Star,\n  UserCheck,\n} from 'lucide-react'\nimport type {\n  DomainVerificationResult,\n  TwitterVerificationResult,\n  InstagramVerificationResult,\n  AppStoreVerificationResult,\n} from '@/lib/digital-presence-verification'\n\ninterface StepDigitalPresenceProps {\n  data: Partial<DigitalPresenceFormData>\n  founderName?: string\n  onNext: (data: DigitalPresenceFormData) => void\n  onBack: () => void\n}\n\nconst STORAGE_KEY = 'digital_presence_verification'\n\ninterface StoredVerification {\n  website?: DomainVerificationResult\n  twitter?: TwitterVerificationResult\n  instagram?: InstagramVerificationResult\n  appStore?: AppStoreVerificationResult\n}\n\nexport function StepDigitalPresence({ data, founderName, onNext, onBack }: StepDigitalPresenceProps) {\n  const [websiteResult, setWebsiteResult] = useState<DomainVerificationResult | null>(null)\n  const [twitterResult, setTwitterResult] = useState<TwitterVerificationResult | null>(null)\n  const [instagramResult, setInstagramResult] = useState<InstagramVerificationResult | null>(null)\n  const [appStoreResult, setAppStoreResult] = useState<AppStoreVerificationResult | null>(null)\n  const [verifying, setVerifying] = useState({ website: false, appStore: false })\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    watch,\n    formState: { errors },\n  } = useForm<DigitalPresenceFormData>({\n    resolver: zodResolver(digitalPresenceSchema),\n    defaultValues: {\n      website: data.website ?? '',\n      twitterHandle: data.twitterHandle ?? '',\n      instagramHandle: data.instagramHandle ?? '',\n      appStoreUrl: data.appStoreUrl ?? '',\n      websiteVerified: data.websiteVerified ?? false,\n      twitterVerified: data.twitterVerified ?? false,\n      instagramVerified: data.instagramVerified ?? false,\n      appStoreVerified: data.appStoreVerified ?? false,\n    },\n  })\n\n  const website = watch('website')\n  const twitterHandle = watch('twitterHandle')\n  const instagramHandle = watch('instagramHandle')\n  const appStoreUrl = watch('appStoreUrl')\n\n  // Restore verification results from sessionStorage on mount\n  useEffect(() => {\n    try {\n      const stored = sessionStorage.getItem(STORAGE_KEY)\n      if (stored) {\n        const parsed = JSON.parse(stored) as StoredVerification\n        if (parsed.website) {\n          setWebsiteResult(parsed.website)\n          setValue('websiteVerified', parsed.website.isLive && !parsed.website.error && parsed.website.nameFound === true)\n        }\n        if (parsed.twitter) {\n          setTwitterResult(parsed.twitter)\n          setValue('twitterVerified', parsed.twitter.valid)\n        }\n        if (parsed.instagram) {\n          setInstagramResult(parsed.instagram)\n          setValue('instagramVerified', parsed.instagram.valid)\n        }\n        if (parsed.appStore) {\n          setAppStoreResult(parsed.appStore)\n          setValue('appStoreVerified', !parsed.appStore.error)\n        }\n      }\n    } catch {\n      // Ignore\n    }\n  }, [setValue])\n\n  // Persist verification results to sessionStorage\n  function persistResults(\n    ws?: DomainVerificationResult | null,\n    tw?: TwitterVerificationResult | null,\n    ig?: InstagramVerificationResult | null,\n    app?: AppStoreVerificationResult | null,\n  ) {\n    try {\n      const stored: StoredVerification = {}\n      if (ws) stored.website = ws\n      if (tw) stored.twitter = tw\n      if (ig) stored.instagram = ig\n      if (app) stored.appStore = app\n      sessionStorage.setItem(STORAGE_KEY, JSON.stringify(stored))\n    } catch {\n      // Ignore\n    }\n  }\n\n  // === Verify Handlers ===\n\n  const handleVerifyWebsite = async () => {\n    const url = website?.trim()\n    if (!url) return\n\n    setVerifying((v) => ({ ...v, website: true }))\n    setWebsiteResult(null)\n\n    try {\n      const res = await fetch('/api/verify/digital-presence', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ type: 'domain', value: url, founderName }),\n      })\n      const json = await res.json()\n      const result = json.data as DomainVerificationResult\n      setWebsiteResult(result)\n      // Only fully verified if site is live AND founder name found on page\n      setValue('websiteVerified', json.success && result.nameFound === true)\n      persistResults(result, twitterResult, instagramResult, appStoreResult)\n    } catch {\n      setWebsiteResult({ isLive: false, hasSSL: false, error: 'Verification request failed' })\n      setValue('websiteVerified', false)\n    } finally {\n      setVerifying((v) => ({ ...v, website: false }))\n    }\n  }\n\n  const handleVerifyTwitter = () => {\n    const handle = twitterHandle?.trim()\n    if (!handle) return\n\n    // Client-side format validation â€” call the same logic\n    let normalized = handle.replace(/^https?:\\/\\/(www\\.)?(twitter|x)\\.com\\//, '').replace(/^@/, '').split('/')[0].split('?')[0]\n    const valid = /^[a-zA-Z0-9_]{1,15}$/.test(normalized)\n    const result: TwitterVerificationResult = { handle: normalized, valid, profileUrl: `https://x.com/${normalized}` }\n    setTwitterResult(result)\n    setValue('twitterVerified', valid)\n    setValue('twitterHandle', normalized)\n    persistResults(websiteResult, result, instagramResult, appStoreResult)\n  }\n\n  const handleVerifyInstagram = () => {\n    const handle = instagramHandle?.trim()\n    if (!handle) return\n\n    let normalized = handle.replace(/^https?:\\/\\/(www\\.)?instagram\\.com\\//, '').replace(/^@/, '').split('/')[0].split('?')[0]\n    const valid = /^[a-zA-Z0-9_.]{1,30}$/.test(normalized)\n    const result: InstagramVerificationResult = { handle: normalized, valid, profileUrl: `https://instagram.com/${normalized}` }\n    setInstagramResult(result)\n    setValue('instagramVerified', valid)\n    setValue('instagramHandle', normalized)\n    persistResults(websiteResult, twitterResult, result, appStoreResult)\n  }\n\n  const handleVerifyAppStore = async () => {\n    const url = appStoreUrl?.trim()\n    if (!url) return\n\n    setVerifying((v) => ({ ...v, appStore: true }))\n    setAppStoreResult(null)\n\n    try {\n      const res = await fetch('/api/verify/digital-presence', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ type: 'appstore', value: url }),\n      })\n      const json = await res.json()\n      const result = json.data as AppStoreVerificationResult\n      setAppStoreResult(result)\n      setValue('appStoreVerified', json.success)\n      persistResults(websiteResult, twitterResult, instagramResult, result)\n    } catch {\n      setAppStoreResult({ error: 'Verification request failed' })\n      setValue('appStoreVerified', false)\n    } finally {\n      setVerifying((v) => ({ ...v, appStore: false }))\n    }\n  }\n\n  // === Clear Handlers ===\n\n  const clearWebsite = () => {\n    setWebsiteResult(null)\n    setValue('website', '')\n    setValue('websiteVerified', false)\n    persistResults(null, twitterResult, instagramResult, appStoreResult)\n  }\n\n  const clearTwitter = () => {\n    setTwitterResult(null)\n    setValue('twitterHandle', '')\n    setValue('twitterVerified', false)\n    persistResults(websiteResult, null, instagramResult, appStoreResult)\n  }\n\n  const clearInstagram = () => {\n    setInstagramResult(null)\n    setValue('instagramHandle', '')\n    setValue('instagramVerified', false)\n    persistResults(websiteResult, twitterResult, null, appStoreResult)\n  }\n\n  const clearAppStore = () => {\n    setAppStoreResult(null)\n    setValue('appStoreUrl', '')\n    setValue('appStoreVerified', false)\n    persistResults(websiteResult, twitterResult, instagramResult, null)\n  }\n\n  return (\n    <form onSubmit={handleSubmit(onNext)} className=\"space-y-6\">\n      <div>\n        <h3 className=\"text-lg font-medium text-white\">Digital Presence</h3>\n        <p className=\"mt-1 text-sm text-zinc-400\">\n          Your online presence across websites and social platforms helps verify your\n          identity. Click &quot;Verify&quot; to check each entry.\n        </p>\n      </div>\n\n      {/* Website */}\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"website\" className=\"flex items-center gap-2 text-zinc-300\">\n          <Globe className=\"h-4 w-4\" />\n          Website URL\n        </Label>\n        {websiteResult && !websiteResult.error ? (\n          <div className={`rounded-lg p-4 text-sm ${websiteResult.nameFound ? 'bg-emerald-500/[0.1] border border-emerald-500/20' : 'bg-orange-500/[0.1] border border-orange-500/20'}`}>\n            <div className=\"flex items-center justify-between\">\n              <div className={`flex items-center gap-2 ${websiteResult.nameFound ? 'text-emerald-400' : 'text-orange-400'}`}>\n                {websiteResult.nameFound ? <CheckCircle className=\"h-4 w-4\" /> : <AlertCircle className=\"h-4 w-4\" />}\n                <span className=\"font-medium\">{websiteResult.nameFound ? 'Website Verified' : 'Website Found â€” Name Not Detected'}</span>\n              </div>\n              <Button type=\"button\" variant=\"ghost\" size=\"sm\" onClick={clearWebsite} className=\"h-6 w-6 p-0 text-zinc-400 hover:text-zinc-200\">\n                <X className=\"h-3 w-3\" />\n              </Button>\n            </div>\n            <div className=\"mt-3 space-y-1.5 text-zinc-300\">\n              {websiteResult.title ? (\n                <p><span className=\"text-zinc-500\">Title:</span> {websiteResult.title}</p>\n              ) : null}\n              {websiteResult.description ? (\n                <p className=\"line-clamp-2\"><span className=\"text-zinc-500\">Description:</span> {websiteResult.description}</p>\n              ) : null}\n              {websiteResult.domainAge != null ? (\n                <p><span className=\"text-zinc-500\">Domain age:</span> {websiteResult.domainAge} year{websiteResult.domainAge !== 1 ? 's' : ''}</p>\n              ) : null}\n              {websiteResult.registrar ? (\n                <p><span className=\"text-zinc-500\">Registrar:</span> {websiteResult.registrar}</p>\n              ) : null}\n              <div className=\"flex items-center gap-3 pt-1\">\n                {websiteResult.hasSSL ? (\n                  <span className=\"flex items-center gap-1 text-emerald-400 text-xs\"><Shield className=\"h-3 w-3\" /> SSL</span>\n                ) : (\n                  <span className=\"flex items-center gap-1 text-orange-400 text-xs\"><AlertCircle className=\"h-3 w-3\" /> No SSL</span>\n                )}\n                {websiteResult.isLive ? (\n                  <span className=\"text-emerald-400 text-xs\">Live</span>\n                ) : (\n                  <span className=\"text-orange-400 text-xs\">Unreachable</span>\n                )}\n                {websiteResult.nameFound != null ? (\n                  websiteResult.nameFound ? (\n                    <span className=\"flex items-center gap-1 text-emerald-400 text-xs\"><UserCheck className=\"h-3 w-3\" /> Name found</span>\n                  ) : (\n                    <span className=\"flex items-center gap-1 text-zinc-500 text-xs\"><UserCheck className=\"h-3 w-3\" /> Name not found</span>\n                  )\n                ) : null}\n              </div>\n            </div>\n          </div>\n        ) : (\n          <>\n            <div className=\"flex gap-2\">\n              <Input\n                id=\"website\"\n                placeholder=\"https://yourcompany.com\"\n                {...register('website')}\n                className=\"flex-1\"\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter') {\n                    e.preventDefault()\n                    handleVerifyWebsite()\n                  }\n                }}\n              />\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                className=\"gap-2 border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05]\"\n                onClick={handleVerifyWebsite}\n                disabled={verifying.website || !website?.trim()}\n              >\n                {verifying.website ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Search className=\"h-4 w-4\" />}\n                {verifying.website ? 'Verifying...' : 'Verify'}\n              </Button>\n            </div>\n            {errors.website ? (\n              <p className=\"text-sm text-red-400\">{errors.website.message}</p>\n            ) : null}\n            {websiteResult?.error ? (\n              <div className=\"flex items-center gap-2 text-sm text-orange-400\">\n                <AlertCircle className=\"h-4 w-4 shrink-0\" />\n                {websiteResult.error}\n              </div>\n            ) : null}\n            <p className=\"text-xs text-zinc-500\">\n              We check domain age and website content via WHOIS lookup.\n            </p>\n          </>\n        )}\n      </div>\n\n      {/* Twitter/X */}\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"twitterHandle\" className=\"flex items-center gap-2 text-zinc-300\">\n          <Twitter className=\"h-4 w-4\" />\n          Twitter/X Handle\n        </Label>\n        {twitterResult?.valid ? (\n          <div className=\"rounded-lg bg-emerald-500/[0.1] border border-emerald-500/20 p-4 text-sm\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2 text-emerald-400\">\n                <CheckCircle className=\"h-4 w-4\" />\n                <span className=\"font-medium\">Valid Handle</span>\n              </div>\n              <Button type=\"button\" variant=\"ghost\" size=\"sm\" onClick={clearTwitter} className=\"h-6 w-6 p-0 text-zinc-400 hover:text-zinc-200\">\n                <X className=\"h-3 w-3\" />\n              </Button>\n            </div>\n            <div className=\"mt-2 flex items-center gap-2 text-zinc-300\">\n              <span>@{twitterResult.handle}</span>\n              <a\n                href={twitterResult.profileUrl}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-blue-400 hover:text-blue-300\"\n              >\n                <ExternalLink className=\"h-3 w-3\" />\n              </a>\n            </div>\n          </div>\n        ) : (\n          <>\n            <div className=\"flex gap-2\">\n              <Input\n                id=\"twitterHandle\"\n                placeholder=\"@yourhandle\"\n                {...register('twitterHandle')}\n                className=\"flex-1\"\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter') {\n                    e.preventDefault()\n                    handleVerifyTwitter()\n                  }\n                }}\n              />\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                className=\"gap-2 border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05]\"\n                onClick={handleVerifyTwitter}\n                disabled={!twitterHandle?.trim()}\n              >\n                <Search className=\"h-4 w-4\" />\n                Verify\n              </Button>\n            </div>\n            {twitterResult && !twitterResult.valid ? (\n              <div className=\"flex items-center gap-2 text-sm text-orange-400\">\n                <AlertCircle className=\"h-4 w-4 shrink-0\" />\n                Invalid handle format. Use 1-15 characters: letters, numbers, underscores.\n              </div>\n            ) : null}\n            <p className=\"text-xs text-zinc-500\">\n              We validate the handle format (letters, numbers, underscores, max 15 chars).\n            </p>\n          </>\n        )}\n      </div>\n\n      {/* Instagram */}\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"instagramHandle\" className=\"flex items-center gap-2 text-zinc-300\">\n          <Instagram className=\"h-4 w-4\" />\n          Instagram Handle\n        </Label>\n        {instagramResult?.valid ? (\n          <div className=\"rounded-lg bg-emerald-500/[0.1] border border-emerald-500/20 p-4 text-sm\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2 text-emerald-400\">\n                <CheckCircle className=\"h-4 w-4\" />\n                <span className=\"font-medium\">Valid Handle</span>\n              </div>\n              <Button type=\"button\" variant=\"ghost\" size=\"sm\" onClick={clearInstagram} className=\"h-6 w-6 p-0 text-zinc-400 hover:text-zinc-200\">\n                <X className=\"h-3 w-3\" />\n              </Button>\n            </div>\n            <div className=\"mt-2 flex items-center gap-2 text-zinc-300\">\n              <span>@{instagramResult.handle}</span>\n              <a\n                href={instagramResult.profileUrl}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-blue-400 hover:text-blue-300\"\n              >\n                <ExternalLink className=\"h-3 w-3\" />\n              </a>\n            </div>\n          </div>\n        ) : (\n          <>\n            <div className=\"flex gap-2\">\n              <Input\n                id=\"instagramHandle\"\n                placeholder=\"@yourhandle\"\n                {...register('instagramHandle')}\n                className=\"flex-1\"\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter') {\n                    e.preventDefault()\n                    handleVerifyInstagram()\n                  }\n                }}\n              />\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                className=\"gap-2 border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05]\"\n                onClick={handleVerifyInstagram}\n                disabled={!instagramHandle?.trim()}\n              >\n                <Search className=\"h-4 w-4\" />\n                Verify\n              </Button>\n            </div>\n            {instagramResult && !instagramResult.valid ? (\n              <div className=\"flex items-center gap-2 text-sm text-orange-400\">\n                <AlertCircle className=\"h-4 w-4 shrink-0\" />\n                Invalid handle format. Use 1-30 characters: letters, numbers, periods, underscores.\n              </div>\n            ) : null}\n            <p className=\"text-xs text-zinc-500\">\n              We validate the handle format (letters, numbers, periods, underscores, max 30 chars).\n            </p>\n          </>\n        )}\n      </div>\n\n      {/* App Store */}\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"appStoreUrl\" className=\"flex items-center gap-2 text-zinc-300\">\n          <Smartphone className=\"h-4 w-4\" />\n          App Store URL (if applicable)\n        </Label>\n        {appStoreResult && !appStoreResult.error ? (\n          <div className=\"rounded-lg bg-emerald-500/[0.1] border border-emerald-500/20 p-4 text-sm\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2 text-emerald-400\">\n                <CheckCircle className=\"h-4 w-4\" />\n                <span className=\"font-medium\">App Found</span>\n              </div>\n              <Button type=\"button\" variant=\"ghost\" size=\"sm\" onClick={clearAppStore} className=\"h-6 w-6 p-0 text-zinc-400 hover:text-zinc-200\">\n                <X className=\"h-3 w-3\" />\n              </Button>\n            </div>\n            <div className=\"mt-3 flex items-start gap-3\">\n              {appStoreResult.iconUrl ? (\n                <img\n                  src={appStoreResult.iconUrl}\n                  alt={appStoreResult.appName || 'App icon'}\n                  className=\"h-12 w-12 rounded-xl border border-white/10\"\n                />\n              ) : null}\n              <div className=\"space-y-1 text-zinc-300\">\n                {appStoreResult.appName ? (\n                  <p className=\"font-medium text-zinc-200\">{appStoreResult.appName}</p>\n                ) : null}\n                {appStoreResult.developer ? (\n                  <p className=\"text-zinc-400\">{appStoreResult.developer}</p>\n                ) : null}\n                <div className=\"flex items-center gap-3 text-xs\">\n                  {appStoreResult.rating != null ? (\n                    <span className=\"flex items-center gap-1\">\n                      <Star className=\"h-3 w-3 text-yellow-400 fill-yellow-400\" />\n                      {appStoreResult.rating}\n                      {appStoreResult.ratingCount ? ` (${appStoreResult.ratingCount.toLocaleString()})` : ''}\n                    </span>\n                  ) : null}\n                  {appStoreResult.price ? (\n                    <span>{appStoreResult.price}</span>\n                  ) : null}\n                  {appStoreResult.genre ? (\n                    <span className=\"text-zinc-500\">{appStoreResult.genre}</span>\n                  ) : null}\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <>\n            <div className=\"flex gap-2\">\n              <Input\n                id=\"appStoreUrl\"\n                placeholder=\"https://apps.apple.com/app/...\"\n                {...register('appStoreUrl')}\n                className=\"flex-1\"\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter') {\n                    e.preventDefault()\n                    handleVerifyAppStore()\n                  }\n                }}\n              />\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                className=\"gap-2 border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05]\"\n                onClick={handleVerifyAppStore}\n                disabled={verifying.appStore || !appStoreUrl?.trim()}\n              >\n                {verifying.appStore ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Search className=\"h-4 w-4\" />}\n                {verifying.appStore ? 'Verifying...' : 'Verify'}\n              </Button>\n            </div>\n            {errors.appStoreUrl ? (\n              <p className=\"text-sm text-red-400\">{errors.appStoreUrl.message}</p>\n            ) : null}\n            {appStoreResult?.error ? (\n              <div className=\"flex items-center gap-2 text-sm text-orange-400\">\n                <AlertCircle className=\"h-4 w-4 shrink-0\" />\n                {appStoreResult.error}\n              </div>\n            ) : null}\n          </>\n        )}\n      </div>\n\n      <p className=\"text-sm text-zinc-500\">\n        All fields are optional. Verified entries earn more trust score points (up to 10 points total).\n      </p>\n\n      <div className=\"flex justify-between pt-4\">\n        <Button type=\"button\" variant=\"ghost\" onClick={onBack} className=\"gap-2 border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05]\">\n          <ArrowLeft className=\"h-4 w-4\" />\n          Back\n        </Button>\n        <Button type=\"submit\" variant=\"ghost\" className=\"gap-2 bg-gradient-to-r from-blue-500 to-violet-600 hover:from-blue-600 hover:to-violet-700 hover:text-white text-white border-0 shadow-[0_0_20px_rgba(59,130,246,0.15)] hover:shadow-[0_0_25px_rgba(59,130,246,0.3)] transition-shadow\">\n          Continue\n          <ArrowRight className=\"h-4 w-4\" />\n        </Button>\n      </div>\n    </form>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7625, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/lib/accelerators.ts"],"sourcesContent":["export const KNOWN_ACCELERATORS = [\n  'Y Combinator',\n  'Techstars',\n  '500 Global',\n  'Alchemist Accelerator',\n  'Plug and Play',\n  'MassChallenge',\n  'Founders Factory',\n  'Startupbootcamp',\n  'Seedcamp',\n  'Entrepreneur First',\n  'Antler',\n  'On Deck',\n  'South Park Commons',\n  'Pioneer',\n  'Launch Academy',\n  'Indie.vc',\n  'Dreamit Ventures',\n  'Betaworks',\n  'HAX',\n  'IndieBio',\n  'Creative Destruction Lab',\n  'SOSV',\n  'Chinaccelerator',\n  'Orbital',\n  'Flat6Labs',\n  'Wayra',\n  'Microsoft for Startups',\n  'Google for Startups',\n  'AWS Activate',\n  'NVIDIA Inception',\n  'Intel Ignite',\n  'Barclays Accelerator',\n  'Citi Ventures',\n  'Comcast NBCUniversal LIFT Labs',\n  'Newchip',\n  'Gener8tor',\n  'Boomtown Accelerator',\n  'Mucker Capital',\n  'Capital Factory',\n  'Lunar Startups',\n  'Starburst Aerospace',\n  'Elemental Excelerator',\n  'Greentown Labs',\n  'Climate-KIC',\n  'Katapult',\n  'Village Capital',\n  'Unreasonable Group',\n  'Parallel18',\n  'Start-Up Chile',\n  'Station F',\n]\n\nconst normalizedSet = new Set(\n  KNOWN_ACCELERATORS.map((a) => a.toLowerCase())\n)\n\nexport function searchAccelerators(query: string): string[] {\n  if (!query || query.length < 2) return []\n  const lower = query.toLowerCase()\n  return KNOWN_ACCELERATORS.filter((a) => a.toLowerCase().includes(lower))\n}\n\nexport function isKnownAccelerator(name: string): boolean {\n  return normalizedSet.has(name.toLowerCase())\n}\n"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,qBAAqB;IAChC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,gBAAgB,IAAI,IACxB,mBAAmB,GAAG,CAAC,CAAC,IAAM,EAAE,WAAW;AAGtC,SAAS,mBAAmB,KAAa;IAC9C,IAAI,CAAC,SAAS,MAAM,MAAM,GAAG,GAAG,OAAO,EAAE;IACzC,MAAM,QAAQ,MAAM,WAAW;IAC/B,OAAO,mBAAmB,MAAM,CAAC,CAAC,IAAM,EAAE,WAAW,GAAG,QAAQ,CAAC;AACnE;AAEO,SAAS,mBAAmB,IAAY;IAC7C,OAAO,cAAc,GAAG,CAAC,KAAK,WAAW;AAC3C"}},
    {"offset": {"line": 7698, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/onboarding/step-trust-signals.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef, useCallback } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport { trustSignalsSchema, TrustSignalsFormData } from '@/lib/validations/onboarding'\nimport { searchAccelerators } from '@/lib/accelerators'\nimport { ArrowLeft, CheckCircle, Loader2, AlertTriangle, Send, RefreshCw } from 'lucide-react'\n\nconst STORAGE_KEY = 'trust_signals_verification'\n\ninterface VerificationState {\n  referral?: { verified: boolean; referrerName: string; code: string }\n  university?: { verified: boolean; email: string }\n  accelerator?: { verified: boolean; name: string }\n}\n\nfunction loadVerification(): VerificationState {\n  try {\n    const raw = sessionStorage.getItem(STORAGE_KEY)\n    if (raw) return JSON.parse(raw)\n  } catch {}\n  return {}\n}\n\nfunction saveVerification(state: VerificationState) {\n  try {\n    sessionStorage.setItem(STORAGE_KEY, JSON.stringify(state))\n  } catch {}\n}\n\ninterface StepTrustSignalsProps {\n  data: Partial<TrustSignalsFormData>\n  onSubmit: (data: TrustSignalsFormData) => void\n  onBack: () => void\n  isSubmitting?: boolean\n}\n\nexport function StepTrustSignals({ data, onSubmit, onBack, isSubmitting }: StepTrustSignalsProps) {\n  const [verification, setVerification] = useState<VerificationState>({})\n  const [referralLoading, setReferralLoading] = useState(false)\n  const [referralError, setReferralError] = useState('')\n  const [uniSendLoading, setUniSendLoading] = useState(false)\n  const [uniCodeSent, setUniCodeSent] = useState(false)\n  const [uniVerifyLoading, setUniVerifyLoading] = useState(false)\n  const [uniError, setUniError] = useState('')\n  const [uniCode, setUniCode] = useState('')\n  const [uniToken, setUniToken] = useState('')\n  const [uniExpiresAt, setUniExpiresAt] = useState('')\n  const [accelQuery, setAccelQuery] = useState(data.acceleratorName ?? '')\n  const [accelSuggestions, setAccelSuggestions] = useState<string[]>([])\n  const [showAccelDropdown, setShowAccelDropdown] = useState(false)\n  const accelRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    setVerification(loadVerification())\n  }, [])\n\n  // Close dropdown on outside click\n  useEffect(() => {\n    function handleClick(e: MouseEvent) {\n      if (accelRef.current && !accelRef.current.contains(e.target as Node)) {\n        setShowAccelDropdown(false)\n      }\n    }\n    document.addEventListener('mousedown', handleClick)\n    return () => document.removeEventListener('mousedown', handleClick)\n  }, [])\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    watch,\n  } = useForm<TrustSignalsFormData>({\n    resolver: zodResolver(trustSignalsSchema),\n    defaultValues: {\n      hasReferral: data.hasReferral ?? false,\n      referralCode: data.referralCode ?? '',\n      referralVerified: data.referralVerified ?? false,\n      referrerName: data.referrerName ?? '',\n      hasUniversityEmail: data.hasUniversityEmail ?? false,\n      universityEmail: data.universityEmail ?? '',\n      universityEmailVerified: data.universityEmailVerified ?? false,\n      hasAccelerator: data.hasAccelerator ?? false,\n      acceleratorName: data.acceleratorName ?? '',\n      acceleratorVerified: data.acceleratorVerified ?? false,\n      hasEmployerVerification: data.hasEmployerVerification ?? false,\n      employerName: data.employerName ?? '',\n    },\n  })\n\n  const hasReferral = watch('hasReferral')\n  const referralCode = watch('referralCode')\n  const hasUniversityEmail = watch('hasUniversityEmail')\n  const universityEmail = watch('universityEmail')\n  const hasAccelerator = watch('hasAccelerator')\n  const hasEmployerVerification = watch('hasEmployerVerification')\n\n  // Sync verification state with form on load\n  useEffect(() => {\n    if (verification.referral?.verified) {\n      setValue('hasReferral', true)\n      setValue('referralVerified', true)\n      setValue('referrerName', verification.referral.referrerName)\n      setValue('referralCode', verification.referral.code)\n    }\n    if (verification.university?.verified) {\n      setValue('hasUniversityEmail', true)\n      setValue('universityEmailVerified', true)\n      setValue('universityEmail', verification.university.email)\n    }\n    if (verification.accelerator) {\n      setValue('hasAccelerator', true)\n      setValue('acceleratorVerified', verification.accelerator.verified)\n      setValue('acceleratorName', verification.accelerator.name)\n      setAccelQuery(verification.accelerator.name)\n    }\n  }, [verification, setValue])\n\n  const updateVerification = useCallback((update: Partial<VerificationState>) => {\n    setVerification(prev => {\n      const next = { ...prev, ...update }\n      saveVerification(next)\n      return next\n    })\n  }, [])\n\n  // === REFERRAL ===\n  const verifyReferral = async () => {\n    if (!referralCode?.trim()) return\n    setReferralLoading(true)\n    setReferralError('')\n    try {\n      const res = await fetch('/api/verify/trust-signals', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ type: 'referral', code: referralCode.trim() }),\n      })\n      const data = await res.json()\n      if (!res.ok) {\n        setReferralError(data.error)\n        return\n      }\n      setValue('referralVerified', true)\n      setValue('referrerName', data.referrerName)\n      updateVerification({ referral: { verified: true, referrerName: data.referrerName, code: data.code } })\n    } catch {\n      setReferralError('Failed to verify. Please try again.')\n    } finally {\n      setReferralLoading(false)\n    }\n  }\n\n  // === UNIVERSITY ===\n  const sendUniCode = async () => {\n    if (!universityEmail?.trim()) return\n    setUniSendLoading(true)\n    setUniError('')\n    try {\n      const res = await fetch('/api/verify/trust-signals', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ type: 'university-send', email: universityEmail.trim() }),\n      })\n      const data = await res.json()\n      if (!res.ok) {\n        setUniError(data.error)\n        return\n      }\n      setUniToken(data.token)\n      setUniExpiresAt(data.expiresAt)\n      setUniCodeSent(true)\n    } catch {\n      setUniError('Failed to send code. Please try again.')\n    } finally {\n      setUniSendLoading(false)\n    }\n  }\n\n  const verifyUniCode = async () => {\n    if (!uniCode.trim() || !universityEmail) return\n    setUniVerifyLoading(true)\n    setUniError('')\n    try {\n      const res = await fetch('/api/verify/trust-signals', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ type: 'university-verify', email: universityEmail.trim(), code: uniCode.trim(), token: uniToken, expiresAt: uniExpiresAt }),\n      })\n      const data = await res.json()\n      if (!res.ok) {\n        setUniError(data.error)\n        return\n      }\n      setValue('universityEmailVerified', true)\n      updateVerification({ university: { verified: true, email: universityEmail.trim() } })\n    } catch {\n      setUniError('Failed to verify. Please try again.')\n    } finally {\n      setUniVerifyLoading(false)\n    }\n  }\n\n  // === ACCELERATOR ===\n  const handleAccelInput = (value: string) => {\n    setAccelQuery(value)\n    setValue('acceleratorName', value)\n    if (value.length >= 2) {\n      setAccelSuggestions(searchAccelerators(value))\n      setShowAccelDropdown(true)\n    } else {\n      setAccelSuggestions([])\n      setShowAccelDropdown(false)\n    }\n    // Clear verified if user changes input\n    if (verification.accelerator) {\n      setValue('acceleratorVerified', false)\n      updateVerification({ accelerator: undefined })\n    }\n  }\n\n  const selectAccelerator = async (name: string) => {\n    setAccelQuery(name)\n    setValue('acceleratorName', name)\n    setValue('hasAccelerator', true)\n    setShowAccelDropdown(false)\n\n    try {\n      const res = await fetch('/api/verify/trust-signals', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ type: 'accelerator', name }),\n      })\n      const data = await res.json()\n      if (res.ok) {\n        setValue('acceleratorVerified', data.isKnown)\n        updateVerification({ accelerator: { verified: data.isKnown, name } })\n      }\n    } catch {\n      // Silently fail â€” form still works\n    }\n  }\n\n  const checkCustomAccelerator = async () => {\n    if (!accelQuery.trim()) return\n    try {\n      const res = await fetch('/api/verify/trust-signals', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ type: 'accelerator', name: accelQuery.trim() }),\n      })\n      const data = await res.json()\n      if (res.ok) {\n        setValue('acceleratorVerified', data.isKnown)\n        updateVerification({ accelerator: { verified: data.isKnown, name: accelQuery.trim() } })\n      }\n    } catch {}\n  }\n\n  // On submit, merge verification state\n  const onFormSubmit = (formData: TrustSignalsFormData) => {\n    const merged: TrustSignalsFormData = {\n      ...formData,\n      referralVerified: verification.referral?.verified ?? formData.referralVerified ?? false,\n      referrerName: verification.referral?.referrerName ?? formData.referrerName ?? '',\n      universityEmailVerified: verification.university?.verified ?? formData.universityEmailVerified ?? false,\n      acceleratorVerified: verification.accelerator?.verified ?? formData.acceleratorVerified ?? false,\n    }\n    onSubmit(merged)\n  }\n\n  return (\n    <form onSubmit={handleSubmit(onFormSubmit)} className=\"space-y-6\">\n      <p className=\"text-sm text-zinc-400\">\n        These optional signals can boost your Trust Score. Verified signals earn significantly more points.\n      </p>\n\n      {/* REFERRAL */}\n      <div className=\"rounded-lg border border-white/[0.08] bg-white/[0.03] p-4\">\n        <div className=\"flex items-start gap-4\">\n          <Checkbox\n            id=\"hasReferral\"\n            checked={hasReferral}\n            onCheckedChange={(checked) => {\n              setValue('hasReferral', !!checked)\n              if (!checked) {\n                setValue('referralVerified', false)\n                setValue('referrerName', '')\n                updateVerification({ referral: undefined })\n              }\n            }}\n          />\n          <div className=\"flex-1\">\n            <Label htmlFor=\"hasReferral\" className=\"text-base font-medium text-zinc-200\">\n              Referral from Verified Founder\n            </Label>\n            <p className=\"mt-1 text-sm text-zinc-400\">\n              Were you referred by a verified BedRock founder? (+10 pts verified, +3 pts unverified)\n            </p>\n            {hasReferral && (\n              <div className=\"mt-3\">\n                {verification.referral?.verified ? (\n                  <div className=\"rounded-md border border-green-500/30 bg-green-500/10 p-3 flex items-center gap-2\">\n                    <CheckCircle className=\"h-4 w-4 text-green-400 shrink-0\" />\n                    <span className=\"text-sm text-green-300\">\n                      Referred by <strong>{verification.referral.referrerName}</strong>\n                    </span>\n                  </div>\n                ) : (\n                  <div className=\"flex gap-2\">\n                    <Input\n                      placeholder=\"Enter referral code\"\n                      {...register('referralCode')}\n                      className=\"flex-1\"\n                    />\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={verifyReferral}\n                      disabled={referralLoading || !referralCode?.trim()}\n                      className=\"border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05] shrink-0\"\n                    >\n                      {referralLoading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : 'Verify'}\n                    </Button>\n                  </div>\n                )}\n                {referralError && (\n                  <p className=\"mt-2 text-sm text-red-400\">{referralError}</p>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* UNIVERSITY EMAIL */}\n      <div className=\"rounded-lg border border-white/[0.08] bg-white/[0.03] p-4\">\n        <div className=\"flex items-start gap-4\">\n          <Checkbox\n            id=\"hasUniversityEmail\"\n            checked={hasUniversityEmail}\n            onCheckedChange={(checked) => {\n              setValue('hasUniversityEmail', !!checked)\n              if (!checked) {\n                setValue('universityEmailVerified', false)\n                setUniCodeSent(false)\n                setUniCode('')\n                setUniError('')\n                updateVerification({ university: undefined })\n              }\n            }}\n          />\n          <div className=\"flex-1\">\n            <Label htmlFor=\"hasUniversityEmail\" className=\"text-base font-medium text-zinc-200\">\n              Secondary Email Verification\n            </Label>\n            <p className=\"mt-1 text-sm text-zinc-400\">\n              Verify a secondary email you own (+3 pts verified, +1 pt unverified)\n            </p>\n            {hasUniversityEmail && (\n              <div className=\"mt-3 space-y-3\">\n                {verification.university?.verified ? (\n                  <div className=\"rounded-md border border-green-500/30 bg-green-500/10 p-3 flex items-center gap-2\">\n                    <CheckCircle className=\"h-4 w-4 text-green-400 shrink-0\" />\n                    <span className=\"text-sm text-green-300\">\n                      Email verified: <strong>{verification.university.email}</strong>\n                    </span>\n                  </div>\n                ) : !uniCodeSent ? (\n                  <div className=\"flex gap-2\">\n                    <Input\n                      type=\"email\"\n                      placeholder=\"your.name@example.com\"\n                      {...register('universityEmail')}\n                      className=\"flex-1\"\n                    />\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={sendUniCode}\n                      disabled={uniSendLoading || !universityEmail?.trim()}\n                      className=\"border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05] shrink-0 gap-1\"\n                    >\n                      {uniSendLoading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <><Send className=\"h-3 w-3\" /> Send Code</>}\n                    </Button>\n                  </div>\n                ) : (\n                  <div className=\"space-y-2\">\n                    <p className=\"text-xs text-zinc-400\">\n                      A 6-digit code has been sent to <strong className=\"text-zinc-300\">{universityEmail}</strong>\n                    </p>\n                    <div className=\"flex gap-2\">\n                      <Input\n                        placeholder=\"Enter 6-digit code\"\n                        value={uniCode}\n                        onChange={(e) => setUniCode(e.target.value)}\n                        maxLength={6}\n                        className=\"flex-1 font-mono tracking-widest\"\n                      />\n                      <Button\n                        type=\"button\"\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={verifyUniCode}\n                        disabled={uniVerifyLoading || uniCode.length < 6}\n                        className=\"border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05] shrink-0\"\n                      >\n                        {uniVerifyLoading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : 'Verify'}\n                      </Button>\n                    </div>\n                    <button\n                      type=\"button\"\n                      onClick={() => { setUniCodeSent(false); setUniCode(''); setUniError('') }}\n                      className=\"text-xs text-blue-400 hover:text-blue-300 flex items-center gap-1\"\n                    >\n                      <RefreshCw className=\"h-3 w-3\" /> Resend code\n                    </button>\n                  </div>\n                )}\n                {uniError && (\n                  <p className=\"text-sm text-red-400\">{uniError}</p>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* ACCELERATOR */}\n      <div className=\"rounded-lg border border-white/[0.08] bg-white/[0.03] p-4\">\n        <div className=\"flex items-start gap-4\">\n          <Checkbox\n            id=\"hasAccelerator\"\n            checked={hasAccelerator}\n            onCheckedChange={(checked) => {\n              setValue('hasAccelerator', !!checked)\n              if (!checked) {\n                setValue('acceleratorVerified', false)\n                setValue('acceleratorName', '')\n                setAccelQuery('')\n                setAccelSuggestions([])\n                updateVerification({ accelerator: undefined })\n              }\n            }}\n          />\n          <div className=\"flex-1\">\n            <Label htmlFor=\"hasAccelerator\" className=\"text-base font-medium text-zinc-200\">\n              Startup Accelerator/Incubator\n            </Label>\n            <p className=\"mt-1 text-sm text-zinc-400\">\n              Select from known accelerators (+5 pts verified, +2 pts unverified)\n            </p>\n            {hasAccelerator && (\n              <div className=\"mt-3\">\n                {verification.accelerator?.verified ? (\n                  <div className=\"rounded-md border border-green-500/30 bg-green-500/10 p-3 flex items-center gap-2\">\n                    <CheckCircle className=\"h-4 w-4 text-green-400 shrink-0\" />\n                    <span className=\"text-sm text-green-300\">\n                      Verified accelerator: <strong>{verification.accelerator.name}</strong>\n                    </span>\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        updateVerification({ accelerator: undefined })\n                        setValue('acceleratorVerified', false)\n                        setAccelQuery('')\n                        setValue('acceleratorName', '')\n                      }}\n                      className=\"ml-auto text-xs text-zinc-500 hover:text-zinc-300\"\n                    >\n                      Change\n                    </button>\n                  </div>\n                ) : verification.accelerator && !verification.accelerator.verified ? (\n                  <div className=\"space-y-2\">\n                    <div className=\"rounded-md border border-orange-500/30 bg-orange-500/10 p-3 flex items-center gap-2\">\n                      <AlertTriangle className=\"h-4 w-4 text-orange-400 shrink-0\" />\n                      <span className=\"text-sm text-orange-300\">\n                        &ldquo;{verification.accelerator.name}&rdquo; is not in our database. Reduced points will apply.\n                      </span>\n                    </div>\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        updateVerification({ accelerator: undefined })\n                        setValue('acceleratorVerified', false)\n                        setAccelQuery('')\n                        setValue('acceleratorName', '')\n                      }}\n                      className=\"text-xs text-blue-400 hover:text-blue-300\"\n                    >\n                      Try a different name\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"relative\" ref={accelRef}>\n                    <Input\n                      placeholder=\"Start typing accelerator name...\"\n                      value={accelQuery}\n                      onChange={(e) => handleAccelInput(e.target.value)}\n                      onBlur={() => {\n                        // Delay to allow click on dropdown item\n                        setTimeout(() => {\n                          if (accelQuery.trim() && !verification.accelerator) {\n                            checkCustomAccelerator()\n                          }\n                        }, 200)\n                      }}\n                    />\n                    {showAccelDropdown && accelSuggestions.length > 0 && (\n                      <div className=\"absolute z-10 mt-1 w-full rounded-md border border-white/[0.1] bg-zinc-900 shadow-lg max-h-48 overflow-y-auto\">\n                        {accelSuggestions.map((name) => (\n                          <button\n                            key={name}\n                            type=\"button\"\n                            className=\"w-full text-left px-3 py-2 text-sm text-zinc-200 hover:bg-white/[0.05] transition-colors\"\n                            onMouseDown={(e) => e.preventDefault()}\n                            onClick={() => selectAccelerator(name)}\n                          >\n                            {name}\n                          </button>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* EMPLOYER */}\n      <div className=\"rounded-lg border border-white/[0.08] bg-white/[0.03] p-4\">\n        <div className=\"flex items-start gap-4\">\n          <Checkbox\n            id=\"hasEmployerVerification\"\n            checked={hasEmployerVerification}\n            onCheckedChange={(checked) => setValue('hasEmployerVerification', !!checked)}\n          />\n          <div className=\"flex-1\">\n            <Label htmlFor=\"hasEmployerVerification\" className=\"text-base font-medium text-zinc-200\">\n              Employer Verification\n            </Label>\n            <p className=\"mt-1 text-sm text-zinc-400\">\n              Current or previous employer (+2 pts, self-reported)\n            </p>\n            {hasEmployerVerification && (\n              <div className=\"mt-3\">\n                <Input\n                  placeholder=\"Company name\"\n                  {...register('employerName')}\n                />\n                <p className=\"mt-1 text-xs text-zinc-500\">Self-reported. No verification required.</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex justify-between pt-4\">\n        <Button type=\"button\" variant=\"ghost\" onClick={onBack} className=\"gap-2 border border-white/[0.1] text-zinc-300 hover:text-zinc-200 hover:bg-white/[0.05]\" disabled={isSubmitting}>\n          <ArrowLeft className=\"h-4 w-4\" />\n          Back\n        </Button>\n        <Button type=\"submit\" variant=\"ghost\" className=\"gap-2 bg-gradient-to-r from-blue-500 to-violet-600 hover:from-blue-600 hover:to-violet-700 hover:text-white text-white border-0 shadow-[0_0_20px_rgba(59,130,246,0.15)] hover:shadow-[0_0_25px_rgba(59,130,246,0.3)] transition-shadow\" disabled={isSubmitting}>\n          {isSubmitting ? (\n            <>\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\n              Calculating...\n            </>\n          ) : (\n            <>\n              <CheckCircle className=\"h-4 w-4\" />\n              See My Trust Score\n            </>\n          )}\n        </Button>\n      </div>\n    </form>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8786, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/components/onboarding/index.ts"],"sourcesContent":["export { ProgressIndicator } from './progress-indicator'\nexport { StepBasicInfo } from './step-basic-info'\nexport { StepIdentity } from './step-identity'\nexport { StepCodeHistory } from './step-code-history'\nexport { StepProfessional } from './step-professional'\nexport { StepFinancial } from './step-financial'\nexport { StepDigitalPresence } from './step-digital-presence'\nexport { StepTrustSignals } from './step-trust-signals'\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 8807, "column": 0}, "map": {"version":3,"sources":["file:///Users/rahmanbazarov/Data/programming/BedRock/src/app/onboarding/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useCallback } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link'\nimport { Shield } from 'lucide-react'\nimport {\n  ProgressIndicator,\n  StepBasicInfo,\n  StepIdentity,\n  StepCodeHistory,\n  StepProfessional,\n  StepFinancial,\n  StepDigitalPresence,\n  StepTrustSignals,\n} from '@/components/onboarding'\nimport {\n  BasicInfoFormData,\n  IdentityFormData,\n  CodeHistoryFormData,\n  ProfessionalFormData,\n  FinancialFormData,\n  DigitalPresenceFormData,\n  TrustSignalsFormData,\n} from '@/lib/validations/onboarding'\n\nconst steps = [\n  { id: 1, name: 'Basic Info', description: 'Your details' },\n  { id: 2, name: 'Identity', description: 'Verification docs' },\n  { id: 3, name: 'Code History', description: 'Digital Lineage' },\n  { id: 4, name: 'Professional', description: 'LinkedIn graph' },\n  { id: 5, name: 'Financial', description: 'Revenue signals' },\n  { id: 6, name: 'Presence', description: 'Digital footprint' },\n  { id: 7, name: 'Trust Signals', description: 'Boost your score' },\n]\n\nconst STEP_STORAGE_KEY = 'onboarding_current_step'\nconst BASIC_INFO_STORAGE_KEY = 'onboarding_basic_info'\nconst STEP_DATA_STORAGE_KEY = 'onboarding_step_data'\n\ninterface OnboardingData {\n  basicInfo: Partial<BasicInfoFormData>\n  identity: Partial<IdentityFormData>\n  codeHistory: Partial<CodeHistoryFormData>\n  professional: Partial<ProfessionalFormData>\n  financial: Partial<FinancialFormData>\n  digitalPresence: Partial<DigitalPresenceFormData>\n  trustSignals: Partial<TrustSignalsFormData>\n}\n\nexport default function OnboardingPage() {\n  const router = useRouter()\n  const [currentStep, setCurrentStep] = useState(1)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [isHydrated, setIsHydrated] = useState(false)\n  const [data, setData] = useState<OnboardingData>({\n    basicInfo: {},\n    identity: {},\n    codeHistory: {},\n    professional: {},\n    financial: {},\n    digitalPresence: {},\n    trustSignals: {},\n  })\n\n  // Restore all step data from sessionStorage on mount (survives OAuth redirects / refreshes)\n  useEffect(() => {\n    try {\n      const savedStep = sessionStorage.getItem(STEP_STORAGE_KEY)\n      if (savedStep) {\n        const step = parseInt(savedStep, 10)\n        if (step >= 1 && step <= 7) {\n          setCurrentStep(step)\n        }\n      }\n      const savedBasicInfo = sessionStorage.getItem(BASIC_INFO_STORAGE_KEY)\n      if (savedBasicInfo) {\n        setData((prev) => ({ ...prev, basicInfo: JSON.parse(savedBasicInfo) }))\n      }\n      const savedStepData = sessionStorage.getItem(STEP_DATA_STORAGE_KEY)\n      if (savedStepData) {\n        const parsed = JSON.parse(savedStepData)\n        setData((prev) => ({\n          ...prev,\n          identity: parsed.identity ?? prev.identity,\n          codeHistory: parsed.codeHistory ?? prev.codeHistory,\n          professional: parsed.professional ?? prev.professional,\n          financial: parsed.financial ?? prev.financial,\n          digitalPresence: parsed.digitalPresence ?? prev.digitalPresence,\n        }))\n      }\n    } catch {\n      // Ignore sessionStorage errors\n    }\n    setIsHydrated(true)\n  }, [])\n\n  // Persist step to sessionStorage on every change\n  const updateStep = useCallback((step: number) => {\n    setCurrentStep(step)\n    try {\n      sessionStorage.setItem(STEP_STORAGE_KEY, step.toString())\n    } catch {\n      // Ignore sessionStorage errors\n    }\n  }, [])\n\n  // Persist step data to sessionStorage (survives OAuth redirects)\n  const saveStepData = useCallback((key: string, value: unknown) => {\n    try {\n      const existing = sessionStorage.getItem(STEP_DATA_STORAGE_KEY)\n      const parsed = existing ? JSON.parse(existing) : {}\n      // Strip File objects before saving (not serializable)\n      const serializable = JSON.parse(JSON.stringify(value))\n      parsed[key] = serializable\n      sessionStorage.setItem(STEP_DATA_STORAGE_KEY, JSON.stringify(parsed))\n    } catch { /* ignore */ }\n  }, [])\n\n  const handleBasicInfoNext = (basicInfo: BasicInfoFormData) => {\n    setData((prev) => ({ ...prev, basicInfo }))\n    try {\n      sessionStorage.setItem(BASIC_INFO_STORAGE_KEY, JSON.stringify(basicInfo))\n    } catch { /* ignore */ }\n    updateStep(2)\n  }\n\n  const handleIdentityNext = (identity: IdentityFormData) => {\n    setData((prev) => ({ ...prev, identity }))\n    saveStepData('identity', identity)\n    updateStep(3)\n  }\n\n  const handleCodeHistoryNext = (codeHistory: CodeHistoryFormData) => {\n    setData((prev) => ({ ...prev, codeHistory }))\n    saveStepData('codeHistory', codeHistory)\n    updateStep(4)\n  }\n\n  const handleProfessionalNext = (professional: ProfessionalFormData) => {\n    setData((prev) => ({ ...prev, professional }))\n    saveStepData('professional', professional)\n    updateStep(5)\n  }\n\n  const handleFinancialNext = (financial: FinancialFormData) => {\n    setData((prev) => ({ ...prev, financial }))\n    saveStepData('financial', financial)\n    updateStep(6)\n  }\n\n  const handleDigitalPresenceNext = (digitalPresence: DigitalPresenceFormData) => {\n    setData((prev) => ({ ...prev, digitalPresence }))\n    saveStepData('digitalPresence', digitalPresence)\n    updateStep(7)\n  }\n\n  const handleTrustSignalsSubmit = async (trustSignals: TrustSignalsFormData) => {\n    setIsSubmitting(true)\n    const finalData = { ...data, trustSignals }\n\n    // Merge OAuth data from sessionStorage into submission\n    try {\n      const githubData = sessionStorage.getItem('oauth_github_data')\n      const linkedinData = sessionStorage.getItem('oauth_linkedin_data')\n      const stripeData = sessionStorage.getItem('oauth_stripe_data')\n\n      if (githubData) {\n        finalData.codeHistory = {\n          ...finalData.codeHistory,\n          githubConnected: true,\n          hasGithub: true,\n        }\n      }\n      if (linkedinData) {\n        finalData.professional = {\n          ...finalData.professional,\n          linkedinConnected: true,\n          hasLinkedin: true,\n        }\n      }\n      if (stripeData) {\n        finalData.financial = {\n          ...finalData.financial,\n          hasStripeConnected: true,\n        }\n      }\n    } catch {\n      // Ignore sessionStorage errors\n    }\n\n    try {\n      sessionStorage.setItem('onboardingData', JSON.stringify(finalData))\n\n      const response = await fetch('/api/trust-score/calculate', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(finalData),\n      })\n\n      const result = await response.json()\n      sessionStorage.setItem('trustScoreResult', JSON.stringify(result))\n\n      // Clean up OAuth and step storage\n      try {\n        sessionStorage.removeItem(STEP_STORAGE_KEY)\n        sessionStorage.removeItem('oauth_github_data')\n        sessionStorage.removeItem('oauth_linkedin_data')\n        sessionStorage.removeItem('oauth_stripe_data')\n        sessionStorage.removeItem('digital_presence_verification')\n        sessionStorage.removeItem('trust_signals_verification')\n        sessionStorage.removeItem('identity_extraction')\n        sessionStorage.removeItem('identity_face_match')\n        sessionStorage.removeItem('identity_basic_info')\n        sessionStorage.removeItem(BASIC_INFO_STORAGE_KEY)\n        sessionStorage.removeItem(STEP_DATA_STORAGE_KEY)\n      } catch {\n        // Ignore cleanup errors\n      }\n\n      router.push('/onboarding/result')\n    } catch (error) {\n      console.error('Error calculating trust score:', error)\n      router.push('/onboarding/result')\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  const handleBack = () => {\n    updateStep(Math.max(1, currentStep - 1))\n  }\n\n  // Don't render steps until hydrated to avoid flash of wrong step\n  if (!isHydrated) {\n    return (\n      <div className=\"dark min-h-screen bg-[#09090b] text-white py-12 relative overflow-hidden\">\n        <div className=\"absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[600px] opacity-40\">\n          <div className=\"absolute top-0 left-1/4 w-96 h-96 bg-blue-600/30 rounded-full blur-[128px]\" />\n          <div className=\"absolute top-20 right-1/4 w-80 h-80 bg-violet-600/25 rounded-full blur-[128px]\" />\n        </div>\n        <div className=\"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:64px_64px]\" />\n\n        <div className=\"relative mx-auto max-w-2xl px-4\">\n          <div className=\"mb-8 text-center\">\n            <Link href=\"/\" className=\"inline-flex items-center gap-2.5 group\">\n              <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-violet-600\">\n                <Shield className=\"h-5 w-5 text-white\" />\n              </div>\n              <span className=\"text-lg font-semibold tracking-tight text-white\">BedRock</span>\n            </Link>\n          </div>\n          <div className=\"rounded-2xl border border-white/[0.08] bg-white/[0.03] p-8 backdrop-blur-sm\">\n            <h2 className=\"text-xl font-bold text-white\">Check Your Eligibility</h2>\n            <p className=\"mt-1 text-sm text-zinc-400\">Loading...</p>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"dark min-h-screen bg-[#09090b] text-white py-12 relative overflow-hidden\">\n      {/* Background gradient orbs */}\n      <div className=\"absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[600px] opacity-40\">\n        <div className=\"absolute top-0 left-1/4 w-96 h-96 bg-blue-600/30 rounded-full blur-[128px]\" />\n        <div className=\"absolute top-20 right-1/4 w-80 h-80 bg-violet-600/25 rounded-full blur-[128px]\" />\n      </div>\n\n      {/* Grid pattern */}\n      <div className=\"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:64px_64px]\" />\n\n      <div className=\"relative mx-auto max-w-2xl px-4\">\n        <div className=\"mb-8 text-center\">\n          <Link href=\"/\" className=\"inline-flex items-center gap-2.5 group\">\n            <div className=\"flex h-9 w-9 items-center justify-center rounded-lg bg-gradient-to-br from-blue-500 to-violet-600 transition-transform duration-300 group-hover:scale-105\">\n              <Shield className=\"h-5 w-5 text-white\" />\n            </div>\n            <span className=\"text-lg font-semibold tracking-tight text-white\">BedRock</span>\n          </Link>\n        </div>\n\n        <div className=\"rounded-2xl border border-white/[0.08] bg-white/[0.03] p-6 sm:p-8 backdrop-blur-sm\">\n          <div className=\"mb-6\">\n            <h2 className=\"text-xl font-bold text-white\">Check Your Eligibility</h2>\n            <p className=\"mt-1 text-sm text-zinc-400\">\n              Complete these steps to calculate your Trust Score and see your bank account options.\n            </p>\n          </div>\n\n          <ProgressIndicator steps={steps} currentStep={currentStep} />\n\n          {currentStep === 1 && (\n            <StepBasicInfo\n              data={data.basicInfo}\n              onNext={handleBasicInfoNext}\n            />\n          )}\n\n          {currentStep === 2 && (\n            <StepIdentity\n              data={data.identity}\n              basicInfo={data.basicInfo}\n              onNext={handleIdentityNext}\n              onBack={handleBack}\n            />\n          )}\n\n          {currentStep === 3 && (\n            <StepCodeHistory\n              data={data.codeHistory}\n              founderName={data.basicInfo.fullName}\n              onNext={handleCodeHistoryNext}\n              onBack={handleBack}\n            />\n          )}\n\n          {currentStep === 4 && (\n            <StepProfessional\n              data={data.professional}\n              founderName={data.basicInfo.fullName}\n              onNext={handleProfessionalNext}\n              onBack={handleBack}\n            />\n          )}\n\n          {currentStep === 5 && (\n            <StepFinancial\n              data={data.financial}\n              onNext={handleFinancialNext}\n              onBack={handleBack}\n            />\n          )}\n\n          {currentStep === 6 && (\n            <StepDigitalPresence\n              data={data.digitalPresence}\n              founderName={data.basicInfo.fullName}\n              onNext={handleDigitalPresenceNext}\n              onBack={handleBack}\n            />\n          )}\n\n          {currentStep === 7 && (\n            <StepTrustSignals\n              data={data.trustSignals}\n              onSubmit={handleTrustSignalsSubmit}\n              onBack={handleBack}\n              isSubmitting={isSubmitting}\n            />\n          )}\n        </div>\n\n        <p className=\"mt-6 text-center text-sm text-zinc-500\">\n          Already have an account?{' '}\n          <Link href=\"/login\" className=\"text-blue-400 hover:text-blue-300 transition-colors\">\n            Sign in\n          </Link>\n        </p>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}