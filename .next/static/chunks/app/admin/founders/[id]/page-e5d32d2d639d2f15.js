(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9287],{1068:(e,s,t)=>{Promise.resolve().then(t.bind(t,26687))},18349:(e,s,t)=>{"use strict";t.d(s,{T:()=>i});var a=t(95155);t(12115);var r=t(40980);function i({className:e,...s}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}},26687:(e,s,t)=>{"use strict";t.d(s,{FounderDetailClient:()=>F});var a=t(95155),r=t(12115),i=t(98500),n=t.n(i),l=t(73321),d=t(81477),c=t(89239),o=t(45160),x=t(60529),u=t(33807),m=t(18349),h=t(18460),p=t(57518),g=t(40980);function f({className:e,orientation:s="horizontal",...t}){return(0,a.jsx)(p.Root,{"data-slot":"tabs","data-orientation":s,orientation:s,className:(0,g.cn)("group/tabs flex gap-2 data-[orientation=horizontal]:flex-col",e),...t})}let j=(0,h.F)("rounded-lg p-[3px] group-data-[orientation=horizontal]/tabs:h-9 data-[variant=line]:rounded-none group/tabs-list text-muted-foreground inline-flex w-fit items-center justify-center group-data-[orientation=vertical]/tabs:h-fit group-data-[orientation=vertical]/tabs:flex-col",{variants:{variant:{default:"bg-muted",line:"gap-1 bg-transparent"}},defaultVariants:{variant:"default"}});function v({className:e,variant:s="default",...t}){return(0,a.jsx)(p.List,{"data-slot":"tabs-list","data-variant":s,className:(0,g.cn)(j({variant:s}),e),...t})}function b({className:e,...s}){return(0,a.jsx)(p.Trigger,{"data-slot":"tabs-trigger",className:(0,g.cn)("focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground/60 hover:text-foreground dark:text-muted-foreground dark:hover:text-foreground relative inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-all group-data-[orientation=vertical]/tabs:w-full group-data-[orientation=vertical]/tabs:justify-start focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 group-data-[variant=default]/tabs-list:data-[state=active]:shadow-sm group-data-[variant=line]/tabs-list:data-[state=active]:shadow-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4","group-data-[variant=line]/tabs-list:bg-transparent group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:border-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent","data-[state=active]:bg-background dark:data-[state=active]:text-foreground dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 data-[state=active]:text-foreground","after:bg-foreground after:absolute after:opacity-0 after:transition-opacity group-data-[orientation=horizontal]/tabs:after:inset-x-0 group-data-[orientation=horizontal]/tabs:after:bottom-[-5px] group-data-[orientation=horizontal]/tabs:after:h-0.5 group-data-[orientation=vertical]/tabs:after:inset-y-0 group-data-[orientation=vertical]/tabs:after:-right-1 group-data-[orientation=vertical]/tabs:after:w-0.5 group-data-[variant=line]/tabs-list:data-[state=active]:after:opacity-100",e),...s})}function y({className:e,...s}){return(0,a.jsx)(p.Content,{"data-slot":"tabs-content",className:(0,g.cn)("flex-1 outline-none",e),...s})}var N=t(42763),w=t(29991),_=t(80723);let k=(0,t(90425).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var A=t(94514),S=t(33210),C=t(42869),R=t(50049),M=t(57420),P=t(48368),T=t(439),E=t(5899),Z=t(29885);function z({className:e,value:s,...t}){return(0,a.jsx)(Z.Root,{"data-slot":"progress",className:(0,g.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...t,children:(0,a.jsx)(Z.Indicator,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}var B=t(66609);let O=[{value:"elite",label:"Elite"},{value:"approved",label:"Approved"},{value:"review_needed",label:"Review Needed"},{value:"conditional",label:"Conditional"},{value:"not_eligible",label:"Not Eligible"}];function F({founder:e,trustScore:s,documents:t,verifications:i,company:h,bankApplication:p}){var g;let j=(0,l.useRouter)(),[Z,z]=(0,r.useState)(!1),[F,I]=(0,r.useState)(s?String(s.total_score):"0"),[V,W]=(0,r.useState)(s?.status||"review_needed"),[$,H]=(0,r.useState)(""),[J,G]=(0,r.useState)(!1),L=async()=>{G(!0);try{(await fetch("/api/trust-score",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({founderId:e.id,totalScore:parseInt(F),status:V,reason:$})})).ok?(B.oR.success("Trust score overridden successfully"),z(!1),j.refresh()):B.oR.error("Failed to override trust score")}catch{B.oR.error("Failed to override trust score")}finally{G(!1)}},U=async()=>{try{(await fetch("/api/founders",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({founderId:e.id,status:"active"})})).ok&&(B.oR.success("Founder approved"),j.refresh())}catch{B.oR.error("Failed to approve founder")}},q=async()=>{try{(await fetch("/api/founders",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({founderId:e.id,status:"churned"})})).ok&&(B.oR.success("Founder rejected"),j.refresh())}catch{B.oR.error("Failed to reject founder")}},Q=s?.total_score,X=s?.status;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)(n(),{href:"/admin/applications",className:"mb-4 inline-flex items-center gap-1 text-sm text-gray-500 hover:text-gray-900",children:[(0,a.jsx)(_.A,{className:"h-4 w-4"}),"Back to Applications"]}),(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-blue-100 text-2xl font-bold text-blue-600",children:e.full_name.charAt(0)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:e.full_name}),(0,a.jsx)("p",{className:"text-gray-500",children:h?h.name:"No company"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(N.lG,{open:Z,onOpenChange:z,children:[(0,a.jsx)(N.zM,{asChild:!0,children:(0,a.jsxs)(c.$,{variant:"outline",className:"gap-2",children:[(0,a.jsx)(k,{className:"h-4 w-4"}),"Override Score"]})}),(0,a.jsxs)(N.Cf,{children:[(0,a.jsxs)(N.c7,{children:[(0,a.jsx)(N.L3,{children:"Override Trust Score"}),(0,a.jsx)(N.rr,{children:"Manually adjust the trust score and status for this founder."})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.J,{children:"New Score (0-100)"}),(0,a.jsx)(x.p,{type:"number",min:"0",max:"100",value:F,onChange:e=>I(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.J,{children:"New Status"}),(0,a.jsxs)(w.l6,{value:V,onValueChange:W,children:[(0,a.jsx)(w.bq,{children:(0,a.jsx)(w.yv,{})}),(0,a.jsx)(w.gC,{children:O.map(e=>(0,a.jsx)(w.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.J,{children:"Reason for Override"}),(0,a.jsx)(m.T,{value:$,onChange:e=>H(e.target.value),placeholder:"Explain why you're overriding the score...",rows:3})]}),(0,a.jsx)(c.$,{onClick:L,className:"w-full",disabled:J,children:J?"Saving...":"Save Override"})]})]})]}),(0,a.jsxs)(c.$,{className:"gap-2 bg-green-600 hover:bg-green-700",onClick:U,children:[(0,a.jsx)(A.A,{className:"h-4 w-4"}),"Approve"]}),(0,a.jsxs)(c.$,{variant:"destructive",className:"gap-2",onClick:q,children:[(0,a.jsx)(S.A,{className:"h-4 w-4"}),"Reject"]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(f,{defaultValue:"overview",children:[(0,a.jsxs)(v,{children:[(0,a.jsx)(b,{value:"overview",children:"Overview"}),(0,a.jsx)(b,{value:"verifications",children:"Verifications"}),(0,a.jsx)(b,{value:"documents",children:"Documents"})]}),(0,a.jsxs)(y,{value:"overview",className:"mt-6 space-y-6",children:[(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{children:(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2 text-base",children:[(0,a.jsx)(C.A,{className:"h-5 w-5"}),"Personal Information"]})}),(0,a.jsxs)(d.Wu,{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Full Name"}),(0,a.jsx)("p",{className:"font-medium",children:e.full_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,a.jsx)("p",{className:"font-medium",children:e.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Phone"}),(0,a.jsx)("p",{className:"font-medium",children:e.phone||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Country of Origin"}),(0,a.jsx)("p",{className:"font-medium",children:e.country_of_origin||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Country of Residence"}),(0,a.jsx)("p",{className:"font-medium",children:e.country_of_residence||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Member Since"}),(0,a.jsx)("p",{className:"font-medium",children:(0,E.GP)(new Date(e.created_at),"MMM d, yyyy")})]})]})]}),h&&(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{children:(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2 text-base",children:[(0,a.jsx)(R.A,{className:"h-5 w-5"}),"Company Information"]})}),(0,a.jsxs)(d.Wu,{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Company Name"}),(0,a.jsx)("p",{className:"font-medium",children:h.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"State"}),(0,a.jsx)("p",{className:"font-medium",children:h.state||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Formation Status"}),(0,a.jsx)(o.E,{children:h.formation_status||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"EIN"}),(0,a.jsx)("p",{className:"font-medium",children:h.ein||"Not assigned"})]}),h.website?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Website"}),(0,a.jsx)("p",{className:"font-medium text-blue-600",children:h.website})]}):null]})]}),p&&(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{children:(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2 text-base",children:[(0,a.jsx)(R.A,{className:"h-5 w-5"}),"Bank Application"]})}),(0,a.jsxs)(d.Wu,{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Bank"}),(0,a.jsx)("p",{className:"font-medium",children:p.bank_name||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,a.jsx)(o.E,{children:p.status||"N/A"})]}),p.submitted_at?(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Submitted"}),(0,a.jsx)("p",{className:"font-medium",children:(0,E.GP)(new Date(p.submitted_at),"MMM d, yyyy")})]}):null]})]})]}),(0,a.jsx)(y,{value:"verifications",className:"mt-6",children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{children:"Verification Status"}),(0,a.jsx)(d.BT,{children:"Track the verification progress for this founder."})]}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:0===i.length?(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No verifications yet."}):i.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:["verified"===e.status?(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-green-100",children:(0,a.jsx)(A.A,{className:"h-4 w-4 text-green-600"})}):"pending"===e.status?(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-yellow-100",children:(0,a.jsx)(M.A,{className:"h-4 w-4 text-yellow-600"})}):(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-100",children:(0,a.jsx)(S.A,{className:"h-4 w-4 text-gray-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.verification_type}),e.verified_at?(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Verified ",(0,E.GP)(new Date(e.verified_at),"MMM d, yyyy")]}):null]})]}),(0,a.jsx)(o.E,{className:"verified"===e.status?"bg-green-100 text-green-700":"pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700",children:"verified"===e.status?"Verified":"pending"===e.status?"Pending":e.status})]},e.id))})})]})}),(0,a.jsx)(y,{value:"documents",className:"mt-6",children:(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{children:"Uploaded Documents"}),(0,a.jsx)(d.BT,{children:"Review and verify submitted documents."})]}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:0===t.length?(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No documents uploaded yet."}):t.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(P.A,{className:"h-8 w-8 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.file_name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.type," â€¢ Uploaded"," ",(0,E.GP)(new Date(e.created_at),"MMM d, yyyy")]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(o.E,{className:e.verified?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700",children:e.verified?"Verified":"Pending"})})]},e.id))})})]})})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{children:(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2 text-base",children:[(0,a.jsx)(T.A,{className:"h-5 w-5"}),"Trust Score"]})}),(0,a.jsx)(d.Wu,{children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:`text-5xl font-bold ${(g=Q||0)>=80?"text-green-600":g>=70?"text-blue-600":g>=50?"text-yellow-600":"text-red-600"}`,children:Q}),(0,a.jsx)(o.E,{className:`mt-2 ${function(e){switch(e){case"elite":return"bg-green-100 text-green-700";case"approved":return"bg-blue-100 text-blue-700";case"review_needed":return"bg-yellow-100 text-yellow-700";case"conditional":return"bg-orange-100 text-orange-700";case"not_eligible":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}}(X||"")}`,children:(X||"pending").split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}),s.manual_override?(0,a.jsx)("p",{className:"mt-2 text-xs text-orange-600",children:"* Manually overridden"}):null]}),(0,a.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,a.jsx)(D,{label:"Digital Lineage",value:s.digital_lineage_score||0,max:40}),(0,a.jsx)(D,{label:"Business",value:s.business_score||0,max:25}),(0,a.jsx)(D,{label:"Identity",value:s.identity_score||0,max:20}),(0,a.jsx)(D,{label:"Network",value:s.network_score||0,max:15})]})]}):(0,a.jsx)("p",{className:"text-center text-sm text-gray-500",children:"No trust score calculated"})})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{children:(0,a.jsx)(d.ZB,{className:"text-base",children:"Quick Stats"})}),(0,a.jsxs)(d.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Documents"}),(0,a.jsxs)("span",{className:"font-medium",children:[t.filter(e=>e.verified).length,"/",t.length," verified"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Verifications"}),(0,a.jsxs)("span",{className:"font-medium",children:[i.filter(e=>"verified"===e.status).length,"/",i.length," complete"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Status"}),(0,a.jsx)(o.E,{children:e.status||"N/A"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Tier"}),(0,a.jsx)("span",{className:"font-medium capitalize",children:e.tier||"N/A"})]})]})]})]})]})]})}function D({label:e,value:s,max:t}){return(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:e}),(0,a.jsxs)("span",{className:"font-medium text-gray-700",children:[s,"/",t]})]}),(0,a.jsx)(z,{value:t>0?s/t*100:0,className:"h-2"})]})}},42869:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(90425).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},60529:(e,s,t)=>{"use strict";t.d(s,{p:()=>i});var a=t(95155);t(12115);var r=t(40980);function i({className:e,type:s,...t}){return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}},73321:(e,s,t)=>{"use strict";var a=t(74645);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},80723:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(90425).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}},e=>{e.O(0,[850,8500,2342,6609,5899,7590,4833,7028,8441,3794,7358],()=>e(e.s=1068)),_N_E=e.O()}]);