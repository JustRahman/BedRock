(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2957],{7453:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(95155),r=s(12115),d=s(81477),i=s(45160),l=s(84980),n=s(13545),c=s(52484),o=s(57420),m=s(79276),u=s(13295),x=s(5899);function h(){let[e,t]=(0,r.useState)([]),[s,h]=(0,r.useState)(!0),[p,g]=(0,r.useState)("all");async function f(){try{let e=await fetch("/api/compliance");if(e.ok){let s=await e.json();t(s.deadlines??[])}}catch{}finally{h(!1)}}if((0,r.useEffect)(()=>{f()},[]),s)return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"h-8 w-56 animate-pulse rounded bg-muted"}),(0,a.jsx)("div",{className:"mt-2 h-4 w-72 animate-pulse rounded bg-muted"})]}),(0,a.jsx)("div",{className:"mb-8 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(d.Zp,{children:(0,a.jsx)(d.Wu,{className:"p-6",children:(0,a.jsx)("div",{className:"h-16 animate-pulse rounded bg-muted"})})},t))}),(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(d.Zp,{children:(0,a.jsx)(d.Wu,{className:"p-6",children:(0,a.jsx)("div",{className:"h-16 animate-pulse rounded bg-muted"})})},t))})]});let v=[...e].sort((e,t)=>new Date(e.due_date).getTime()-new Date(t.due_date).getTime()).filter(e=>"upcoming"===p?!e.completed:"completed"!==p||e.completed),j=e.filter(e=>!e.completed).length,b=e.filter(e=>!e.completed&&(0,m.R)(new Date(e.due_date))).length,N=e.filter(e=>e.completed).length;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Compliance Calendar"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Your compliance deadlines and filings. BedRock handles these for you."})]}),(0,a.jsxs)("div",{className:"mb-6 sm:mb-8 grid grid-cols-3 gap-3 sm:gap-4",children:[(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{className:"pb-2",children:(0,a.jsx)(d.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Upcoming"})}),(0,a.jsx)(d.Wu,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.A,{className:"h-5 w-5 text-blue-400"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-foreground",children:j})]})})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{className:"pb-2",children:(0,a.jsx)(d.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Overdue"})}),(0,a.jsx)(d.Wu,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"h-5 w-5 text-red-400"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-red-400",children:b})]})})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{className:"pb-2",children:(0,a.jsx)(d.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Completed"})}),(0,a.jsx)(d.Wu,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 text-emerald-400"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-emerald-400",children:N})]})})]})]}),(0,a.jsx)("div",{className:"mb-6 flex gap-2",children:["all","upcoming","completed"].map(e=>(0,a.jsx)("button",{onClick:()=>g(e),className:`rounded-md px-3 py-1.5 text-sm font-medium transition-colors ${p===e?"bg-white/[0.1] text-white border border-white/[0.15]":"text-zinc-500 hover:text-zinc-300 hover:bg-white/[0.05] border border-transparent"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),0===v.length?(0,a.jsx)(d.Zp,{children:(0,a.jsxs)(d.Wu,{className:"py-12 text-center",children:[(0,a.jsx)(o.A,{className:"mx-auto mb-3 h-10 w-10 text-muted-foreground/50"}),(0,a.jsx)("p",{className:"font-medium text-foreground",children:"No deadlines found"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"all"===p?"No compliance deadlines yet.":`No ${p} deadlines.`})]})}):(0,a.jsx)("div",{className:"space-y-4",children:v.map(e=>{let t=new Date(e.due_date),s=(0,u.c)(t,new Date),r=(0,m.R)(t)&&!e.completed;return(0,a.jsx)(d.Zp,{className:`transition-opacity ${e.completed?"opacity-60":""}`,children:(0,a.jsxs)(d.Wu,{className:"flex items-start gap-3 p-3 sm:gap-4 sm:p-4",children:[(0,a.jsx)("div",{className:"mt-1",children:e.completed?(0,a.jsx)(c.A,{className:"h-5 w-5 text-emerald-400"}):r?(0,a.jsx)(n.A,{className:"h-5 w-5 text-red-400"}):(0,a.jsx)(l.A,{className:"h-5 w-5 text-blue-400"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:`font-medium ${e.completed?"text-muted-foreground line-through":"text-foreground"}`,children:e.title}),e.description&&(0,a.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:e.description})]}),r&&(0,a.jsx)(i.E,{className:"bg-red-500/15 text-red-400 border-red-500/20",children:"Overdue"})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,x.GP)(t,"MMM d, yyyy")]}),!e.completed&&(0,a.jsx)("span",{className:`font-medium ${r?"text-red-400":s<=7?"text-yellow-400":"text-muted-foreground"}`,children:r?`${Math.abs(s)} days overdue`:0===s?"Due today":`${s} days remaining`}),e.completed&&e.completed_at&&(0,a.jsxs)("span",{className:"text-emerald-400",children:["Completed ",(0,x.GP)(new Date(e.completed_at),"MMM d, yyyy")]})]})]})]})},e.id)})})]})}},13295:(e,t,s)=>{"use strict";s.d(t,{c:()=>d});var a=s(70061),r=s(73521);function d(e,t,s){let[d,l]=(0,a.x)(s?.in,e,t),n=i(d,l),c=Math.abs((0,r.m)(d,l));d.setDate(d.getDate()-n*c);let o=Number(i(d,l)===-n),m=n*(c-o);return 0===m?0:m}function i(e,t){let s=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return s<0?-1:s>0?1:s}},13545:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(90425).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},30757:(e,t,s)=>{Promise.resolve().then(s.bind(s,7453))},40980:(e,t,s)=>{"use strict";s.d(t,{cn:()=>d});var a=s(29722),r=s(622);function d(...e){return(0,r.QP)((0,a.$)(e))}},45160:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var a=s(95155);s(12115);var r=s(18460),d=s(42442),i=s(40980);let l=(0,r.F)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function n({className:e,variant:t="default",asChild:s=!1,...r}){let n=s?d.bL:"span";return(0,a.jsx)(n,{"data-slot":"badge","data-variant":t,className:(0,i.cn)(l({variant:t}),e),...r})}},52484:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(90425).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},57420:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(90425).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},79276:(e,t,s)=>{"use strict";s.d(t,{R:()=>r});var a=s(92477);function r(e){return+(0,a.a)(e)<Date.now()}},81477:(e,t,s)=>{"use strict";s.d(t,{BT:()=>n,Wu:()=>c,ZB:()=>l,Zp:()=>d,aR:()=>i});var a=s(95155);s(12115);var r=s(40980);function d({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function l({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...t})}function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...t})}function c({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...t})}},84980:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(90425).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])}},e=>{e.O(0,[850,5899,8441,3794,7358],()=>e(e.s=30757)),_N_E=e.O()}]);