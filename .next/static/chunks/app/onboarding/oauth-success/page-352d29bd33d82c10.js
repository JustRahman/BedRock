(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[164],{439:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(2806).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},2806:(e,r,t)=>{"use strict";t.d(r,{A:()=>c});var s=t(2115);let a=(...e)=>e.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim(),n=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:o="",children:c,iconNode:l,...u},d)=>(0,s.createElement)("svg",{ref:d,...i,width:r,height:r,stroke:e,strokeWidth:n?24*Number(t)/Number(r):t,className:a("lucide",o),...!c&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0;return!1})(u)&&{"aria-hidden":"true"},...u},[...l.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(c)?c:[c]])),c=(e,r)=>{let t=(0,s.forwardRef)(({className:t,...i},c)=>(0,s.createElement)(o,{ref:c,iconNode:r,className:a(`lucide-${n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,t),...i}));return t.displayName=n(e),t}},3321:(e,r,t)=>{"use strict";var s=t(4645);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},5110:(e,r,t)=>{Promise.resolve().then(t.bind(t,6244))},6244:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(5155),a=t(3321),n=t(2115),i=t(439),o=t(6296);function c(){let e=(0,a.useSearchParams)(),r=(0,a.useRouter)(),[t,c]=(0,n.useState)("loading"),[l,u]=(0,n.useState)(""),d=e.get("provider"),m=e.get("session"),h=e.get("error");return(0,n.useEffect)(()=>{if(h){c("error"),u(decodeURIComponent(h)),setTimeout(()=>r.replace("/onboarding"),2e3);return}if(!d||!m){c("error"),u("Missing provider or session information"),setTimeout(()=>r.replace("/onboarding"),2e3);return}!async function(){try{let e=await fetch(`/api/oauth/${d}/data?session=${m}`);if(!e.ok)throw Error("Failed to fetch OAuth data");let t=await e.json();sessionStorage.setItem(`oauth_${d}_data`,JSON.stringify(t)),c("success"),r.replace("/onboarding")}catch(e){c("error"),u(e instanceof Error?e.message:"Unknown error"),setTimeout(()=>r.replace("/onboarding"),2e3)}}()},[d,m,h,r]),(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 mb-4",children:(0,s.jsx)(i.A,{className:"h-6 w-6 text-blue-600"})}),"loading"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),(0,s.jsxs)("p",{className:"text-gray-600",children:["Connecting your ",d," account..."]})]}),"success"===t&&(0,s.jsx)("p",{className:"text-green-600 font-medium",children:"Connected! Redirecting back..."}),"error"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-red-600 font-medium",children:"Connection failed"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:l}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Redirecting back..."})]})]})})}function l(){return(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)(o.A,{className:"h-8 w-8 animate-spin text-blue-600"})}),children:(0,s.jsx)(c,{})})}},6296:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(2806).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},e=>{e.O(0,[8441,3794,7358],()=>e(e.s=5110)),_N_E=e.O()}]);